<!doctype html><html lang=en class=no-js> 
<!-- Mirrored from vectorbt.pro/pvt_54404668/cookbook/data/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 16:01:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Recipes for data"><meta name=author content="Oleg Polakow"><link href=https://vectorbt.pro/cookbook/data/ rel=canonical><link href=../cross-validation/index.html rel=prev><link href=../datetime/index.html rel=next><link rel=icon href=../../assets/logo/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.18+insiders-4.53.6"><title>Data - VectorBT PRO</title><link rel=stylesheet href=../../assets/stylesheets/main.d5b5f0fd.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/extra.css><link rel=stylesheet href=../../assets/stylesheets/custom-light.css><link rel=stylesheet href=../../assets/stylesheets/custom-dark.css><link rel=stylesheet href=../../assets/stylesheets/pygments-light.css><link rel=stylesheet href=../../assets/stylesheets/pygments-dark.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-0C5VNYCFHL"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-0C5VNYCFHL",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-0C5VNYCFHL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><meta name=robots content=noindex><meta property=og:title content=Data><meta property=og:type content=website><meta content=https://vectorbt.pro/cookbook/data/ property=og:url><meta property=og:image:url content=https://vectorbt.pro/pvt_54404668/assets/logo/social-new.png><meta property=og:image:type content=image/png><meta property=og:description content="Recipes for data"><meta property=og:locale content=en-GB><link rel=apple-touch-icon sizes=180x180 href=../../assets/logo/apple-touch-icon.png><link rel=icon type=image/svg+xml href=../../assets/logo/favicon.svg><link rel=icon type=image/png sizes=32x32 href=../../assets/logo/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../assets/logo/favicon-16x16.png><link rel=manifest href=../../assets/logo/site.webmanifest><link rel=mask-icon href=../../assets/logo/safari-pinned-tab.svg color=#1e1f22><link rel="shortcut icon" href=../../assets/logo/favicon.ico><meta name=msapplication-TileColor content=#1e1f22><meta name=msapplication-config content=https://vectorbt.pro/pvt_54404668/assets/logo/browserconfig.xml><meta name=theme-color content=#1e1f22><link href=https://unpkg.com/aos@2.3.4/dist/aos.css rel=stylesheet><script src=https://unpkg.com/aos@2.3.4/dist/aos.js></script><link href=http://fonts.cdnfonts.com/css/uni-neue rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=preconnect href=https://fonts.googleapis.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin></head> <body dir=ltr data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#data class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <i>New</i>: Smart Money Concepts, Hurst exponent, tasks, iterated decorator, and <a href=../../features/index.html><strong>more</strong></a> <span class="twemoji announce-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m153.6 29.9 16-21.3c4-5.4 10.4-8.6 17.1-8.6C198.4 0 208 9.6 208 21.3v22.2c0 13.1 5.4 25.7 14.9 34.7l84.7 80.8c48.8 46.6 76.4 111.2 76.4 178.7C384 434 306 512 209.7 512H192C86 512 0 426 0 320v-3.8c0-48.8 19.4-95.6 53.9-130.1l3.5-3.5c4.2-4.2 10-6.6 16-6.6 12.5 0 22.6 10.1 22.6 22.6V288c0 35.3 28.7 64 64 64s64-28.7 64-64v-3.9c0-18-7.2-35.3-19.9-48l-38.6-38.6c-24-24-37.5-56.7-37.5-90.7 0-27.7 9-54.8 25.6-76.9z"/></svg></span> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <!-- Determine class according to configuration --> <!-- Header --> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <!-- Link to home --> <a href=../../index.html title="VectorBT PRO" class="md-header__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../assets/logo/logo.svg alt=logo class=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VectorBT PRO <span class=md-version> v2024.6.19 </span> <span class=unlock-icon><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 64c-44.2 0-80 35.8-80 80v48h240c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16v-48C80 64.5 144.5 0 224 0c57.5 0 107 33.7 130.1 82.3 7.6 16 .8 35.1-15.2 42.6s-35.1.8-42.6-15.2C283.4 82.6 255.9 64 224 64zm32 320c17.7 0 32-14.3 32-32s-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32s14.3 32 32 32h64z"/></svg></span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Data </span> </div> </div> </div> <!-- Color palette --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=custom-light data-md-color-primary=custom-light data-md-color-accent=custom-light aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../features/overview/index.html class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../tutorials/overview/index.html class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../documentation/overview/index.html class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=../../api/index.html class=md-tabs__link> API </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../overview/index.html class=md-tabs__link> Cookbook </a> </li> <li class=md-tabs__item> <a href=../../terms/terms-of-use/index.html class=md-tabs__link> Terms </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title="VectorBT PRO" class="md-nav__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../assets/logo/logo.svg alt=logo class=logo> </a> VectorBT PRO </label> <div class=md-nav__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../index.html class=md-nav__link> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../features/overview/index.html class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tutorials/overview/index.html class=md-nav__link> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../documentation/overview/index.html class=md-nav__link> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../api/index.html class=md-nav__link> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/index.html class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../arrays/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 2h14a2 2 0 0 1 2 2v12c0 1.11-.89 2-2 2H7a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2m0 4v4h6V6H7m8 0v4h6V6h-6m-8 6v4h6v-4H7m8 0v4h6v-4h-6M3 20V6H1v14c0 1.11.89 2 2 2h16v-2H3Z"/></svg> <span class=md-ellipsis> Arrays </span> </a> </li> <li class=md-nav__item> <a href=../benchmarking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 5a7 7 0 0 1 7 7h1v3h-1v4H9a7 7 0 0 1-7-7 7 7 0 0 1 7-7m0 3a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m8 9h5v4h-2v-2h-3v-2Z"/></svg> <span class=md-ellipsis> Benchmarking </span> </a> </li> <li class=md-nav__item> <a href=../caching/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 8-4 4h3a6 6 0 0 1-6 6c-1 0-1.97-.25-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20a8 8 0 0 0 8-8h3M6 12a6 6 0 0 1 6-6c1 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4a8 8 0 0 0-8 8H1l4 4 4-4"/></svg> <span class=md-ellipsis> Caching </span> </a> </li> <li class=md-nav__item> <a href=../compilation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> Compilation </span> </a> </li> <li class=md-nav__item> <a href=../configuration/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../cross-validation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Cross-validation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#listing class=md-nav__link> <span class=md-ellipsis> Listing </span> </a> </li> <li class=md-nav__item> <a href=#pulling class=md-nav__link> <span class=md-ellipsis> Pulling </span> </a> </li> <li class=md-nav__item> <a href=#persisting class=md-nav__link> <span class=md-ellipsis> Persisting </span> </a> </li> <li class=md-nav__item> <a href=#updating class=md-nav__link> <span class=md-ellipsis> Updating </span> </a> </li> <li class=md-nav__item> <a href=#wrapping class=md-nav__link> <span class=md-ellipsis> Wrapping </span> </a> </li> <li class=md-nav__item> <a href=#extracting class=md-nav__link> <span class=md-ellipsis> Extracting </span> </a> </li> <li class=md-nav__item> <a href=#changing class=md-nav__link> <span class=md-ellipsis> Changing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../datetime/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <span class=md-ellipsis> Datetime </span> </a> </li> <li class=md-nav__item> <a href=../discovery/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3h6v4H3V3m12 7h6v4h-6v-4m0 7h6v4h-6v-4m-2-4H7v5h6v2H5V9h2v2h6v2Z"/></svg> <span class=md-ellipsis> Discovery </span> </a> </li> <li class=md-nav__item> <a href=../indexing/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 20.5c0 .8-.7 1.5-1.5 1.5H13c-.4 0-.7-.1-1-.4l-4-4.2.7-.8c.2-.2.5-.3.8-.3h.2L12 18V9c0-.6.4-1 1-1s1 .4 1 1v4.5l1.2.1 3.9 2.2c.5.2.9.8.9 1.3v3.4M20 2H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h4v-2H4V4h16v8h-2v2h2c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2Z"/></svg> <span class=md-ellipsis> Indexing </span> </a> </li> <li class=md-nav__item> <a href=../indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> Indicators </span> </a> </li> <li class=md-nav__item> <a href=../optimization/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16h-.58l-.81-.81A7.07 7.07 0 0 0 18 11c0-3.87-3.13-7-7-7-1.5 0-3 .5-4.21 1.4-3.09 2.32-3.72 6.71-1.4 9.8 2.32 3.09 6.71 3.72 9.8 1.4l.81.81V18l5 5 2-2-5-5m-7 0c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5M3 6 1 8V1h7L6 3H3v3m18-5v7l-2-2V3h-3l-2-2h7M6 19l2 2H1v-7l2 2v3h3Z"/></svg> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../persistence/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 12h2v5h16v-5h2v5c0 1.11-.89 2-2 2H4a2 2 0 0 1-2-2v-5m10 3 5.55-5.46-1.42-1.41L13 11.25V2h-2v9.25L7.88 8.13 6.46 9.55 12 15Z"/></svg> <span class=md-ellipsis> Persistence </span> </a> </li> <li class=md-nav__item> <a href=../plotting/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=../signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> Signals </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../terms/terms-of-use/index.html class=md-nav__link> <span class=md-ellipsis> Terms </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=data><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg></span> Data<a class=headerlink href=#data title="Permanent link">&para;</a></h1> <div class="admonition question"> <p class=admonition-title>Question</p> <p>Learn more in <a href=../../documentation/data/index.html >Data documentation</a>.</p> </div> <p>There are plenty of supported data sources for OHLC and indicator data. For the full list, see the <a href=../../api/data/custom/index.html >custom</a> module. </p> <h2 id=listing>Listing<a class=headerlink href=#listing title="Permanent link">&para;</a></h2> <p>Many classes have a class method to list all symbols that can be fetched. Usually, such as method starts with <code>list_</code>, for example, <a href=../../api/data/custom/tv/index.html#vectorbtpro.data.custom.tv.TVData.list_symbols>TVData.list_symbols</a>, <a href=../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.list_tables>SQLData.list_tables</a>, or <a href=../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData.list_paths>CSVData.list_paths</a>. In addition, most methods allow client-side filtering of symbols by a glob-style or regex-style pattern.</p> <div class="language-python highlight"><span class=filename>Various ways to list symbols</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>all_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>usdt_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=s2>&quot;*USDT&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>usdt_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^.+USDT$&quot;</span><span class=p>,</span> <span class=n>use_regex</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>all_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>()</span>  <span class=c1># (3)!</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>nasdaq_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=n>exchange_pattern</span><span class=o>=</span><span class=s2>&quot;NASDAQ&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>btc_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=n>symbol_pattern</span><span class=o>=</span><span class=s2>&quot;BTC*&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>pl_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=n>market</span><span class=o>=</span><span class=s2>&quot;poland&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>usdt_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span><span class=n>fields</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;currency&quot;</span><span class=p>],</span> <span class=n>filter_by</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;USDT&quot;</span><span class=p>])</span>  <span class=c1># (7)!</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=k>def</span> <span class=nf>filter_by</span><span class=p>(</span><span class=n>market_cap_basic</span><span class=p>):</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=k>if</span> <span class=n>market_cap_basic</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>        <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=k>return</span> <span class=n>market_cap_basic</span> <span class=o>&gt;=</span> <span class=mi>1_000_000_000_000</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=n>trillion_symbols</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>list_symbols</span><span class=p>(</span>  <span class=c1># (8)!</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>    <span class=n>fields</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;market_cap_basic&quot;</span><span class=p>],</span> 
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>    <span class=n>filter_by</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepFunc</span><span class=p>(</span><span class=n>filter_by</span><span class=p>)</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=p>)</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=n>all_paths</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>FileData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>()</span>  <span class=c1># (9)!</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=n>csv_paths</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>()</span>  <span class=c1># (10)!</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=n>all_csv_paths</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>(</span><span class=s2>&quot;**/*.csv&quot;</span><span class=p>)</span>  <span class=c1># (11)!</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=n>all_data_paths</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=n>all_paths</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>()</span>  <span class=c1># (13)!</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=n>all_schemas</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>list_schemas</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (14)!</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=n>all_tables</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>list_tables</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span></code></pre></div> <ol> <li>List all Binance symbols</li> <li>List Binance symbols ending with "USDT"</li> <li>List all TradingView symbols</li> <li>List TradingView symbols traded on NASDAQ</li> <li>List TradingView symbols starting with "BTC"</li> <li>List TradingView symbols traded in Poland</li> <li>List TradingView symbols traded in USD currency</li> <li>List TradingView symbols that have a market capitalization of 1 trillion or higher</li> <li>List all files under the current directory</li> <li>List CSV files under the current directory</li> <li>List CSV files under the current directory and all subdirectories</li> <li>List all keys in an HDF file "data.h5"</li> <li>List all keys in all HDF files under the current directory</li> <li>List all schemas in a SQL database</li> <li>List all tables in a SQL database</li> </ol> <h2 id=pulling>Pulling<a class=headerlink href=#pulling title="Permanent link">&para;</a></h2> <p>Each class has the method <code>fetch_symbol()</code> for fetching a single symbol and returning raw data, usually in a form of a DataFrame. To return a data instance, the method <code>pull()</code> should be used, which takes one or multiple symbols, calls <code>fetch_symbol()</code> on each one, and aligns all DataFrames. For testing, use <a href=../../api/data/custom/yf/index.html#vectorbtpro.data.custom.yf.YFData>YFData</a>, which is easy to use but poor in terms of quality. For production, use more reliable data sources, such as <a href=../../api/data/custom/ccxt/index.html#vectorbtpro.data.custom.ccxt.CCXTData>CCXTData</a> for crypto and <a href=../../api/data/custom/alpaca/index.html#vectorbtpro.data.custom.alpaca.AlpacaData>AlpacaData</a> for stocks. For technical analysis based on the most recent data, use <a href=../../api/data/custom/tv/index.html#vectorbtpro.data.custom.tv.TVData>TVData</a> (TradingView).</p> <div class="language-python highlight"><span class=filename>Various ways to fetch data</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>])</span>  <span class=c1># (2)!</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020&quot;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2021&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;1 month ago&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;1 month ago&quot;</span><span class=p>,</span> <span class=n>timeframe</span><span class=o>=</span><span class=s2>&quot;hourly&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;UTC&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>symbols</span><span class=p>,</span> <span class=n>execute_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=s2>&quot;threadpool&quot;</span><span class=p>))</span>  <span class=c1># (8)!</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=n>klines_type</span><span class=o>=</span><span class=s2>&quot;futures&quot;</span><span class=p>)</span>  <span class=c1># (9)!</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CCXTData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=n>exchange</span><span class=o>=</span><span class=s2>&quot;binanceusdm&quot;</span><span class=p>)</span>  <span class=c1># (10)!</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=n>tld</span><span class=o>=</span><span class=s2>&quot;us&quot;</span><span class=p>)</span>  <span class=c1># (11)!</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;CRYPTOCAP:TOTAL&quot;</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span></code></pre></div> <ol> <li>Pull all data of one symbol. Note that some classes will return only a subset of data by default.</li> <li>Pull all data of multiple symbols. They will be fetched in a sequential manner (one after another).</li> <li>Pull data starting from 2020-01-01 (inclusive). Dates can be provided as strings, <code>datetime</code> objects, and <code>pd.Timestamp</code> objects. Dates are given the same timezone as the ticker unless the timezone is specified.</li> <li>Pull data between 2020-01-01 (inclusive) and 2021-01-01 (exclusive)</li> <li>Pull data starting 1 month ago. Both <code>start</code> and <code>end</code> arguments support human-readable strings.</li> <li>Pull hourly data starting 1 month ago. Timeframes support human-readable strings.</li> <li>Pull all data and convert it to the UTC timezone. Use this when multiple tickers have different timezones.</li> <li>Pull multiple symbols in parallel. Note that many data providers have strict API rate limits that might lead to a ban if they are exceeded often.</li> <li>Pull BTC/USDT futures data from Binance</li> <li>Same as above but by using CCXT</li> <li>Pass <code>tld</code> if you are using an exchange from the US, Japan or other TLD</li> <li>Pull <a href="https://www.tradingview.com/chart/r7sfuYga/?symbol=CRYPTOCAP%3ATOTAL">Crypto Total Market Cap</a></li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>To provide different keyword arguments for different symbols, either pass an argument as <a href=../../api/data/base/index.html#vectorbtpro.data.base.symbol_dict>symbol_dict</a> or pass a dictionary with keyword arguments keyed by symbol as the first argument.</p> <div class="language-python highlight"><span class=filename>Various ways to provide keyword arguments by symbol</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=p>[</span><span class=s2>&quot;SPX&quot;</span><span class=p>,</span> <span class=s2>&quot;NDX&quot;</span><span class=p>,</span> <span class=s2>&quot;VIX&quot;</span><span class=p>],</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>exchange</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>({</span><span class=s2>&quot;SPX&quot;</span><span class=p>:</span> <span class=s2>&quot;SP&quot;</span><span class=p>,</span> <span class=s2>&quot;NDX&quot;</span><span class=p>:</span> <span class=s2>&quot;NASDAQ&quot;</span><span class=p>,</span> <span class=s2>&quot;VIX&quot;</span><span class=p>:</span> <span class=s2>&quot;CBOE&quot;</span><span class=p>})</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=p>)</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>({</span>  <span class=c1># (1)!</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>    <span class=s2>&quot;SPX&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>exchange</span><span class=o>=</span><span class=s2>&quot;SP&quot;</span><span class=p>),</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>    <span class=s2>&quot;NDX&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>exchange</span><span class=o>=</span><span class=s2>&quot;NASDAQ&quot;</span><span class=p>),</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=s2>&quot;VIX&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>exchange</span><span class=o>=</span><span class=s2>&quot;CBOE&quot;</span><span class=p>)</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=p>})</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;SP:SPX&quot;</span><span class=p>,</span> <span class=s2>&quot;NASDAQ:NDX&quot;</span><span class=p>,</span> <span class=s2>&quot;CBOE:VIX&quot;</span><span class=p>])</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>Same as above</li> <li>Same as above but now symbols will be prefixed by their exchange</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>If your data provider of choice takes credentials and you want to fetch multiple symbols, the client will be created for each symbol leading to multiple authentications and a slower execution. To avoid that, create the client in advance and then pass to the <code>fetch()</code> method.</p> <div class="language-python highlight"><span class=filename>Create a Data client in advance</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>client</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>resolve_client</span><span class=p>(</span><span class=n>username</span><span class=o>=</span><span class=s2>&quot;YOUR_USERNAME&quot;</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=s2>&quot;YOUR_PASSWORD&quot;</span><span class=p>)</span>
</span></code></pre></div> <div class="language-python highlight"><span class=filename>Use the Data client</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;NASDAQ:AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;NASDAQ:MSFT&quot;</span><span class=p>],</span> <span class=n>client</span><span class=o>=</span><span class=n>client</span><span class=p>)</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>set_custom_settings</span><span class=p>(</span><span class=n>client</span><span class=o>=</span><span class=n>client</span><span class=p>)</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>TVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;NASDAQ:AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;NASDAQ:MSFT&quot;</span><span class=p>])</span>
</span></code></pre></div> <h2 id=persisting>Persisting<a class=headerlink href=#persisting title="Permanent link">&para;</a></h2> <p>Once fetched, the data can be saved in a variety of ways. The most common and recommended way is by pickling the data, which will save the entire object including the arguments used during fetching. Another ways include CSV files (<a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.to_csv>Data.to_csv</a>), HDF files (<a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.to_hdf>Data.to_hdf</a>) and more, which will save only the data but not the accompanied metadata such as the timeframe.</p> <div class="language-python highlight"><span class=filename>Various ways to save data</span><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>data</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=n>data</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>compression</span><span class=o>=</span><span class=s2>&quot;blosc&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>  <span class=c1># (3)!</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&quot;AAPL.csv&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&quot;AAPL.tsv&quot;</span><span class=p>,</span> <span class=n>sep</span><span class=o>=</span><span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span><span class=n>AAPL</span><span class=o>=</span><span class=s2>&quot;AAPL.csv&quot;</span><span class=p>,</span> <span class=n>MSFT</span><span class=o>=</span><span class=s2>&quot;MSFT.csv&quot;</span><span class=p>))</span>  <span class=c1># (6)!</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=n>data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepEval</span><span class=p>(</span><span class=s2>&quot;symbol + &#39;.csv&#39;&quot;</span><span class=p>))</span>  <span class=c1># (7)!</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=n>data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=n>data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>)</span>  <span class=c1># (9)!</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=n>data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepFunc</span><span class=p>(</span><span class=k>lambda</span> <span class=n>symbol</span><span class=p>:</span> <span class=n>symbol</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>)))</span>  <span class=c1># (10)!</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=n>data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepFunc</span><span class=p>(</span><span class=k>lambda</span> <span class=n>symbol</span><span class=p>:</span> <span class=s2>&quot;stocks/&quot;</span> <span class=o>+</span> <span class=n>symbol</span><span class=p>))</span>  <span class=c1># (11)!</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=n>data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>RepEval</span><span class=p>(</span><span class=s2>&quot;symbol + &#39;.h5&#39;&quot;</span><span class=p>),</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;df&quot;</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=n>data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>  <span class=c1># (13)!</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=n>data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>    <span class=n>AAPL</span><span class=o>=</span><span class=s2>&quot;data/AAPL.parquet&quot;</span><span class=p>,</span> 
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>    <span class=n>MSFT</span><span class=o>=</span><span class=s2>&quot;data/MSFT.parquet&quot;</span>
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=p>))</span>  <span class=c1># (14)!</span>
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a><span class=n>data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>partition_by</span><span class=o>=</span><span class=s2>&quot;Y&quot;</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a><span class=n>data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span>
</span><span id=__span-5-23><a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>    <span class=n>AAPL</span><span class=o>=</span><span class=s2>&quot;data/AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-5-24><a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>    <span class=n>MSFT</span><span class=o>=</span><span class=s2>&quot;data/MSFT&quot;</span>
</span><span id=__span-5-25><a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a><span class=p>),</span> <span class=n>partition_by</span><span class=o>=</span><span class=s2>&quot;Y&quot;</span><span class=p>)</span>  <span class=c1># (16)!</span>
</span><span id=__span-5-26><a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a>
</span><span id=__span-5-27><a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=s2>&quot;sqlite:///data.db&quot;</span><span class=p>)</span>  <span class=c1># (17)!</span>
</span><span id=__span-5-28><a id=__codelineno-5-28 name=__codelineno-5-28 href=#__codelineno-5-28></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=s2>&quot;postgresql+psycopg2://postgres:admin@localhost:5432/data&quot;</span><span class=p>)</span>  <span class=c1># (18)!</span>
</span><span id=__span-5-29><a id=__codelineno-5-29 name=__codelineno-5-29 href=#__codelineno-5-29></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yahoo&quot;</span><span class=p>)</span>  <span class=c1># (19)!</span>
</span><span id=__span-5-30><a id=__codelineno-5-30 name=__codelineno-5-30 href=#__codelineno-5-30></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>,</span> <span class=n>table_name</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span><span class=n>AAPL</span><span class=o>=</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>MSFT</span><span class=o>=</span><span class=s2>&quot;MSFT&quot;</span><span class=p>))</span>  <span class=c1># (20)!</span>
</span><span id=__span-5-31><a id=__codelineno-5-31 name=__codelineno-5-31 href=#__codelineno-5-31></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>,</span> <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;replace&quot;</span><span class=p>)</span>  <span class=c1># (21)!</span>
</span><span id=__span-5-32><a id=__codelineno-5-32 name=__codelineno-5-32 href=#__codelineno-5-32></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>,</span> <span class=n>attach_row_number</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (22)!</span>
</span><span id=__span-5-33><a id=__codelineno-5-33 name=__codelineno-5-33 href=#__codelineno-5-33></a><span class=n>data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span>
</span><span id=__span-5-34><a id=__codelineno-5-34 name=__codelineno-5-34 href=#__codelineno-5-34></a>    <span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>,</span> 
</span><span id=__span-5-35><a id=__codelineno-5-35 name=__codelineno-5-35 href=#__codelineno-5-35></a>    <span class=n>attach_row_number</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> 
</span><span id=__span-5-36><a id=__codelineno-5-36 name=__codelineno-5-36 href=#__codelineno-5-36></a>    <span class=n>row_number_column</span><span class=o>=</span><span class=s2>&quot;RN&quot;</span><span class=p>,</span>
</span><span id=__span-5-37><a id=__codelineno-5-37 name=__codelineno-5-37 href=#__codelineno-5-37></a>    <span class=n>from_row_number</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span><span class=n>AAPL</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>MSFT</span><span class=o>=</span><span class=mi>200</span><span class=p>),</span> 
</span><span id=__span-5-38><a id=__codelineno-5-38 name=__codelineno-5-38 href=#__codelineno-5-38></a>    <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;append&quot;</span>
</span><span id=__span-5-39><a id=__codelineno-5-39 name=__codelineno-5-39 href=#__codelineno-5-39></a><span class=p>)</span>  <span class=c1># (23)!</span>
</span></code></pre></div> <ol> <li>Serialize and save to a pickle file (recommended). The filename will be <code>{class_name}.pickle</code>, such as "YFData.pickle".</li> <li>Serialize, apply a compression algorithm to reduce the size, and save to a pickle file</li> <li>Save one CSV file per symbol to a "data" directory. If the directory doesn't exist, create one. Each filename will be <code>{symbol}.csv</code>, such as "AAPL.csv".</li> <li>If there's only one symbol, save it to a comma-delimited file named "AAPL.csv"</li> <li>Same but for a tab-delimited file</li> <li>Specify the file path per symbol</li> <li>Use a template to choose the file path based on the symbol</li> <li>Save all symbols to a single HDF file in the directory "data". The filename will be <code>{class_name}.h5</code>, such as "YFData.pickle". Each symbol will be saved as a separate key, such as "AAPL".</li> <li>Specify the path to the HDF file</li> <li>Use a template to choose the key based on the symbol. Here, the space in each symbol is substituted by the underscore.</li> <li>Use a template to save all symbols under the group "stocks" in the HDF file</li> <li>Save each symbol to a separate HDF file with a key "df"</li> <li>Save one Parquet file per symbol to a "data" directory. Each filename will be <code>{symbol}.parquet</code>, such as "AAPL.parquet".</li> <li>Same as above but specify the path to each file</li> <li>Partition each symbol by year start and save it to a separate sub-directory within the directory "data". Each sub-directory will be named after the symbol.</li> <li>Same as above but specify the path to each sub-directory</li> <li>Save each DataFrame as a table to a SQLite database</li> <li>Same as above but to a PostgreSQL database</li> <li>Specify a schema (if the database supports it!)</li> <li>Specify each table name explicitly</li> <li>Drop any table if it already exists</li> <li>Attach a column with row numbers to each DataFrame to be able to query them later</li> <li>Same as above but generate row numbers from a specific number depending on the symbol, label the column as "RN", and append to an already existing table</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>Once saved, the data can be loaded with the corresponding class method.</p> <div class="language-python highlight"><span class=filename>Various ways to load data</span><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>load</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;data/*.csv&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;data/*/**.csv&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=n>symbols</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD.csv&quot;</span><span class=p>])</span>  <span class=c1># (5)!</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=n>features</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;High.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;Low.csv&quot;</span><span class=p>])</span>  <span class=c1># (6)!</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>paths</span><span class=o>=</span><span class=s2>&quot;polygon_btc_1hour.csv&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;AAPL.tsv&quot;</span><span class=p>,</span> <span class=n>sep</span><span class=o>=</span><span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>([</span><span class=s2>&quot;MSFT.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;AAPL.tsv&quot;</span><span class=p>],</span> <span class=n>sep</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>(</span><span class=n>MSFT</span><span class=o>=</span><span class=s2>&quot;,&quot;</span><span class=p>,</span> <span class=n>AAPL</span><span class=o>=</span><span class=s2>&quot;</span><span class=se>\t</span><span class=s2>&quot;</span><span class=p>))</span>  <span class=c1># (9)!</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;https://datahub.io/core/s-and-p-500/r/data.csv&quot;</span><span class=p>,</span> <span class=n>match_paths</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># (10)!</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>  <span class=c1># (11)!</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>)</span>  <span class=c1># (12)!</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5/AAPL&quot;</span><span class=p>)</span>  <span class=c1># (13)!</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>([</span><span class=s2>&quot;data.h5/AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;data.h5/MSFT&quot;</span><span class=p>])</span>  <span class=c1># (14)!</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>([</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>],</span> <span class=n>paths</span><span class=o>=</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>match_paths</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5/stocks/*&quot;</span><span class=p>)</span>  <span class=c1># (15)!</span>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_parquet</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>  <span class=c1># (16)!</span>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_parquet</span><span class=p>(</span><span class=s2>&quot;AAPL.parquet&quot;</span><span class=p>)</span>  <span class=c1># (17)!</span>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_parquet</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>  <span class=c1># (18)!</span>
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a>
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_sql</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=s2>&quot;sqlite:///data.db&quot;</span><span class=p>)</span>  <span class=c1># (19)!</span>
</span><span id=__span-6-25><a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_sql</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (20)!</span>
</span><span id=__span-6-26><a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_sql</span><span class=p>(</span><span class=s2>&quot;yahoo:AAPL&quot;</span><span class=p>,</span> <span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (21)!</span>
</span><span id=__span-6-27><a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_sql</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yahoo&quot;</span><span class=p>,</span> <span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (22)!</span>
</span><span id=__span-6-28><a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_sql</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>query</span><span class=o>=</span><span class=s2>&quot;SELECT * FROM AAPL&quot;</span><span class=p>,</span> <span class=n>engine</span><span class=o>=</span><span class=n>engine</span><span class=p>)</span>  <span class=c1># (23)!</span>
</span><span id=__span-6-29><a id=__codelineno-6-29 name=__codelineno-6-29 href=#__codelineno-6-29></a>
</span><span id=__span-6-30><a id=__codelineno-6-30 name=__codelineno-6-30 href=#__codelineno-6-30></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>from_csv</span><span class=p>(</span><span class=s2>&quot;BTCUSDT.csv&quot;</span><span class=p>,</span> <span class=n>fetch_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>timeframe</span><span class=o>=</span><span class=s2>&quot;hourly&quot;</span><span class=p>))</span>  <span class=c1># (24)!</span>
</span></code></pre></div> <ol> <li>Load from the pickle file named "YFData.pickle" and deserialize into a Python object (recommended)</li> <li>Pull all CSV files in the directory named "data"</li> <li>Same as above</li> <li>Same as above but recursively</li> <li>Pull two symbols into a symbol-oriented data instance</li> <li>Pull two features into a feature-oriented data instance</li> <li>Pull data from the file "polygon_btc_1hour.csv" and rename the symbol to "BTC-USD"</li> <li>Pull one symbol that is stored in the tab-delimited file "AAPL.tsv"</li> <li>Pull one symbol from the comma-delimited file "MSFT.csv" and another from the tab-delimited file "AAPL.tsv"</li> <li>Pull CSV data from a URL</li> <li>Pull all symbols in all HDF files in the directory named "data", recursively</li> <li>Pull all symbols in the HDF file named "data.h5"</li> <li>Pull the symbol "AAPL" from the HDF file named "data.h5"</li> <li>Pull the symbols "AAPL" and "MSFT" from the HDF file named "data.h5"</li> <li>Pull all symbols under the group "stocks" of the HDF file named "data.h5"</li> <li>Pull all Parquet files and partitioned sub-directories in the directory named "data"</li> <li>Pull one symbol "AAPL" from the Parquet file named "AAPL.parquet"</li> <li>Pull one symbol "AAPL" from the partitioned Parquet directory named "AAPL"</li> <li>Pull all symbols from a SQLite database stored locally in the file "data.db"</li> <li>Pull one symbol "AAPL" by reading a table with the same name</li> <li>Pull one symbol "AAPL" by reading a table with the same name from the schema "yahoo"</li> <li>Same as above but schema won't become part of the symbol</li> <li>Pull one symbol "AAPL" by executing an arbitrary SQL query</li> <li>Pull one symbol from the file "BTCUSDT.csv" and wrap it with the <code>BinanceData</code> class to be able to update it later. To avoid specifying the timeframe while updating, provide it via <code>fetch_kwargs</code>.</li> </ol> <h2 id=updating>Updating<a class=headerlink href=#updating title="Permanent link">&para;</a></h2> <p>Some data classes support fetching and appending new data to previously saved data by overriding the method <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.update_symbol>Data.update_symbol</a>, which scans the data for the latest timestamp and uses it as the start timestamp for fetching new data with <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.fetch_symbol>Data.fetch_symbol</a>. The method <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.update>Data.update</a> then does it for each symbol in the data instance. There's no need to provide the client, timeframe, or other arguments since they were captured during fetching and are reused automatically (unless they were lost by converting the data instance to Pandas, CSV, or HDF!).</p> <div class="language-python highlight"><span class=filename>Download 1-minute data and update it later</span><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>timeframe</span><span class=o>=</span><span class=s2>&quot;1 minute&quot;</span><span class=p>)</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=c1># (1)!</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>update</span><span class=p>()</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>...wait a minute...</li> <li>Returns a new instance</li> </ol> <div class="language-python highlight"><span class=filename>Download one year of data at a time</span><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>start</span> <span class=o>=</span> <span class=mi>2010</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>end</span> <span class=o>=</span> <span class=mi>2020</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>data</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=k>while</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>:</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>    <span class=k>if</span> <span class=n>data</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>start</span><span class=p>),</span> <span class=n>end</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>))</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>        <span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>))</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>    <span class=n>start</span> <span class=o>+=</span> <span class=mi>1</span>
</span></code></pre></div> <h2 id=wrapping>Wrapping<a class=headerlink href=#wrapping title="Permanent link">&para;</a></h2> <p>Custom DataFrame can be wrapped into a data instance by using <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.from_data>Data.from_data</a>, which takes either a single DataFrame for one symbol, or a dict with more DataFrames keyed by their symbols.</p> <div class="language-python highlight"><span class=filename>Create a new Data instance</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>(</span><span class=n>ohlc_df</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>(</span><span class=n>close_df</span><span class=p>,</span> <span class=n>columns_are_symbols</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>(</span><span class=n>close_df</span><span class=p>,</span> <span class=n>columns_are_symbols</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>invert</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>symbol_dict</span><span class=p>({</span><span class=s2>&quot;AAPL&quot;</span><span class=p>:</span> <span class=n>aapl_ohlc_df</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>:</span> <span class=n>msft_ohlc_df</span><span class=p>}))</span>  <span class=c1># (4)!</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>(</span><span class=n>vbt</span><span class=o>.</span><span class=n>feature_dict</span><span class=p>({</span><span class=s2>&quot;High&quot;</span><span class=p>:</span> <span class=n>high_df</span><span class=p>,</span> <span class=s2>&quot;Low&quot;</span><span class=p>:</span> <span class=n>low_df</span><span class=p>}))</span>  <span class=c1># (5)!</span>
</span></code></pre></div> <ol> <li>OHLC DataFrame</li> <li>Close DataFrame where columns are symbols. Store in a feature-oriented format.</li> <li>Close DataFrame where columns are symbols. Store in a symbol-oriented format.</li> <li>Multiple feature DataFrames keyed by symbol</li> <li>Multiple symbol DataFrames keyed by feature</li> </ol> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>You aren't required to use data instances, you can proceed with Pandas and even NumPy arrays as well since VBT converts every array-like object to a NumPy array anyway. But beware that the Pandas format is more suitable than the NumPy format because the former also contains datetime index and backtest configuration metadata such as symbols and parameter combinations in form of columns. Where data instances are essential are symbol alignment, stacking, resampling, and updating.</p> </div> <h2 id=extracting>Extracting<a class=headerlink href=#extracting title="Permanent link">&para;</a></h2> <p>Depending on the use case, there are multiple ways to extract the actual Pandas Series/DataFrame from an instance. To retrieve the original data with one DataFrame per symbol, query the <code>data</code> attribute. Such data contains OHLC and other features (of various data types too) concatenated together, which may be helpful in plotting. But note that VBT doesn't support this format: instead, you're encouraged to represent each feature as a separate DataFrame where columns are symbols. Such a feature can be queried as an attribute (<code>data.close</code> for close price, for example), or by using <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.get>Data.get</a>.</p> <div class="language-python highlight"><span class=filename>Various ways to get symbol-oriented data</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>data_per_symbol</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>data</span>  <span class=c1># (1)!</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>aapl_data</span> <span class=o>=</span> <span class=n>data_per_symbol</span><span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>]</span>  <span class=c1># (2)!</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;Close&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s2>&quot;Close&quot;</span><span class=p>])</span>  <span class=c1># (4)!</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=p>[[</span><span class=s2>&quot;Close&quot;</span><span class=p>]]</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=n>sr</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=n>sr</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;Close&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>symbols</span><span class=o>=</span><span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=n>sr</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=n>df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>])</span>  <span class=c1># (6)!</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=n>df</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;Close&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>symbols</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>])</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=n>df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>([</span><span class=s2>&quot;AAPL&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=n>aapl_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s2>&quot;Open&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>],</span> <span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a><span class=n>close_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>])</span>  <span class=c1># (8)!</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a><span class=n>open_df</span><span class=p>,</span> <span class=n>close_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s2>&quot;Open&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>])</span>  <span class=c1># (9)!</span>
</span></code></pre></div> <ol> <li>Get a dictionary with one (OHLC) Series/DataFrame per symbol ("AAPL", "MSFT", etc.)</li> <li>Extract the (OHLC) Series/DataFrame for "AAPL"</li> <li>Get the closing price as a Series (one symbol) or DataFrame (multiple symbols, one per column)</li> <li>Get the closing price as a DataFrame regardless of the number of symbols</li> <li>Get the closing price for "AAPL" as a Series</li> <li>Get the closing price for "AAPL" as a DataFrame</li> <li>Get the opening and closing price for "AAPL" as a DataFrame with two columns</li> <li>Get the closing price for "AAPL" and "MSFT" as a DataFrame with two columns</li> <li>Get the opening and closing price as a tuple of two DataFrames with the columns "AAPL" and "MSFT" each</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>If a data instance is feature-oriented, the behavior of features and symbols is reversed.</p> <div class="language-python highlight"><span class=filename>Various ways to get feature-oriented data</span><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>data_per_feature</span> <span class=o>=</span> <span class=n>feat_data</span><span class=o>.</span><span class=n>data</span>  <span class=c1># (1)!</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>close_data</span> <span class=o>=</span> <span class=n>data_per_feature</span><span class=p>[</span><span class=s2>&quot;Close&quot;</span><span class=p>]</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>)</span> 
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=n>sr_or_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=n>sr</span> <span class=o>=</span> <span class=n>feat_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=n>sr</span> <span class=o>=</span> <span class=n>feat_data</span><span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>features</span><span class=o>=</span><span class=s2>&quot;Close&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=n>sr</span> <span class=o>=</span> <span class=n>feat_data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>symbols</span><span class=o>=</span><span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=n>aapl_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s2>&quot;Open&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>],</span> <span class=s2>&quot;AAPL&quot;</span><span class=p>)</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=n>close_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>])</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=n>aapl_df</span><span class=p>,</span> <span class=n>msft_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>([</span><span class=s2>&quot;Open&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=s2>&quot;MSFT&quot;</span><span class=p>])</span>  <span class=c1># (4)!</span>
</span></code></pre></div> <ol> <li>In feature-oriented instances data dictionaries contain features as keys and symbols as columns, thus feature Series/DataFrames can be extracted easier</li> <li>Indexing (such as <code>[]</code>) is applied to columns, which are now symbols</li> <li>Various methods (such as <code>select</code>) are applied to keys, which are now features</li> <li>DataFrames are per symbol rather than per feature if a tuple of them is returned</li> </ol> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>To get the same behavior between symbol-oriented and feature-oriented instances, always use <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.get>Data.get</a> to extract the data.</p> </div> <h2 id=changing>Changing<a class=headerlink href=#changing title="Permanent link">&para;</a></h2> <p>There are four main operations to change features and symbols: adding, selecting, renaming, and removing. The first operation can be done on one feature or symbol at a time, while other operations can be done on a multiple of such. Usually, you won't need to specify whether you want to perform the operation on symbols or features as this will be determined automatically. Features and symbols are also case-insensitive. Also note that each operation doesn't change the original data instance but returns a new one.</p> <div class="language-python highlight"><span class=filename>Various ways to add features and symbols</span><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_symbol</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_symbol</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>fetch_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020&quot;</span><span class=p>))</span>  <span class=c1># (2)!</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=n>btc_df</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;ETH-USD&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_symbol</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>btc_df</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_feature</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_feature</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=n>run_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>timeperiod</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>hide_params</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>  <span class=c1># (5)!</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=n>sma_df</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=n>timeperiod</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>hide_params</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>unpack</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add_feature</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=n>sma_df</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>btc_df</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=n>sma_df</span><span class=p>)</span>  <span class=c1># (8)!</span>
</span></code></pre></div> <ol> <li>Pull "BTC-USD" and add it as a symbol</li> <li>Pull "BTC-USD" from 2020 onwards and add it as a symbol</li> <li>Add a custom DataFrame as a symbol</li> <li>Run the SMA indicator and add it as a feature</li> <li>Run the 20-period SMA indicator and add it as a feature</li> <li>Add a custom DataFrame as a feature</li> <li>If some columns can be found among the features of the data instance and not among the symbols, DataFrame will be automatically added as a symbol</li> <li>If some columns can be found among the symbols of the data instance and not among the features, DataFrame will be automatically added as a feature</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Only one feature or symbol can be added at a time. To add another data instance, use <code>merge</code> instead.</p> </div> <div class="language-python highlight"><span class=filename>Various ways to select features and symbols</span><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select_symbols</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select_symbols</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>])</span>  <span class=c1># (2)!</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select_features</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select_features</span><span class=p>([</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=s2>&quot;EMA&quot;</span><span class=p>])</span>  <span class=c1># (4)!</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=s2>&quot;sma&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span></code></pre></div> <ol> <li>Select one symbol</li> <li>Select multiple symbols</li> <li>Select one feature</li> <li>Select multiple features</li> <li>If some keys can be found among the symbols of the data instance and not among the features, will select a symbol</li> <li>If some keys can be found among the features of the data instance and not among the symbols, will select a feature</li> <li>Case doesn't matter!</li> </ol> <div class="language-python highlight"><span class=filename>Various ways to rename features and symbols</span><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_symbols</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;BTCUSDT&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_symbols</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=s2>&quot;ETHUSDT&quot;</span><span class=p>])</span>  <span class=c1># (2)!</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_symbols</span><span class=p>({</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;ETHUSDT&quot;</span><span class=p>})</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_features</span><span class=p>(</span><span class=s2>&quot;Price&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_features</span><span class=p>([</span><span class=s2>&quot;Price&quot;</span><span class=p>,</span> <span class=s2>&quot;MovAvg&quot;</span><span class=p>],</span> <span class=p>[</span><span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=s2>&quot;SMA&quot;</span><span class=p>])</span>  <span class=c1># (4)!</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename_features</span><span class=p>({</span><span class=s2>&quot;Price&quot;</span><span class=p>:</span> <span class=s2>&quot;Close&quot;</span><span class=p>,</span> <span class=s2>&quot;MovAvg&quot;</span><span class=p>:</span> <span class=s2>&quot;SMA&quot;</span><span class=p>})</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;BTCUSDT&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=s2>&quot;Price&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=s2>&quot;price&quot;</span><span class=p>,</span> <span class=s2>&quot;Close&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span></code></pre></div> <ol> <li>Rename the symbol "BTC-USD" to "BTCUSDT"</li> <li>Rename the symbol "BTC-USD" to "BTCUSDT" and the symbol "ETH-USD" to "ETHUSDT"</li> <li>Rename the feature "Price" to "Close"</li> <li>Rename the feature "Price" to "Close" and the feature "MovAvg" to "SMA"</li> <li>If some keys can be found among the symbols of the data instance and not among the features, will be renamed as a symbol</li> <li>If some keys can be found among the features of the data instance and not among the symbols, will be renamed as a feature</li> <li>The case of the source key doesn't matter, but the case of the target key does!</li> </ol> <div class="language-python highlight"><span class=filename>Various ways to remove features and symbols</span><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove_symbols</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove_symbols</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>])</span>  <span class=c1># (2)!</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove_features</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove_features</span><span class=p>([</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=s2>&quot;EMA&quot;</span><span class=p>])</span>  <span class=c1># (4)!</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>  <span class=c1># (6)!</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&quot;sma&quot;</span><span class=p>)</span>  <span class=c1># (7)!</span>
</span></code></pre></div> <ol> <li>Remove one symbol</li> <li>Remove multiple symbols</li> <li>Remove one feature</li> <li>Remove multiple features</li> <li>If some keys can be found among the symbols of the data instance and not among the features, will be removed as a symbol</li> <li>If some keys can be found among the features of the data instance and not among the symbols, will be removed as a feature</li> <li>Case doesn't matter!</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>Instances can be merged together along symbols, rows, and columns by using <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.merge>Data.merge</a>.</p> <div class="language-python highlight"><span class=filename>Merge multiple different Data instances</span><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>data1</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>data2</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>BinanceData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTCUSDT&quot;</span><span class=p>)</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=n>data3</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CCXTData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USDT&quot;</span><span class=p>,</span> <span class=n>exchange</span><span class=o>=</span><span class=s2>&quot;kucoin&quot;</span><span class=p>)</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>data1</span><span class=p>,</span> <span class=n>data2</span><span class=p>,</span> <span class=n>data3</span><span class=p>,</span> <span class=n>missing_columns</span><span class=o>=</span><span class=s2>&quot;drop&quot;</span><span class=p>)</span>
</span></code></pre></div> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>To apply a function to each DataFrame and return a new instance, the method <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.transform>Data.transform</a> can be used. By default, it passes one single DataFrame where all individual DataFrames are concatenated along columns. This is useful for dropping missing values across all symbols. To transform the DataFrames individually, use <code>per_symbol=True</code> and/or <code>per_feature=True</code>. The only requirement is that the returned column names are identical across all features and symbols.</p> <div class="language-python highlight"><span class=filename>Drop rows with missing values</span><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=k>lambda</span> <span class=n>df</span><span class=p>:</span> <span class=n>df</span><span class=o>.</span><span class=n>dropna</span><span class=p>(</span><span class=n>how</span><span class=o>=</span><span class=s2>&quot;any&quot;</span><span class=p>))</span>  <span class=c1># (1)!</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span>  <span class=c1># (2)!</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>dropna</span><span class=p>(</span><span class=n>how</span><span class=o>=</span><span class=s2>&quot;all&quot;</span><span class=p>)</span>  <span class=c1># (3)!</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>your_func</span><span class=p>,</span> <span class=n>per_feature</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>your_func</span><span class=p>,</span> <span class=n>per_symbol</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>your_func</span><span class=p>,</span> <span class=n>per_feature</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>per_symbol</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (4)!</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>your_func</span><span class=p>,</span> <span class=n>per_feature</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>per_symbol</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>pass_frame</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>  <span class=c1># (5)!</span>
</span></code></pre></div> <ol> <li>Remove any row that has at least one missing value across all features and symbols</li> <li>Same as above</li> <li>Remove any row that has all values missing across all features and symbols</li> <li>One column at a time is passed as a Series</li> <li>One column at a time is passed as a DataFrame</li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>If symbols have different timezones, the final timezone will become "UTC". This will make some symbols shifted in time; for example, one symbol with UTC+0200 and another with UTC+0400 will effectively double the common index and produce missing values half of the time. To align their indexes into a single one, use <a href=../../api/data/base/index.html#vectorbtpro.data.base.Data.realign>Data.realign</a>, which is a special form of resampling that produces a single index where data is correctly ordered by time.</p> <div class="language-python highlight"><span class=filename>Realign multiple timezones</span><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>new_data</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>realign</span><span class=p>()</span>  <span class=c1># (1)!</span>
</span></code></pre></div> <ol> <li>To not forward fill missing values, pass <code>ffill=False</code></li> </ol> <div class=separator-container> <hr class=separator> <span class=separator-text>/</span> <hr class=separator> </div> <p>Operations that return a new data instance can be easily chained using the dot notation or the method <code>pipe</code>.</p> <div class="language-python highlight"><span class=filename>Chain multiple operations</span><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>data</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>    <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>    <span class=o>.</span><span class=n>add_symbol</span><span class=p>(</span><span class=s2>&quot;ETH-USD&quot;</span><span class=p>)</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>    <span class=o>.</span><span class=n>rename</span><span class=p>({</span><span class=s2>&quot;btc-usd&quot;</span><span class=p>:</span> <span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=s2>&quot;eth-usd&quot;</span><span class=p>:</span> <span class=s2>&quot;ETHUSDT&quot;</span><span class=p>})</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>    <span class=o>.</span><span class=n>remove</span><span class=p>([</span><span class=s2>&quot;dividends&quot;</span><span class=p>,</span> <span class=s2>&quot;stock splits&quot;</span><span class=p>])</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>    <span class=o>.</span><span class=n>add_feature</span><span class=p>(</span><span class=s2>&quot;SMA&quot;</span><span class=p>)</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>    <span class=o>.</span><span class=n>add_feature</span><span class=p>(</span><span class=s2>&quot;EMA&quot;</span><span class=p>)</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=p>)</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=c1># ______________________________________________________________</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=n>data</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a>    <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;pull&quot;</span><span class=p>,</span> <span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;add_symbol&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>)</span>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;rename&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;btc-usd&quot;</span><span class=p>:</span> <span class=s2>&quot;BTCUSDT&quot;</span><span class=p>,</span> <span class=s2>&quot;eth-usd&quot;</span><span class=p>:</span> <span class=s2>&quot;ETHUSDT&quot;</span><span class=p>})</span>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;remove&quot;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&quot;dividends&quot;</span><span class=p>,</span> <span class=s2>&quot;stock splits&quot;</span><span class=p>])</span>
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;add_feature&quot;</span><span class=p>,</span> <span class=s2>&quot;SMA&quot;</span><span class=p>)</span>
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a>    <span class=o>.</span><span class=n>pipe</span><span class=p>(</span><span class=s2>&quot;add_feature&quot;</span><span class=p>,</span> <span class=s2>&quot;EMA&quot;</span><span class=p>)</span>
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=p>)</span>
</span></code></pre></div> <ol> <li>The method can be called on classes and instances, and can take a string to call a method of the class/instance, or any function that expects the instance as the first argument (for any other argument pass the function as a tuple where the second element is the argument position/name)</li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../cross-validation/index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: Cross-validation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Cross-validation </div> </div> </a> <a href=../datetime/index.html class="md-footer__link md-footer__link--next" aria-label="Next: Datetime"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Datetime </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2024 Oleg Polakow. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.linkedin.com/in/polakowo target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/polakowo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.prune", "navigation.path", "navigation.sections", "navigation.footer", "search.suggest", "search.share", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.ede584c9.min.js></script> <script src=../../assets/scripts/extra.js></script> </body> 
<!-- Mirrored from vectorbt.pro/pvt_54404668/cookbook/data/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 16:01:53 GMT -->
</html>