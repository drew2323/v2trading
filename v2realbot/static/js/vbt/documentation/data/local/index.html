<!doctype html><html lang=en class=no-js> 
<!-- Mirrored from vectorbt.pro/pvt_321460c7/documentation/data/local/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 05 Mar 2024 10:55:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation on handling local data"><meta name=author content="Oleg Polakow"><link href=https://vectorbt.pro/documentation/data/local/ rel=canonical><link href=../index.html rel=prev><link href=../remote/index.html rel=next><link rel=icon href=../../../assets/logo/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.2+insiders-4.47.1"><title>Local - VectorBT PRO</title><link rel=stylesheet href=../../../assets/stylesheets/main.78d85e4f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/stylesheets/extra.css><link rel=stylesheet href=../../../assets/stylesheets/custom-light.css><link rel=stylesheet href=../../../assets/stylesheets/custom-dark.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-light.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-dark.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-0C5VNYCFHL"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-0C5VNYCFHL",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-0C5VNYCFHL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><meta name=robots content=noindex><meta property=og:title content=Local><meta property=og:type content=website><meta content=https://vectorbt.pro/documentation/data/local/ property=og:url><meta property=og:image:url content=https://vectorbt.pro/pvt_321460c7/assets/logo/social-new.png><meta property=og:image:type content=image/png><meta property=og:description content="Documentation on handling local data"><meta property=og:locale content=en-GB><link rel=apple-touch-icon sizes=180x180 href=../../../assets/logo/apple-touch-icon.png><link rel=icon type=image/svg+xml href=../../../assets/logo/favicon.svg><link rel=icon type=image/png sizes=32x32 href=../../../assets/logo/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../assets/logo/favicon-16x16.png><link rel=manifest href=../../../assets/logo/site.webmanifest><link rel=mask-icon href=../../../assets/logo/safari-pinned-tab.svg color=#1e1f22><link rel="shortcut icon" href=../../../assets/logo/favicon.ico><meta name=msapplication-TileColor content=#1e1f22><meta name=msapplication-config content=https://vectorbt.pro/pvt_321460c7/assets/logo/browserconfig.xml><meta name=theme-color content=#1e1f22><link href=https://unpkg.com/aos@2.3.4/dist/aos.css rel=stylesheet><script src=https://unpkg.com/aos@2.3.4/dist/aos.js></script><link href=http://fonts.cdnfonts.com/css/uni-neue rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=preconnect href=https://fonts.googleapis.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin></head> <body dir=ltr data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#local class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <i>New</i>: Star-import, signal unraveling, Python 3.12 support, and <a href=../../../features/index.html><strong>more</strong></a> <span class="twemoji announce-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m153.6 29.9 16-21.3c4-5.4 10.4-8.6 17.1-8.6C198.4 0 208 9.6 208 21.3v22.2c0 13.1 5.4 25.7 14.9 34.7l84.7 80.8c48.8 46.6 76.4 111.2 76.4 178.7C384 434 306 512 209.7 512H192C86 512 0 426 0 320v-3.8c0-48.8 19.4-95.6 53.9-130.1l3.5-3.5c4.2-4.2 10-6.6 16-6.6 12.5 0 22.6 10.1 22.6 22.6V288c0 35.3 28.7 64 64 64s64-28.7 64-64v-3.9c0-18-7.2-35.3-19.9-48l-38.6-38.6c-24-24-37.5-56.7-37.5-90.7 0-27.7 9-54.8 25.6-76.9z"/></svg></span> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <!-- Determine class according to configuration --> <!-- Header --> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <!-- Link to home --> <a href=../../../index.html title="VectorBT PRO" class="md-header__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../../assets/logo/logo.svg alt=logo class=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VectorBT PRO <span class=md-version> v2024.2.22 </span> <a href=https://vectorbt.pro/ > <span class=unlock-icon><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224 64c-44.2 0-80 35.8-80 80v48h240c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16v-48C80 64.5 144.5 0 224 0c57.5 0 107 33.7 130.1 82.3 7.6 16 .8 35.1-15.2 42.6s-35.1.8-42.6-15.2C283.4 82.6 255.9 64 224 64zm32 320c17.7 0 32-14.3 32-32s-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32s14.3 32 32 32h64z"/></svg></span> </a> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Local </span> </div> </div> </div> <!-- Color palette --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=custom-light data-md-color-primary=custom-light data-md-color-accent=custom-light aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../index.html class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../../features/overview/index.html class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../../tutorials/basic-rsi/index.html class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../fundamentals/index.html class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=../../../api/index.html class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=../../../cookbook/overview/index.html class=md-tabs__link> Cookbook </a> </li> <li class=md-tabs__item> <a href=../../../terms/terms-of-use/index.html class=md-tabs__link> Terms </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title="VectorBT PRO" class="md-nav__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../../assets/logo/logo.svg alt=logo class=logo> </a> VectorBT PRO </label> <div class=md-nav__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/installation/index.html class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex> <span class=md-ellipsis> Release notes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Release notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting-started/release-notes/index.html class=md-nav__link> <span class=md-ellipsis> Latest </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/release-notes/2023/index.html class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/release-notes/2022/index.html class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/release-notes/2021/index.html class=md-nav__link> <span class=md-ellipsis> 2021 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../features/overview/index.html class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../features/data/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> </a> </li> <li class=md-nav__item> <a href=../../../features/indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> Indicators </span> </a> </li> <li class=md-nav__item> <a href=../../../features/portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=../../../features/optimization/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16h-.58l-.81-.81A7.07 7.07 0 0 0 18 11c0-3.87-3.13-7-7-7-1.5 0-3 .5-4.21 1.4-3.09 2.32-3.72 6.71-1.4 9.8 2.32 3.09 6.71 3.72 9.8 1.4l.81.81V18l5 5 2-2-5-5m-7 0c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5M3 6 1 8V1h7L6 3H3v3m18-5v7l-2-2V3h-3l-2-2h7M6 19l2 2H1v-7l2 2v3h3Z"/></svg> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../../../features/analysis/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> Analysis </span> </a> </li> <li class=md-nav__item> <a href=../../../features/productivity/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9M12 7a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> <span class=md-ellipsis> Productivity </span> </a> </li> <li class=md-nav__item> <a href=../../../features/performance/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> Performance </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/basic-rsi/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.5 18.5 6-6 4 4L22 6.92 20.59 5.5l-7.09 8-4-4L2 17l1.5 1.5Z"/></svg> <span class=md-ellipsis> Basic RSI strategy </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex> <span class=md-ellipsis> SuperFast SuperTrend </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> SuperFast SuperTrend </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/superfast-supertrend/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 9.47V11h3.76L13 14.53V13H9.24L11 9.47M13 1 6 15h5v8l7-14h-5V1Z"/></svg> <span class=md-ellipsis> SuperFast SuperTrend </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/superfast-supertrend/streaming/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 9.47V11h3.76L13 14.53V13H9.24L11 9.47M13 1 6 15h5v8l7-14h-5V1Z"/></svg> <span class=md-ellipsis> Streaming </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/superfast-supertrend/multithreading/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 9.47V11h3.76L13 14.53V13H9.24L11 9.47M13 1 6 15h5v8l7-14h-5V1Z"/></svg> <span class=md-ellipsis> Multithreading </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/superfast-supertrend/pipelines/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 9.47V11h3.76L13 14.53V13H9.24L11 9.47M13 1 6 15h5v8l7-14h-5V1Z"/></svg> <span class=md-ellipsis> Pipelines </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex> <span class=md-ellipsis> Signal development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Signal development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/signal-development/generation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> Generation </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/signal-development/pre-analysis/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> Pre-analysis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tutorials/stop-signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 23h-2V1h2v22m-4-4H5V5h4V3H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h4v-2M19 7v2h2V7h-2m0-2h2a2 2 0 0 0-2-2v2m2 10h-2v2h2v-2m-2-4v2h2v-2h-2m-2-8h-2v2h2V3m2 18c1.11 0 2-.89 2-2h-2v2m-2-2h-2v2h2v-2Z"/></svg> <span class=md-ellipsis> Stop signals </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex> <span class=md-ellipsis> MTF analysis </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> MTF analysis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/mtf-analysis/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 2h2v18h18v2H2V2m5 8h10v3H7v-3m4 5h10v3H11v-3M6 4h16v4h-2V6H8v2H6V4Z"/></svg> <span class=md-ellipsis> MTF analysis </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/mtf-analysis/alignment/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 2h2v18h18v2H2V2m5 8h10v3H7v-3m4 5h10v3H11v-3M6 4h16v4h-2V6H8v2H6V4Z"/></svg> <span class=md-ellipsis> Alignment </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/mtf-analysis/aggregation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 2h2v18h18v2H2V2m5 8h10v3H7v-3m4 5h10v3H11v-3M6 4h16v4h-2V6H8v2H6V4Z"/></svg> <span class=md-ellipsis> Aggregation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex> <span class=md-ellipsis> Portfolio optimization </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Portfolio optimization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/portfolio-optimization/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22 21H2V3h2v16h2v-2h4v2h2v-3h4v3h2v-2h4v4m-4-7h4v2h-4v-2m-6-8h4v3h-4V6m4 9h-4v-5h4v5M6 10h4v2H6v-2m4 6H6v-3h4v3Z"/></svg> <span class=md-ellipsis> Portfolio optimization </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/portfolio-optimization/integrations/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22 21H2V3h2v16h2v-2h4v2h2v-3h4v3h2v-2h4v4m-4-7h4v2h-4v-2m-6-8h4v3h-4V6m4 9h-4v-5h4v5M6 10h4v2H6v-2m4 6H6v-3h4v3Z"/></svg> <span class=md-ellipsis> Integrations </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/portfolio-optimization/dynamic/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22 21H2V3h2v16h2v-2h4v2h2v-3h4v3h2v-2h4v4m-4-7h4v2h-4v-2m-6-8h4v3h-4V6m4 9h-4v-5h4v5M6 10h4v2H6v-2m4 6H6v-3h4v3Z"/></svg> <span class=md-ellipsis> Dynamic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tutorials/pairs-trading/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22 6.92 20.59 5.5l-2.85 3.22C15.68 6.4 12.83 5 9.61 5 6.72 5 4.07 6.16 2 8l1.42 1.42C5.12 7.93 7.27 7 9.61 7c2.74 0 5.09 1.26 6.77 3.24L13.5 13.5l-4-4L2 17l1.5 1.5 6-6 4 4 4.05-4.57c.75 1.35 1.25 2.9 1.45 4.57h2c-.22-2.32-.95-4.41-2.04-6.16L22 6.92Z"/></svg> <span class=md-ellipsis> Pairs trading </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex> <span class=md-ellipsis> Patterns and projections </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Patterns and projections </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/patterns-and-projections/patterns/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23 7.5-6.47-.54L14 1l-2.53 5.96L5 7.5l4.9 4.27-1.46 6.33L14 14.74l5.56 3.36-1.47-6.33L23 7.5m-6.86 4.73.4 1.71-1.51-.91-1.03-.62-1.03.62-1.51.91.39-1.71.28-1.18-.91-.79L9.88 9.1l1.76-.15 1.2-.1.47-1.11.69-1.62.69 1.62.47 1.11 1.2.1 1.75.15-1.33 1.16-.92.79.28 1.18M1.16 12c-.299-.5-.171-1.11.29-1.41l2.73-1.8 1.57 1.36-3.2 2.11c-.17.11-.36.17-.55.17-.32 0-.64-.16-.84-.43m.29 8.16 5.86-3.85L7 17.76l-.34 1.37-4.11 2.71c-.17.11-.36.16-.55.16-.32 0-.64-.16-.84-.45a1.013 1.013 0 0 1 .29-1.39m5.87-8.66.92.81-.27 1.19-5.42 3.55c-.17.11-.36.16-.55.16-.32 0-.64-.15-.84-.45a1 1 0 0 1 .29-1.38l5.87-3.88Z"/></svg> <span class=md-ellipsis> Patterns </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/patterns-and-projections/projections/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23 7.5-6.47-.54L14 1l-2.53 5.96L5 7.5l4.9 4.27-1.46 6.33L14 14.74l5.56 3.36-1.47-6.33L23 7.5m-6.86 4.73.4 1.71-1.51-.91-1.03-.62-1.03.62-1.51.91.39-1.71.28-1.18-.91-.79L9.88 9.1l1.76-.15 1.2-.1.47-1.11.69-1.62.69 1.62.47 1.11 1.2.1 1.75.15-1.33 1.16-.92.79.28 1.18M1.16 12c-.299-.5-.171-1.11.29-1.41l2.73-1.8 1.57 1.36-3.2 2.11c-.17.11-.36.17-.55.17-.32 0-.64-.16-.84-.43m.29 8.16 5.86-3.85L7 17.76l-.34 1.37-4.11 2.71c-.17.11-.36.16-.55.16-.32 0-.64-.16-.84-.45a1.013 1.013 0 0 1 .29-1.39m5.87-8.66.92.81-.27 1.19-5.42 3.55c-.17.11-.36.16-.55.16-.32 0-.64-.15-.84-.45a1 1 0 0 1 .29-1.38l5.87-3.88Z"/></svg> <span class=md-ellipsis> Projections </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex> <span class=md-ellipsis> Cross-validation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Cross-validation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../tutorials/cross-validation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Cross-validation </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/cross-validation/splitter/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Splitter </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/cross-validation/applications/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Applications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tutorials/more-tutorials/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10.6 13.4a1 1 0 0 1-1.4 1.4 4.8 4.8 0 0 1 0-7l3.5-3.6a5.1 5.1 0 0 1 7.1 0 5.1 5.1 0 0 1 0 7.1l-1.5 1.5a6.4 6.4 0 0 0-.4-2.4l.5-.5a3.2 3.2 0 0 0 0-4.3 3.2 3.2 0 0 0-4.3 0l-3.5 3.6a2.9 2.9 0 0 0 0 4.2M23 18v2h-3v3h-2v-3h-3v-2h3v-3h2v3m-3.8-4.3a4.8 4.8 0 0 0-1.4-4.5 1 1 0 0 0-1.4 1.4 2.9 2.9 0 0 1 0 4.2l-3.5 3.6a3.2 3.2 0 0 1-4.3 0 3.2 3.2 0 0 1 0-4.3l.5-.4a7.3 7.3 0 0 1-.4-2.5l-1.5 1.5a5.1 5.1 0 0 0 0 7.1 5.1 5.1 0 0 0 7.1 0l1.8-1.8a6 6 0 0 1 3.1-4.3Z"/></svg> <span class=md-ellipsis> More tutorials </span> </a> </li> <li class=md-nav__item> <a href=../../../tutorials/to-be-continued/index.html class=md-nav__link> <span class=md-ellipsis> To be continued... </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../fundamentals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 7a2 2 0 0 0-2 2v8h2v-4h2v4h2V9a2 2 0 0 0-2-2H3m0 2h2v2H3m12-.5V9a2 2 0 0 0-2-2H9v10h4a2 2 0 0 0 2-2v-1.5a1.54 1.54 0 0 0-1.5-1.5 1.54 1.54 0 0 0 1.5-1.5M13 15h-2v-2h2v2m0-4h-2V9h2m6-2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-1h-2v1h-2V9h2v1h2V9a2 2 0 0 0-2-2Z"/></svg> <span class=md-ellipsis> Fundamentals </span> </a> </li> <li class=md-nav__item> <a href=../../building-blocks/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9M12 4.15 6.04 7.5 12 10.85l5.96-3.35L12 4.15M5 15.91l6 3.38v-6.71L5 9.21v6.7m14 0v-6.7l-6 3.37v6.71l6-3.38Z"/></svg> <span class=md-ellipsis> Building blocks </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3 checked> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex> <span class=md-ellipsis> Data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=true> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 20H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h7a2 2 0 0 1 2 2H4v10l2.14-8h17.07l-2.28 8.5c-.23.87-1.01 1.5-1.93 1.5Z"/></svg> <span class=md-ellipsis> Local </span> <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 20H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h7a2 2 0 0 1 2 2H4v10l2.14-8h17.07l-2.28 8.5c-.23.87-1.01 1.5-1.93 1.5Z"/></svg> <span class=md-ellipsis> Local </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pickling class=md-nav__link> <span class=md-ellipsis> Pickling </span> </a> </li> <li class=md-nav__item> <a href=#saving class=md-nav__link> <span class=md-ellipsis> Saving </span> </a> <nav class=md-nav aria-label=Saving> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csv class=md-nav__link> <span class=md-ellipsis> CSV </span> </a> </li> <li class=md-nav__item> <a href=#hdf class=md-nav__link> <span class=md-ellipsis> HDF </span> </a> </li> <li class=md-nav__item> <a href=#feather-parquet class=md-nav__link> <span class=md-ellipsis> Feather &amp; Parquet </span> </a> </li> <li class=md-nav__item> <a href=#sql class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class=md-nav__item> <a href=#duckdb class=md-nav__link> <span class=md-ellipsis> DuckDB </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#loading class=md-nav__link> <span class=md-ellipsis> Loading </span> </a> <nav class=md-nav aria-label=Loading> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csv_1 class=md-nav__link> <span class=md-ellipsis> CSV </span> </a> <nav class=md-nav aria-label=CSV> <ul class=md-nav__list> <li class=md-nav__item> <a href=#chunking class=md-nav__link> <span class=md-ellipsis> Chunking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#hdf_1 class=md-nav__link> <span class=md-ellipsis> HDF </span> </a> <nav class=md-nav aria-label=HDF> <ul class=md-nav__list> <li class=md-nav__item> <a href=#chunking_1 class=md-nav__link> <span class=md-ellipsis> Chunking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#feather-parquet_1 class=md-nav__link> <span class=md-ellipsis> Feather &amp; Parquet </span> </a> </li> <li class=md-nav__item> <a href=#sql_1 class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> <nav class=md-nav aria-label=SQL> <ul class=md-nav__list> <li class=md-nav__item> <a href=#chunking_2 class=md-nav__link> <span class=md-ellipsis> Chunking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#duckdb_1 class=md-nav__link> <span class=md-ellipsis> DuckDB </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#updating class=md-nav__link> <span class=md-ellipsis> Updating </span> </a> <nav class=md-nav aria-label=Updating> <ul class=md-nav__list> <li class=md-nav__item> <a href=#csv-hdf class=md-nav__link> <span class=md-ellipsis> CSV &amp; HDF </span> </a> </li> <li class=md-nav__item> <a href=#feather-parquet_2 class=md-nav__link> <span class=md-ellipsis> Feather &amp; Parquet </span> </a> </li> <li class=md-nav__item> <a href=#sql_2 class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class=md-nav__item> <a href=#duckdb_2 class=md-nav__link> <span class=md-ellipsis> DuckDB </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../remote/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/></svg> <span class=md-ellipsis> Remote </span> </a> </li> <li class=md-nav__item> <a href=../synthetic/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 1-1.26 2.75L15 5l2.74 1.26L19 9l1.25-2.74L23 5l-2.75-1.25M9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5M19 15l-1.26 2.74L15 19l2.74 1.25L19 23l1.25-2.75L23 19l-2.75-1.26"/></svg> <span class=md-ellipsis> Synthetic </span> </a> </li> <li class=md-nav__item> <a href=../scheduling/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a7 7 0 0 1-7-7 7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7m7.03-12.61 1.42-1.42c-.45-.51-.9-.97-1.41-1.41L17.62 6c-1.55-1.26-3.5-2-5.62-2a9 9 0 0 0-9 9 9 9 0 0 0 9 9c5 0 9-4.03 9-9 0-2.12-.74-4.07-1.97-5.61M11 14h2V8h-2m4-7H9v2h6V1Z"/></svg> <span class=md-ellipsis> Scheduling </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex> <span class=md-ellipsis> Indicators </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Indicators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> Indicators </span> </a> </li> <li class=md-nav__item> <a href=../../indicators/development/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 3c-1.11 0-2 .89-2 2v4c0 1.11.89 2 2 2h4c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2m.2 1.5 1.06 1.05L5.27 9.5 2.74 6.95 3.81 5.9l1.47 1.49M4 13c-1.11 0-2 .89-2 2v4c0 1.11.89 2 2 2h4c1.11 0 2-.89 2-2v-4c0-1.11-.89-2-2-2m-4 2h4v4H4m8-14h10v2H12m0 12v-2h10v2m-10-8h10v2H12Z"/></svg> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=../../indicators/analysis/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 8c-1.5 0-2.3 1.4-1.9 2.5l-3.6 3.6c-.3-.1-.7-.1-1 0l-2.6-2.6c.4-1.1-.4-2.5-1.9-2.5-1.4 0-2.3 1.4-1.9 2.5L3.5 16c-1.1-.3-2.5.5-2.5 2 0 1.1.9 2 2 2 1.4 0 2.3-1.4 1.9-2.5l4.5-4.6c.3.1.7.1 1 0l2.6 2.6c-.3 1 .5 2.5 2 2.5s2.3-1.4 1.9-2.5l3.6-3.6c1.1.3 2.5-.5 2.5-1.9 0-1.1-.9-2-2-2m-6 1 .9-2.1L18 6l-2.1-.9L15 3l-.9 2.1L12 6l2.1.9L15 9M3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9l.5 2Z"/></svg> <span class=md-ellipsis> Analysis </span> </a> </li> <li class=md-nav__item> <a href=../../indicators/parsers/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4Z"/></svg> <span class=md-ellipsis> Parsers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex> <span class=md-ellipsis> Portfolio </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Portfolio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=../../portfolio/from-orders/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 2v20h20V2H2m18 10h-4v4h4v4h-4v-4h-4v4H8v-4H4v-4h4V8H4V4h4v4h4V4h4v4h4v4m-4-4v4h-4V8h4m-4 4v4H8v-4h4Z"/></svg> <span class=md-ellipsis> From orders </span> </a> </li> <li class=md-nav__item> <a href=../../portfolio/from-signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> From signals </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../to-be-continued/index.html class=md-nav__link> <span class=md-ellipsis> To be continued... </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/index.html class=md-nav__link> <span class=md-ellipsis> API </span> </a> </li> <li class=md-nav__item> <a href=../../../api/_settings/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h6.68a7 7 0 0 1-.68-3 7 7 0 0 1 7-7 7 7 0 0 1 1 .08V8l-6-6H6m7 1.5L18.5 9H13V3.5M18 14a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.193 4.193 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5 0-.17-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14h-2m1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5Z"/></svg> <span class=md-ellipsis> _settings </span> </a> </li> <li class=md-nav__item> <a href=../../../api/_opt_deps/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h6.68a7 7 0 0 1-.68-3 7 7 0 0 1 7-7 7 7 0 0 1 1 .08V8l-6-6H6m7 1.5L18.5 9H13V3.5M18 14a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.193 4.193 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5 0-.17-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14h-2m1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5Z"/></svg> <span class=md-ellipsis> _opt_deps </span> </a> </li> <li class=md-nav__item> <a href=../../../api/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex> <span class=md-ellipsis> base </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> base </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/base/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/chunking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4-4 4M2 12l4 4v-3h3v9h2V2H9v9H6V8l-4 4Z"/></svg> <span class=md-ellipsis> chunking </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/combining/index.html class=md-nav__link> <span class=md-ellipsis> combining </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/flex_indexing/index.html class=md-nav__link> <span class=md-ellipsis> flex_indexing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/indexes/index.html class=md-nav__link> <span class=md-ellipsis> indexes <span class=dobjtype>module</span><a class=githublink href=https://github.com/drew2323/vbtpro/blob/main/vectorbtpro/base/indexes.py target=_blank title="Jump to source"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg></a> </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/indexing/index.html class=md-nav__link> <span class=md-ellipsis> indexing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/merging/index.html class=md-nav__link> <span class=md-ellipsis> merging </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/preparing/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 4V3a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6h1v4H9v11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-9h8V4h-3Z"/></svg> <span class=md-ellipsis> preparing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/reshaping/index.html class=md-nav__link> <span class=md-ellipsis> reshaping </span> </a> </li> <li class=md-nav__item> <a href=../../../api/base/wrapping/index.html class=md-nav__link> <span class=md-ellipsis> wrapping </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/base/grouping/index.html class=md-nav__link> <span class=md-ellipsis> grouping </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/base/resampling/index.html class=md-nav__link> <span class=md-ellipsis> resampling </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex> <span class=md-ellipsis> data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/data/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> data </span> </a> </li> <li class=md-nav__item> <a href=../../../api/data/base/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> </a> </li> <li class=md-nav__item> <a href=../../../api/data/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/data/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> <li class=md-nav__item> <a href=../../../api/data/saver/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a7 7 0 0 1-7-7 7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7m7.03-12.61 1.42-1.42c-.45-.51-.9-.97-1.41-1.41L17.62 6c-1.55-1.26-3.5-2-5.62-2a9 9 0 0 0-9 9 9 9 0 0 0 9 9c5 0 9-4.03 9-9 0-2.12-.74-4.07-1.97-5.61M11 14h2V8h-2m4-7H9v2h6V1Z"/></svg> <span class=md-ellipsis> saver </span> </a> </li> <li class=md-nav__item> <a href=../../../api/data/updater/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a7 7 0 0 1-7-7 7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7m7.03-12.61 1.42-1.42c-.45-.51-.9-.97-1.41-1.41L17.62 6c-1.55-1.26-3.5-2-5.62-2a9 9 0 0 0-9 9 9 9 0 0 0 9 9c5 0 9-4.03 9-9 0-2.12-.74-4.07-1.97-5.61M11 14h2V8h-2m4-7H9v2h6V1Z"/></svg> <span class=md-ellipsis> updater </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/data/custom/index.html class=md-nav__link> <span class=md-ellipsis> custom </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex> <span class=md-ellipsis> generic </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> generic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/generic/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 2h4v2H4v16h2v2H2V2m18 2h-2V2h4v20h-4v-2h2V4M9 5h1v5h1v1H8v-1h1V6l-1 .5v-1L9 5m6 8h1v5h1v1h-3v-1h1v-4l-1 .5v-1l1-.5m-6 0c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2m6-9c1.1 0 2 1.34 2 3s-.9 3-2 3-2-1.34-2-3 .9-3 2-3m0 1c-.55 0-1 .9-1 2s.45 2 1 2 1-.9 1-2-.45-2-1-2Z"/></svg> <span class=md-ellipsis> generic </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/analyzable/index.html class=md-nav__link> <span class=md-ellipsis> analyzable </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/drawdowns/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> drawdowns </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/plots_builder/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.04 19.61a2.682 2.682 0 0 0-2.54-1.81c-1.5 0-2.7 1.2-2.7 2.7V22H4a2 2 0 0 1-2-2v-3.8h1.5c1.5 0 2.7-1.2 2.7-2.7S5 10.8 3.5 10.8H2V7c0-1.1.9-2 2-2h4V3.5a2.5 2.5 0 0 1 5 0V5h4a2 2 0 0 1 2 2v4h1.5a2.5 2.5 0 0 1 2.5 2.5c0 .32-.06.62-.17.89A5.991 5.991 0 0 0 19 13c-3.31 0-6 2.69-6 6 0 .2 0 .41.04.61M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> <span class=md-ellipsis> plots_builder </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/plotting/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> plotting </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/price_records/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> price_records </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/ranges/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> ranges </span> </a> </li> <li class=md-nav__item> <a href=../../../api/generic/stats_builder/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.04 19.61a2.682 2.682 0 0 0-2.54-1.81c-1.5 0-2.7 1.2-2.7 2.7V22H4a2 2 0 0 1-2-2v-3.8h1.5c1.5 0 2.7-1.2 2.7-2.7S5 10.8 3.5 10.8H2V7c0-1.1.9-2 2-2h4V3.5a2.5 2.5 0 0 1 5 0V5h4a2 2 0 0 1 2 2v4h1.5a2.5 2.5 0 0 1 2.5 2.5c0 .32-.06.62-.17.89A5.991 5.991 0 0 0 19 13c-3.31 0-6 2.69-6 6 0 .2 0 .41.04.61M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> <span class=md-ellipsis> stats_builder </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/generic/nb/index.html class=md-nav__link> <span class=md-ellipsis> nb </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/generic/splitting/index.html class=md-nav__link> <span class=md-ellipsis> splitting </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8 id=__nav_5_8_label tabindex> <span class=md-ellipsis> indicators </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> indicators </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> indicators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/configs/index.html class=md-nav__link> <span class=md-ellipsis> configs </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/expr/index.html class=md-nav__link> <span class=md-ellipsis> expr </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/factory/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 18v2h4v-2H4m0-4v2h10v-2H4m6 4v2h4v-2h-4m6-4v2h4v-2h-4m0 4v2h4v-2h-4M2 22V8l5 4V8l5 4V8l5 4 1-10h3l1 10v10H2Z"/></svg> <span class=md-ellipsis> factory </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> <li class=md-nav__item> <a href=../../../api/indicators/talib_/index.html class=md-nav__link> <span class=md-ellipsis> talib_ </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/indicators/custom/index.html class=md-nav__link> <span class=md-ellipsis> custom </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex> <span class=md-ellipsis> labels </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> labels </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/labels/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 18h9l-2 2H4c-.5 0-1.03-.21-1.41-.59C2.21 19.03 2 18.5 2 18V8h2v10M17.63 4.84C17.27 4.33 16.67 4 16 4H8c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h8c.67 0 1.27-.34 1.63-.85L22 10l-4.37-5.16M16 14H8V6h8l3.55 4Z"/></svg> <span class=md-ellipsis> labels </span> </a> </li> <li class=md-nav__item> <a href=../../../api/labels/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/labels/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/labels/generators/index.html class=md-nav__link> <span class=md-ellipsis> generators </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex> <span class=md-ellipsis> messaging </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> messaging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/messaging/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h16M4 4v13.17L5.17 16H20V4H4m2 3h12v2H6V7m0 4h9v2H6v-2Z"/></svg> <span class=md-ellipsis> messaging </span> </a> </li> <li class=md-nav__item> <a href=../../../api/messaging/telegram/index.html class=md-nav__link> <span class=md-ellipsis> telegram </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex> <span class=md-ellipsis> ohlcv </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> ohlcv </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/ohlcv/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2v3h2v14H8v3H6v-3H4V5h2V2h2m8 0v5h-2v10h2v5h2v-5h2V7h-2V2h-2Z"/></svg> <span class=md-ellipsis> ohlcv </span> </a> </li> <li class=md-nav__item> <a href=../../../api/ohlcv/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/ohlcv/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12 id=__nav_5_12_label tabindex> <span class=md-ellipsis> portfolio </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> portfolio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> portfolio </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/base/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/call_seq/index.html class=md-nav__link> <span class=md-ellipsis> call_seq </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/chunking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4-4 4M2 12l4 4v-3h3v9h2V2H9v9H6V8l-4 4Z"/></svg> <span class=md-ellipsis> chunking </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/logs/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> logs </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/orders/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> orders </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/preparing/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 4V3a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6h1v4H9v11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-9h8V4h-3Z"/></svg> <span class=md-ellipsis> preparing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/portfolio/trades/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> trades </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/portfolio/nb/index.html class=md-nav__link> <span class=md-ellipsis> nb </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/portfolio/pfopt/index.html class=md-nav__link> <span class=md-ellipsis> pfopt </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_13> <label class=md-nav__link for=__nav_5_13 id=__nav_5_13_label tabindex> <span class=md-ellipsis> px </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_13_label aria-expanded=false> <label class=md-nav__title for=__nav_5_13> <span class="md-nav__icon md-icon"></span> px </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/px/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> px </span> </a> </li> <li class=md-nav__item> <a href=../../../api/px/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_14> <label class=md-nav__link for=__nav_5_14 id=__nav_5_14_label tabindex> <span class=md-ellipsis> records </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_14_label aria-expanded=false> <label class=md-nav__title for=__nav_5_14> <span class="md-nav__icon md-icon"></span> records </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/records/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8Z"/></svg> <span class=md-ellipsis> records </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/base/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3M4 5h2v2H4m14 0h2v2h-2M8 17h2v2H8Z"/></svg> <span class=md-ellipsis> base </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/chunking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4-4 4M2 12l4 4v-3h3v9h2V2H9v9H6V8l-4 4Z"/></svg> <span class=md-ellipsis> chunking </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/col_mapper/index.html class=md-nav__link> <span class=md-ellipsis> col_mapper </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/mapped_array/index.html class=md-nav__link> <span class=md-ellipsis> mapped_array </span> </a> </li> <li class=md-nav__item> <a href=../../../api/records/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_15> <label class=md-nav__link for=__nav_5_15 id=__nav_5_15_label tabindex> <span class=md-ellipsis> registries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_15_label aria-expanded=false> <label class=md-nav__title for=__nav_5_15> <span class="md-nav__icon md-icon"></span> registries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/registries/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17 21-2.75-3 1.16-1.16L17 18.43l3.59-3.59 1.16 1.41M12.8 21H5a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h14a2 2 0 0 1 2 2v7.8c-.88-.51-1.91-.8-3-.8l-1 .08V11H7v2h7.69A5.983 5.983 0 0 0 12 18c0 1.09.29 2.12.8 3m-.8-6H7v2h5m5-10H7v2h10"/></svg> <span class=md-ellipsis> registries </span> </a> </li> <li class=md-nav__item> <a href=../../../api/registries/ca_registry/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 8-4 4h3a6 6 0 0 1-6 6c-1 0-1.97-.25-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20a8 8 0 0 0 8-8h3M6 12a6 6 0 0 1 6-6c1 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4a8 8 0 0 0-8 8H1l4 4 4-4"/></svg> <span class=md-ellipsis> ca_registry </span> </a> </li> <li class=md-nav__item> <a href=../../../api/registries/ch_registry/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4-4 4M2 12l4 4v-3h3v9h2V2H9v9H6V8l-4 4Z"/></svg> <span class=md-ellipsis> ch_registry </span> </a> </li> <li class=md-nav__item> <a href=../../../api/registries/jit_registry/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> jit_registry </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16> <label class=md-nav__link for=__nav_5_16 id=__nav_5_16_label tabindex> <span class=md-ellipsis> returns </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_16_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16> <span class="md-nav__icon md-icon"></span> returns </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/returns/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m16 11.78 4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L5.46 19H22v2H2V3h2v14.54L9.5 8l6.5 3.78Z"/></svg> <span class=md-ellipsis> returns </span> </a> </li> <li class=md-nav__item> <a href=../../../api/returns/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/returns/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/returns/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> <li class=md-nav__item> <a href=../../../api/returns/qs_adapter/index.html class=md-nav__link> <span class=md-ellipsis> qs_adapter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_17> <label class=md-nav__link for=__nav_5_17 id=__nav_5_17_label tabindex> <span class=md-ellipsis> signals </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_17_label aria-expanded=false> <label class=md-nav__title for=__nav_5_17> <span class="md-nav__icon md-icon"></span> signals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> signals </span> </a> </li> <li class=md-nav__item> <a href=../../../api/signals/accessors/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81Z"/></svg> <span class=md-ellipsis> accessors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/signals/enums/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 3h2v2H5v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1Z"/></svg> <span class=md-ellipsis> enums </span> </a> </li> <li class=md-nav__item> <a href=../../../api/signals/factory/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 18v2h4v-2H4m0-4v2h10v-2H4m6 4v2h4v-2h-4m6-4v2h4v-2h-4m0 4v2h4v-2h-4M2 22V8l5 4V8l5 4V8l5 4 1-10h3l1 10v10H2Z"/></svg> <span class=md-ellipsis> factory </span> </a> </li> <li class=md-nav__item> <a href=../../../api/signals/nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m6 20 4.16-12.09L9.34 6H8V4h2c.42 0 .78.26.93.63L16.66 18H18v2h-2c-.43 0-.79-.27-.93-.64l-3.74-8.71L8.12 20H6Z"/></svg> <span class=md-ellipsis> nb </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/signals/generators/index.html class=md-nav__link> <span class=md-ellipsis> generators </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_18> <label class=md-nav__link for=__nav_5_18 id=__nav_5_18_label tabindex> <span class=md-ellipsis> utils </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_18_label aria-expanded=false> <label class=md-nav__title for=__nav_5_18> <span class="md-nav__icon md-icon"></span> utils </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../api/utils/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.81 3.81 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.81 3.81 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"/></svg> <span class=md-ellipsis> utils </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/annotations/index.html class=md-nav__link> <span class=md-ellipsis> annotations </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/array_/index.html class=md-nav__link> <span class=md-ellipsis> array_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/attr_/index.html class=md-nav__link> <span class=md-ellipsis> attr_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/caching/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 8-4 4h3a6 6 0 0 1-6 6c-1 0-1.97-.25-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20a8 8 0 0 0 8-8h3M6 12a6 6 0 0 1 6-6c1 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4a8 8 0 0 0-8 8H1l4 4 4-4"/></svg> <span class=md-ellipsis> caching </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/chaining/index.html class=md-nav__link> <span class=md-ellipsis> chaining </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/checks/index.html class=md-nav__link> <span class=md-ellipsis> checks </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/chunking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16v-3h-3v9h-2V2h2v9h3V8l4 4-4 4M2 12l4 4v-3h3v9h2V2H9v9H6V8l-4 4Z"/></svg> <span class=md-ellipsis> chunking </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/colors/index.html class=md-nav__link> <span class=md-ellipsis> colors </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/config/index.html class=md-nav__link> <span class=md-ellipsis> config </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/cutting/index.html class=md-nav__link> <span class=md-ellipsis> cutting </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/datetime_/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <span class=md-ellipsis> datetime_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/datetime_nb/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <span class=md-ellipsis> datetime_nb </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/enum_/index.html class=md-nav__link> <span class=md-ellipsis> enum_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/eval_/index.html class=md-nav__link> <span class=md-ellipsis> eval_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/execution/index.html class=md-nav__link> <span class=md-ellipsis> execution </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/figure/index.html class=md-nav__link> <span class=md-ellipsis> figure </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/formatting/index.html class=md-nav__link> <span class=md-ellipsis> formatting </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/hashing/index.html class=md-nav__link> <span class=md-ellipsis> hashing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/image_/index.html class=md-nav__link> <span class=md-ellipsis> image_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/jitting/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> jitting </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/magic_decorators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 3v6h2.95l2 6H6v6h6v-4.59L17.41 11H22V5h-6v4.57L10.59 15H9.06l-2-6H8V3H2m2 2h2v2H4V5m14 2h2v2h-2V7m0 8v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2M8 17h2v2H8v-2Z"/></svg> <span class=md-ellipsis> magic_decorators </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/mapping/index.html class=md-nav__link> <span class=md-ellipsis> mapping </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/math_/index.html class=md-nav__link> <span class=md-ellipsis> math_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/merging/index.html class=md-nav__link> <span class=md-ellipsis> merging </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/module_/index.html class=md-nav__link> <span class=md-ellipsis> module_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/path_/index.html class=md-nav__link> <span class=md-ellipsis> path_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/params/index.html class=md-nav__link> <span class=md-ellipsis> params </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/parsing/index.html class=md-nav__link> <span class=md-ellipsis> parsing </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/pbar/index.html class=md-nav__link> <span class=md-ellipsis> pbar </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/pickling/index.html class=md-nav__link> <span class=md-ellipsis> pickling </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/profiling/index.html class=md-nav__link> <span class=md-ellipsis> profiling </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/random_/index.html class=md-nav__link> <span class=md-ellipsis> random_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/requests_/index.html class=md-nav__link> <span class=md-ellipsis> requests_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/schedule_/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a7 7 0 0 1-7-7 7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7m7.03-12.61 1.42-1.42c-.45-.51-.9-.97-1.41-1.41L17.62 6c-1.55-1.26-3.5-2-5.62-2a9 9 0 0 0-9 9 9 9 0 0 0 9 9c5 0 9-4.03 9-9 0-2.12-.74-4.07-1.97-5.61M11 14h2V8h-2m4-7H9v2h6V1Z"/></svg> <span class=md-ellipsis> schedule_ </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/search/index.html class=md-nav__link> <span class=md-ellipsis> search </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/selection/index.html class=md-nav__link> <span class=md-ellipsis> selection </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/tagging/index.html class=md-nav__link> <span class=md-ellipsis> tagging </span> </a> </li> <li class=md-nav__item> <a href=../../../api/utils/template/index.html class=md-nav__link> <span class=md-ellipsis> template </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Cookbook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cookbook/overview/index.html class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/discovery/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 3h6v4H3V3m12 7h6v4h-6v-4m0 7h6v4h-6v-4m-2-4H7v5h6v2H5V9h2v2h6v2Z"/></svg> <span class=md-ellipsis> Discovery </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/configuration/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/persistence/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 12h2v5h16v-5h2v5c0 1.11-.89 2-2 2H4a2 2 0 0 1-2-2v-5m10 3 5.55-5.46-1.42-1.41L13 11.25V2h-2v9.25L7.88 8.13 6.46 9.55 12 15Z"/></svg> <span class=md-ellipsis> Persistence </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/caching/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 8-4 4h3a6 6 0 0 1-6 6c-1 0-1.97-.25-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20a8 8 0 0 0 8-8h3M6 12a6 6 0 0 1 6-6c1 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4a8 8 0 0 0-8 8H1l4 4 4-4"/></svg> <span class=md-ellipsis> Caching </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/plotting/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.2 11.2c1.77 0 3.2 1.43 3.2 3.2 0 1.77-1.43 3.2-3.2 3.2-1.77 0-3.2-1.43-3.2-3.2 0-1.77 1.43-3.2 3.2-3.2m7.6 4.8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m.4-12A4.8 4.8 0 0 1 20 8.8c0 2.65-2.15 4.8-4.8 4.8a4.8 4.8 0 0 1-4.8-4.8c0-2.65 2.15-4.8 4.8-4.8Z"/></svg> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/compilation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 16a3 3 0 0 1-3-3c0-1.12.61-2.1 1.5-2.61l9.71-5.62-5.53 9.58c-.5.98-1.51 1.65-2.68 1.65m0-13c1.81 0 3.5.5 4.97 1.32l-2.1 1.21C14 5.19 13 5 12 5a8 8 0 0 0-8 8c0 2.21.89 4.21 2.34 5.65h.01c.39.39.39 1.02 0 1.41-.39.39-1.03.39-1.42.01A9.969 9.969 0 0 1 2 13 10 10 0 0 1 12 3m10 10c0 2.76-1.12 5.26-2.93 7.07-.39.38-1.02.38-1.41-.01a.996.996 0 0 1 0-1.41A7.95 7.95 0 0 0 20 13c0-1-.19-2-.54-2.9L20.67 8C21.5 9.5 22 11.18 22 13Z"/></svg> <span class=md-ellipsis> Compilation </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/data/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"/></svg> <span class=md-ellipsis> Data </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/arrays/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 2h14a2 2 0 0 1 2 2v12c0 1.11-.89 2-2 2H7a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2m0 4v4h6V6H7m8 0v4h6V6h-6m-8 6v4h6v-4H7m8 0v4h6v-4h-6M3 20V6H1v14c0 1.11.89 2 2 2h16v-2H3Z"/></svg> <span class=md-ellipsis> Arrays </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/indexing/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 20.5c0 .8-.7 1.5-1.5 1.5H13c-.4 0-.7-.1-1-.4l-4-4.2.7-.8c.2-.2.5-.3.8-.3h.2L12 18V9c0-.6.4-1 1-1s1 .4 1 1v4.5l1.2.1 3.9 2.2c.5.2.9.8.9 1.3v3.4M20 2H4c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h4v-2H4V4h16v8h-2v2h2c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2Z"/></svg> <span class=md-ellipsis> Indexing </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/indicators/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3 14 .5.07L8.07 9.5a1.95 1.95 0 0 1 .52-1.91c.78-.79 2.04-.79 2.82 0 .53.52.7 1.26.52 1.91l2.57 2.57.5-.07c.18 0 .35 0 .5.07l3.57-3.57C19 8.35 19 8.18 19 8a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2c-.18 0-.35 0-.5-.07l-3.57 3.57c.07.15.07.32.07.5a2 2 0 0 1-2 2 2 2 0 0 1-2-2l.07-.5-2.57-2.57c-.32.07-.68.07-1 0L4.93 15.5 5 16a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2Z"/></svg> <span class=md-ellipsis> Indicators </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/signals/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 2c0-3.3-2.7-6-6-6s-6 2.7-6 6c0 2.2 1.2 4.1 3 5.2l1-1.7c-1.2-.7-2-2-2-3.4 0-2.2 1.8-4 4-4s4 1.8 4 4c0 1.5-.8 2.8-2 3.4l1 1.7c1.8-1 3-3 3-5.2M12 2C6.5 2 2 6.5 2 12c0 3.7 2 6.9 5 8.6l1-1.7c-2.4-1.4-4-4-4-6.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 3-1.6 5.5-4 6.9l1 1.7c3-1.7 5-4.9 5-8.6 0-5.5-4.5-10-10-10Z"/></svg> <span class=md-ellipsis> Signals </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/portfolio/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.45 15.18 22 7.31V21H2V3h2v12.54L9.5 6 16 9.78l4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L4.31 19h2.26l4.39-7.56 6.49 3.74Z"/></svg> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/optimization/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16h-.58l-.81-.81A7.07 7.07 0 0 0 18 11c0-3.87-3.13-7-7-7-1.5 0-3 .5-4.21 1.4-3.09 2.32-3.72 6.71-1.4 9.8 2.32 3.09 6.71 3.72 9.8 1.4l.81.81V18l5 5 2-2-5-5m-7 0c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5M3 6 1 8V1h7L6 3H3v3m18-5v7l-2-2V3h-3l-2-2h7M6 19l2 2H1v-7l2 2v3h3Z"/></svg> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/cross-validation/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M.41 13.41 6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17 7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42-6.35 6.35 1.42 1.41L18 7Z"/></svg> <span class=md-ellipsis> Cross-validation </span> </a> </li> <li class=md-nav__item> <a href=../../../cookbook/benchmarking/index.html class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 5a7 7 0 0 1 7 7h1v3h-1v4H9a7 7 0 0 1-7-7 7 7 0 0 1 7-7m0 3a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m8 9h5v4h-2v-2h-3v-2Z"/></svg> <span class=md-ellipsis> Benchmarking </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Terms </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Terms </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../terms/terms-of-use/index.html class=md-nav__link> <span class=md-ellipsis> Terms of Use </span> </a> </li> <li class=md-nav__item> <a href=../../../terms/software-license/index.html class=md-nav__link> <span class=md-ellipsis> Software License </span> </a> </li> <li class=md-nav__item> <a href=../../../terms/remarks/index.html class=md-nav__link> <span class=md-ellipsis> Remarks </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../fundamentals/index.html class=md-path__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-path__item> <a href=../index.html class=md-path__link> <span class=md-ellipsis> Data </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=local><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 20H4a2 2 0 0 1-2-2V6c0-1.11.89-2 2-2h6l2 2h7a2 2 0 0 1 2 2H4v10l2.14-8h17.07l-2.28 8.5c-.23.87-1.01 1.5-1.93 1.5Z"/></svg></span> Local<a class=headerlink href=#local title="Permanent link">&para;</a></h1> <p>Repeatedly hitting remote API endpoints is costly, thus it's very important to cache data locally. Luckily, vectorbt implements a range of ways for managing local data.</p> <h2 id=pickling>Pickling<a class=headerlink href=#pickling title="Permanent link">&para;</a></h2> <p>Like any other class subclassing <a href=../../../api/utils/pickling/index.html#vectorbtpro.utils.pickling.Pickleable>Pickleable</a>, we can save any <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data>Data</a> instance to the disk using <a href=../../../api/utils/pickling/index.html#vectorbtpro.utils.pickling.Pickleable.save>Pickleable.save</a> and load it back using <a href=../../../api/utils/pickling/index.html#vectorbtpro.utils.pickling.Pickleable.load>Pickleable.load</a>. This will pickle the entire Python object including the stored Pandas objects, symbol dictionaries, and settings:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>from</span> <span class=nn>vectorbtpro</span> <span class=kn>import</span> <span class=o>*</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-01&quot;</span><span class=p>,</span> 
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-05&quot;</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p> <div class="progress progress-100plus candystripe"> <div class=progress-bar style=width:100.00%> <p class=progress-label>Symbol 2/2</p> </div> </div> </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span> <span class=o>=</span> <span class=n>yf_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-06&quot;</span><span class=p>)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=go>Date                                              </span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=go>2020-01-05 00:00:00+00:00  7411.317383  136.276779</span>
</span></code></pre></div> <ol> <li>Automatically adds the extension <code>.pickle</code> to the file name</li> <li>The object can be loaded back in a new runtime or even on another machine, just make sure to use a compatible vectorbt version</li> </ol> <div class="admonition important"> <p class=admonition-title>Important</p> <p>The class definition won't be saved. If a new version of vectorbt introduces a breaking change to the <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data>Data</a> constructor, the object may not load. In such a case, you can manually create a new instance: </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=p>(</span><span class=o>**</span><span class=n>vbt</span><span class=o>.</span><span class=n>Configured</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>config</span><span class=p>)</span>
</span></code></pre></div> </div> <h2 id=saving>Saving<a class=headerlink href=#saving title="Permanent link">&para;</a></h2> <p>While pickling is a pretty fast and convenient solution to storing Python objects of any size, the pickled file is effectively a black box that requires a Python interpreter to be unboxed, which makes it unusable for many tasks since it cannot be imported by most other data-driven tools. To lift this limitation, the <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data>Data</a> class allows us for saving exclusively the stored Pandas objects into one to multiple files of a tabular format.</p> <h3 id=csv>CSV<a class=headerlink href=#csv title="Permanent link">&para;</a></h3> <p>The first supported file format is the <a href=https://en.wikipedia.org/wiki/Comma-separated_values>CSV</a> format, which is implemented by the instance method <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_csv>Data.to_csv</a>. This method takes a path to the directory where the data should be stored (<code>path_or_buf</code>), and saves each symbol in a separate file using <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html>DataFrame.to_csv</a>.</p> <p>By default, it appends the extension <code>.csv</code> to each symbol, and saves the files into the current directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>()</span>
</span></code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Multiple symbols cannot be stored inside a single CSV file.</p> </div> <p>We can list all CSV files in the current directory using <a href=../../../api/utils/path_/index.html#vectorbtpro.utils.path_.list_files>list_files</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>list_files</span><span class=p>(</span><span class=s2>&quot;*.csv&quot;</span><span class=p>)</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=go>[PosixPath(&#39;ETH-USD.csv&#39;), PosixPath(&#39;BTC-USD.csv&#39;)]</span>
</span></code></pre></div> <p>A cleaner approach is to save all the data in a separate directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_file</span><span class=p>(</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_file</span><span class=p>(</span><span class=s2>&quot;ETH-USD.csv&quot;</span><span class=p>)</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>  <span class=c1># (2)!</span>
</span></code></pre></div> <ol> <li>Delete the CSV files created previously from the current directory</li> <li>Save the files to the directory with the name <code>data</code>. If the directory doesn't exist, create a new one by passing keyword arguments <code>mkdir_kwargs</code> down to <a href=../../../api/utils/path_/index.html#vectorbtpro.utils.path_.check_mkdir>check_mkdir</a>.</li> </ol> <p>To save the data as tab-separated values (TSV):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>ext</span><span class=o>=</span><span class=s2>&quot;tsv&quot;</span><span class=p>)</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>list_files</span><span class=p>(</span><span class=s2>&quot;data/*.tsv&quot;</span><span class=p>)</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=go>[PosixPath(&#39;data/BTC-USD.tsv&#39;), PosixPath(&#39;data/ETH-USD.tsv&#39;)]</span>
</span></code></pre></div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>You don't have to pass <code>sep</code>: vectorbt will recognize the extension and pass the correct delimiter. But you can still override this argument if you need to split the data by a special character.</p> </div> <p>Similarly to <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.pull>Data.pull</a>, we can provide any argument as a feature/symbol dictionary of type <a href=../../../api/data/base/index.html#vectorbtpro.data.base.key_dict>key_dict</a> to define different rules for different symbols. Let's store the symbols from our example in separate directories:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=gp>... </span>    <span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;btc_data&quot;</span><span class=p>,</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;eth_data&quot;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=gp>... </span>    <span class=p>}),</span> 
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=gp>... </span>    <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>We can also specify the path to each file by using <code>path_or_buf</code> (first argument):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=gp>... </span>    <span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;data/btc_usd.csv&quot;</span><span class=p>,</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;data/eth_usd.csv&quot;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=gp>... </span>    <span class=p>}),</span> 
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=gp>... </span>    <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>To delete the entire directory (as part of a clean-up, for example):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_dir</span><span class=p>(</span><span class=s2>&quot;btc_data&quot;</span><span class=p>,</span> <span class=n>with_contents</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_dir</span><span class=p>(</span><span class=s2>&quot;eth_data&quot;</span><span class=p>,</span> <span class=n>with_contents</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_dir</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>with_contents</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <h3 id=hdf>HDF<a class=headerlink href=#hdf title="Permanent link">&para;</a></h3> <p>The second supported file format is the <a href=https://en.wikipedia.org/wiki/Hierarchical_Data_Format>HDF</a> format, which is implemented by the instance method <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_hdf>Data.to_hdf</a>. In contrast to <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_csv>Data.to_csv</a>, this method can store multiple symbols inside a single file, where symbols are distributed as HDF keys.</p> <p>By default, it creates a new file with the same name as the name of the data class and an extension <code>.h5</code>, and saves each symbol under a separate key in that file using <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_hdf.html>DataFrame.to_hdf</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>()</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>list_files</span><span class=p>(</span><span class=s2>&quot;*.h5&quot;</span><span class=p>)</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=go>[PosixPath(&#39;YFData.h5&#39;)]</span>
</span></code></pre></div> <p>To see the list of all the groups and keys contained in an HDF file:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=gp>&gt;&gt;&gt; </span><span class=k>with</span> <span class=n>pd</span><span class=o>.</span><span class=n>HDFStore</span><span class=p>(</span><span class=s2>&quot;YFData.h5&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>store</span><span class=p>:</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>store</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=go>[&#39;/BTC-USD&#39;, &#39;/ETH-USD&#39;]</span>
</span></code></pre></div> <p>Use the <code>key</code> argument to manually specify the key of a particular symbol:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=gp>... </span>    <span class=n>key</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;btc_usd&quot;</span><span class=p>,</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;eth_usd&quot;</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>If there is only one symbol, you don't need to use <a href=../../../api/data/base/index.html#vectorbtpro.data.base.key_dict>key_dict</a>, just pass <code>key="btc_usd"</code>.</p> </div> <p>We can also specify the path to each file by using <code>path_or_buf</code> (first argument):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=gp>... </span>    <span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;btc_usd.h5&quot;</span><span class=p>,</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;eth_usd.h5&quot;</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>The arguments <code>path_or_buf</code> and <code>key</code> can be combined.</p> <p>Any other argument behaves the same as for <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_csv>Data.to_csv</a>.</p> <h3 id=feather-parquet>Feather &amp; Parquet<a class=headerlink href=#feather-parquet title="Permanent link">&para;</a></h3> <p>The third supported option is saving to a Feather/Parquet file, which is implemented by the instance method <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_feather>Data.to_feather</a> and <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_parquet>Data.to_parquet</a> respectively. Feather is an unmodified raw columnar Arrow memory and is designed for short-term storage, while Parquet is often more expensive to write but features more layers of encoding and compression, making Parquet files often much smaller than Feather files. Another major difference between both is that we cannot partition data with Feather, neither we can natively store the index - it must be stored as a separate column, which is done automatically by vectorbt. We'll show to how to save to a Parquet memory.</p> <p>By default, it appends the extension <code>.parquet</code> to each symbol, and saves the files into the current directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>()</span>
</span></code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Multiple symbols cannot be stored inside a single Parquet file.</p> </div> <p>Other saving options are very similar to CSV saving options.</p> <p>Apart from storing each DataFrame to a separate Parquet file, we can partition the DataFrame either by columns or rows. Partitioning by columns is controlled by the argument <code>partition_cols</code>, which takes a list of column names. Columns must be present in the data and are partitioned in the order they are given. Partitioning by rows is controlled by the argument <code>partition_by</code>, which takes a grouping instruction such as a frequency, an index (also multi-index), a Pandas grouper or resampler, or a vectorbt's own <a href=../../../api/base/grouping/base/index.html#vectorbtpro.base.grouping.base.Grouper>Grouper</a> instance, and together with <code>groupby_kwargs</code> creates a new <code>Grouper</code> instance to be used in partitioning. Then, it attaches the groups as columns to each DataFrame, and provides the name of these columns as <code>partition_cols</code>. By default, if there's only one column, it will be named "group", and if there are more columns, they will be named after "group_{index}". To use own names, enable <code>keep_groupby_names</code>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>When <code>partition_cols</code> or <code>partition_by</code> is provided, each symbol will be stored to a separate directory.</p> </div> <p>Let's partition our data by two days and save each DataFrame to its own Parquet directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=n>partition_by</span><span class=o>=</span><span class=s2>&quot;2 days&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Let's visualize the directory tree for the <code>BTC-USD</code> symbol:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>print_dir_tree</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=go>BTC-USD</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=go>├── group=2020-01-01%2000%3A00%3A00.000000000</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=go>│   └── 190335d948d04504b42a8d35ffb08f47-0.parquet</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=go>└── group=2020-01-03%2000%3A00%3A00.000000000</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=go>    └── 190335d948d04504b42a8d35ffb08f47-0.parquet</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=go>2 directories, 2 files</span>
</span></code></pre></div> <h3 id=sql>SQL<a class=headerlink href=#sql title="Permanent link">&para;</a></h3> <p>The fourth supported option is saving to a SQL database, which is implemented by the instance method <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_sql>Data.to_sql</a>. It requires <a href=https://www.sqlalchemy.org/ >SQLAlchemy</a> to be installed. This method takes the engine (object, name, or URL) and saves each symbol as a separate table to the database managed by the engine using <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html><code>pd.to_sql</code></a>. The engine can be created either manually using SQLAlchemy's <code>create_engine</code> functon, or we can pass an URL and it will be created for us; in this case, it will be disposed at the end of the call.</p> <p>Let's create a SQL database file in our working directory and store the data there:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>SQLITE_URL</span> <span class=o>=</span> <span class=s2>&quot;sqlite:///yf_data.db&quot;</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>SQLITE_URL</span><span class=p>)</span>
</span></code></pre></div> <p>If we want to continue working with the same engine and don't want to create another engine object, we can pass <code>return_engine=True</code> to return the engine object.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>engine</span> <span class=o>=</span> <span class=n>yf_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>SQLITE_URL</span><span class=p>,</span> <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;replace&quot;</span><span class=p>,</span> <span class=n>return_engine</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <p>We can also specify the schema by using the <code>schema</code> argument. Note, however, that some databases, such as SQLite, do not support the concept of a schema. If the schema doesn't exist, it will be created automatically.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>POSTGRESQL_URL</span> <span class=o>=</span> <span class=s2>&quot;postgresql://postgres:postgres@localhost:5432&quot;</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=n>POSTGRESQL_URL</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Use the <code>table</code> argument to manually specify the table name of a particular symbol:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=gp>... </span>    <span class=n>POSTGRESQL_URL</span><span class=p>,</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=gp>... </span>    <span class=n>table</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;BTC_USD&quot;</span><span class=p>,</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;ETH_USD&quot;</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If the index is datetime-like and/or there are datetime-like columns, the method will localize/convert them to UTC first. To change this behavior, set the argument <code>to_utc</code> to False to deactivate, to "index" to apply it to the index only, and to "columns" to apply it to the columns only. In addition, the UTC timezone will be removed if <code>remove_utc_tz</code> is True (default) since some databases do not support timezone-aware timestamps; other timezones are not touched.</p> </div> <h3 id=duckdb>DuckDB<a class=headerlink href=#duckdb title="Permanent link">&para;</a></h3> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>Previous method (using SQLAlchemy) can be used to write to a DuckDB database as well. For this, you have to install the <a href=https://pypi.org/project/duckdb-engine/ >duckdb-engine</a> extension.</p> </div> <p>The fifth supported option is very similar to the previous one and allows to save data to a DuckDB database or CSV/Parquet/JSON file(s). It's implemented by the instance method <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_duckdb>Data.to_duckdb</a>. It requires <a href=https://duckdb.org/ >DuckDB</a> to be installed. This method takes the connection (object or URL) and saves each symbol as a separate table to the database managed by the connection or to file(s) using a SQL query. The connection can be created either manually using DuckDB's <code>connect</code> functon, or we can pass an URL and it will be created for us. If neither connection or connection-related keyword arguments are passed, the default in-memory connection is used.</p> <p>Let's create a DuckDB database file in our working directory and store the data there:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>DUCKDB_URL</span> <span class=o>=</span> <span class=s2>&quot;database.duckdb&quot;</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_duckdb</span><span class=p>(</span><span class=n>DUCKDB_URL</span><span class=p>)</span>
</span></code></pre></div> <p>We can also specify the catalog and schema by using the <code>catalog</code> and <code>schema</code> argument respectively. If the schema doesn't exist, it will be created automatically.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_duckdb</span><span class=p>(</span><span class=n>DUCKDB_URL</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Use the <code>table</code> argument to manually specify the table name of a particular symbol:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_duckdb</span><span class=p>(</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=gp>... </span>    <span class=n>DUCKDB_URL</span><span class=p>,</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=gp>... </span>    <span class=n>table</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;BTC_USD&quot;</span><span class=p>,</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;ETH_USD&quot;</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>There's also an option to save each DataFrame to a CSV, Parquet, or JSON file, rather than to the database itself. For this, we can use <code>write_format</code>, <code>write_path</code>, and <code>write_options</code>. The operation is performed using <a href=https://duckdb.org/docs/sql/statements/copy.html><code>COPY TO</code></a>. If <code>write_path</code> is a directory (which is the working directory by default), then each DataFrame will be saved to a file based on the specified format. Format is not needed if <code>write_path</code> points to a file with a recognizable extension. The options argument can be used to specify the options for writing; it can be either a string as in the DuckDB's documentation, such as <code>HEADER 1, DELIMITER ','</code>, or as a dictionary that will be translated into such a string by vectorbt, such as <code>dict(header=1, delimiter=',')</code>.</p> <p>Let's save all data to Parquet files:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_duckdb</span><span class=p>(</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=gp>... </span>    <span class=n>DUCKDB_URL</span><span class=p>,</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=gp>... </span>    <span class=n>write_path</span><span class=o>=</span><span class=s2>&quot;data&quot;</span><span class=p>,</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=gp>... </span>    <span class=n>write_format</span><span class=o>=</span><span class=s2>&quot;parquet&quot;</span><span class=p>,</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=gp>... </span>    <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>See the notes in the SQL section.</p> </div> <h2 id=loading>Loading<a class=headerlink href=#loading title="Permanent link">&para;</a></h2> <p>To import any previously stored data in a tabular format, we can either use Pandas or vectorbt's preset data classes specifically crafted for this job.</p> <h3 id=csv_1>CSV<a class=headerlink href=#csv_1 title="Permanent link">&para;</a></h3> <p>Each CSV dataset can be manually imported using <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html>pandas.read_csv</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>()</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span> <span class=n>index_col</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>parse_dates</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=go>                                  Open         High          Low        Close  \\</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=go>Date                                                                            </span>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a><span class=go>2020-01-01 00:00:00+00:00  7194.892090  7254.330566  7174.944336  7200.174316   </span>
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=go>2020-01-02 00:00:00+00:00  7202.551270  7212.155273  6935.270020  6985.470215   </span>
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a><span class=go>2020-01-03 00:00:00+00:00  6984.428711  7413.715332  6914.996094  7344.884277   </span>
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=go>2020-01-04 00:00:00+00:00  7345.375488  7427.385742  7309.514160  7410.656738   </span>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a>
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=go>                                Volume  Dividends  Stock Splits  </span>
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a><span class=go>Date                                                             </span>
</span><span id=__span-25-13><a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=go>2020-01-01 00:00:00+00:00  18565664997        0.0           0.0  </span>
</span><span id=__span-25-14><a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=go>2020-01-02 00:00:00+00:00  20802083465        0.0           0.0  </span>
</span><span id=__span-25-15><a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a><span class=go>2020-01-03 00:00:00+00:00  28111481032        0.0           0.0  </span>
</span><span id=__span-25-16><a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a><span class=go>2020-01-04 00:00:00+00:00  18444271275        0.0           0.0 </span>
</span></code></pre></div> <p>To join the imported datasets and wrap them with <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data>Data</a>, we can use <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.from_data>Data.from_data</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>btc_usd</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span> <span class=n>index_col</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>parse_dates</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>eth_usd</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&quot;ETH-USD.csv&quot;</span><span class=p>,</span> <span class=n>index_col</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>parse_dates</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>Data</span><span class=o>.</span><span class=n>from_data</span><span class=p>({</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=n>btc_usd</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=n>eth_usd</span><span class=p>})</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=go>Date                                              </span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-26-10><a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-26-11><a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p>To relieve the user of the burden of manually searching, fetching, and merging CSV data, vectorbt implements the class <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a>, which can recursively explore directories for CSV files, resolve path expressions using <a href=https://docs.python.org/3/library/glob.html>glob</a>, translate the found paths into symbols, and import and join tabular data - all automatically via a single command. It subclasses another class - <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData>FileData</a>, which takes the whole credit for making all the above possible. </p> <p>At the heart of the path matching functionality is the class method <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.pull>FileData.pull</a>, which iterates over the specified paths, and for each one, finds the matching absolute paths using another class method <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.match_path>FileData.match_path</a>, and calls the abstract class method <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.fetch_key>FileData.fetch_key</a> to pull the data from the file located under that path.</p> <p>Let's explore how <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.match_path>FileData.match_path</a> works by creating a directory with the name <code>data</code> and storing various empty files inside:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_dir</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/file1.csv&quot;</span><span class=p>)</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/file2.tsv&quot;</span><span class=p>)</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/file3&quot;</span><span class=p>)</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_dir</span><span class=p>(</span><span class=s2>&quot;data/sub-data&quot;</span><span class=p>,</span> <span class=n>exist_ok</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/sub-data/file1.csv&quot;</span><span class=p>)</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/sub-data/file2.tsv&quot;</span><span class=p>)</span>
</span><span id=__span-27-9><a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>make_file</span><span class=p>(</span><span class=s2>&quot;data/sub-data/file3&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>To get a better visual representation of the created contents:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>print_dir_tree</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=go>data</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=go>├── file1.csv</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=go>├── file2.tsv</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=go>├── file3</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=go>└── sub-data</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=go>    ├── file1.csv</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a><span class=go>    ├── file2.tsv</span>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=go>    └── file3</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a>
</span><span id=__span-28-11><a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=go>1 directories, 6 files</span>
</span></code></pre></div> <p>Match all files in a directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>FileData</span><span class=o>.</span><span class=n>match_path</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>)</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=go>[PosixPath(&quot;data/file1.csv&quot;),</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=go> PosixPath(&quot;data/file2.tsv&quot;),</span>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=go> PosixPath(&quot;data/file3&quot;)]</span>
</span></code></pre></div> <p>Match all CSV files in a directory:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>FileData</span><span class=o>.</span><span class=n>match_path</span><span class=p>(</span><span class=s2>&quot;data/*.csv&quot;</span><span class=p>)</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=go>[PosixPath(&quot;data/file1.csv&quot;)]</span>
</span></code></pre></div> <p>Match all CSV files in a directory recursively:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>FileData</span><span class=o>.</span><span class=n>match_path</span><span class=p>(</span><span class=s2>&quot;data/**/*.csv&quot;</span><span class=p>)</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=go>[PosixPath(&quot;data/file1.csv&quot;), PosixPath(&quot;data/sub-data/file1.csv&quot;)]</span>
</span></code></pre></div> <p>For more details, see the documentation of <a href=https://docs.python.org/3/library/glob.html>glob</a>.</p> <p>Going back to <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.pull>FileData.pull</a>: it can match one or multiple path expressions like above, provided either as <code>symbols</code> (if <code>paths</code> is None) or <code>paths</code>. Whenever we provide paths as symbols, the method calls <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.path_to_symbol>FileData.path_to_symbol</a> on each matched path to parse the name of the symbol (by default, it's the stem of the path):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=go>[&quot;BTC-USD&quot;]</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD.csv&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=go>[&quot;BTC-USD&quot;, &quot;ETH-USD&quot;]</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;*.csv&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=go>[&quot;BTC-USD&quot;, &quot;ETH-USD&quot;]</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC/USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH/USD&quot;</span><span class=p>],</span> <span class=n>paths</span><span class=o>=</span><span class=s2>&quot;*.csv&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (1)!</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a><span class=go>[&quot;BTC/USD&quot;, &quot;ETH/USD&quot;]</span>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>  <span class=c1># (2)!</span>
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC/USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH/USD&quot;</span><span class=p>],</span> 
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a><span class=gp>... </span>    <span class=n>paths</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD.csv&quot;</span><span class=p>]</span>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-32-17><a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=go>[&quot;BTC/USD&quot;, &quot;ETH/USD&quot;]</span>
</span></code></pre></div> <ol> <li>Specify the symbols explicitly</li> <li>Specify the symbols and the paths explicitly</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Don't forget to filter by the <code>.csv</code>, <code>.tsv</code>, or any other extension in the expression.</p> </div> <p>Whenever we use a wildcard such as <code>*.csv</code>, vectorbt will sort the matched paths (per each path expression). To disable sorting, set <code>sort_paths</code> to False. We can also disable the path matching mechanism entirely by setting <code>match_paths</code> to False, which will forward all arguments directly to <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData.fetch_key>CSVData.fetch_key</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC/USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH/USD&quot;</span><span class=p>],</span> 
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=gp>... </span>    <span class=n>paths</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC/USD&quot;</span><span class=p>:</span> <span class=s2>&quot;BTC-USD.csv&quot;</span><span class=p>,</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=gp>... </span>        <span class=s2>&quot;ETH/USD&quot;</span><span class=p>:</span> <span class=s2>&quot;ETH-USD.csv&quot;</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=gp>... </span>    <span class=p>}),</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=gp>... </span>    <span class=n>match_paths</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a><span class=go>[&quot;BTC/USD&quot;, &quot;ETH/USD&quot;]</span>
</span></code></pre></div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>Instead of paths, you can pass objects of any type supported by the <code>filepath_or_buffer</code> argument in <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html>pandas.read_csv</a>.</p> </div> <p>To sum up the techniques discussed above, let's create an empty directory with the name <code>data</code> (again), write the <code>BTC-USD</code> symbol to a CSV file and the <code>ETH-USD</code> symbol to a TSV file, and load both datasets with a single <code>fetch</code> call:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_dir</span><span class=p>(</span><span class=s2>&quot;data&quot;</span><span class=p>,</span> <span class=n>with_contents</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=gp>... </span>    <span class=s2>&quot;data&quot;</span><span class=p>,</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=gp>... </span>    <span class=n>ext</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;csv&quot;</span><span class=p>,</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;tsv&quot;</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a><span class=gp>... </span>    <span class=p>}),</span> 
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=gp>... </span>    <span class=n>mkdir_kwargs</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>mkdir</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>csv_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;data/*.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;data/*.tsv&quot;</span><span class=p>])</span>  <span class=c1># (1)!</span>
</span></code></pre></div> <ol> <li>The delimiter is recognized automatically based on the file's extension</li> </ol> <p> <div class="progress progress-100plus candystripe"> <div class=progress-bar style=width:100.00%> <p class=progress-label>Symbol 2/2</p> </div> </div> </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>csv_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=go>Date                                              </span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Providing two paths with wildcards (<code>*</code>) doesn't mean we will get exactly two symbols: there may be more than one path matching each wildcard. You should imagine the two expressions above as being combined using the OR rule into a single expression <code>data/*.{csv,tsv}</code> (which isn't supported by <a href=https://docs.python.org/3/library/glob.html>glob</a>, unfortunately).</p> </div> <p>The last but not the least is regex matching with <code>match_regex</code>, which instructs vectorbt to iterate over all matched paths and additionally validate them against a regular expression:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=gp>... </span>    <span class=s2>&quot;data/**/*&quot;</span><span class=p>,</span>  <span class=c1># (1)!</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=gp>... </span>    <span class=n>match_regex</span><span class=o>=</span><span class=sa>r</span><span class=s2>&quot;^.*\.(csv|tsv)$&quot;</span>  <span class=c1># (2)!</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a><span class=go>Date                                              </span>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <ol> <li>Recursively get the paths of all files in all subdirectories in <code>data</code></li> <li>Filter out any paths that do not end with <code>csv</code> or <code>tsv</code></li> </ol> <p>Any other argument is being passed directly to <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData.fetch_key>CSVData.fetch_key</a> and then to <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html>pandas.read_csv</a>.</p> <h4 id=chunking>Chunking<a class=headerlink href=#chunking title="Permanent link">&para;</a></h4> <p>As an alternative to reading everything into memory, Pandas allows us to read data in chunks. In the case of CSV, we can load only a subset of lines into memory at any given time. Even though this is a very useful concept for processing big data, chunking doesn't provide many benefits when the only goal is to load the entire data into memory anyway.</p> <p>Where chunking becomes really useful though is data filtering! The class <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a> as well as the function <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html>pandas.read_csv</a> it's based on don't have arguments for skipping rows based on their content, only based on their row index. For example, to skip all the data that comes before <code>2020-01-03</code>, we would need to load the entire data into memory first. But once data becomes too large, we may run out of RAM. To account for this, we can split data into chunks and check the condition on each chunk at a time.</p> <p>We have two options from here:</p> <ol> <li>Use <code>chunksize</code> to split data into chunks of a fixed length</li> <li>Use <code>iterator</code> to return an iterator that can be used to read chunks of a variable length</li> </ol> <p>Both options make <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html>pandas.read_csv</a> return an iterator of type <code>TextFileReader</code>. To make use of this iterator, <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData.fetch_key>CSVData.fetch_key</a> accepts a user-defined function <code>chunk_func</code> that should 1) accept the iterator, 2) select, process, and concatenate chunks, and 3) return a Series or a DataFrame. </p> <p>Let's fetch only those rows that have the date ending with an even day:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>csv_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>CSVData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;data/*.csv&quot;</span><span class=p>,</span> <span class=s2>&quot;data/*.tsv&quot;</span><span class=p>],</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=gp>... </span>    <span class=n>chunksize</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># (1)!</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=gp>... </span>    <span class=n>chunk_func</span><span class=o>=</span><span class=k>lambda</span> <span class=n>iterator</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=gp>... </span>        <span class=n>df</span> 
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=gp>... </span>        <span class=k>for</span> <span class=n>df</span> <span class=ow>in</span> <span class=n>iterator</span>
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=gp>... </span>        <span class=k>if</span> <span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>day</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=gp>... </span>    <span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <ol> <li>Each chunk will be a DataFrame with one row</li> </ol> <p> <div class="progress progress-100plus candystripe"> <div class=progress-bar style=width:100.00%> <p class=progress-label>Symbol 2/2</p> </div> </div> </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>csv_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=go>Date                                              </span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Chunking should mainly be used when memory considerations are more important than speed considerations.</p> </div> <h3 id=hdf_1>HDF<a class=headerlink href=#hdf_1 title="Permanent link">&para;</a></h3> <p>Each HDF dataset can be manually imported using <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_hdf.html>pandas.read_hdf</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>()</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_hdf</span><span class=p>(</span><span class=s2>&quot;YFData.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>)</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=go>                                  Open         High          Low        Close  \\</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=go>Date                                                                            </span>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=go>2020-01-01 00:00:00+00:00  7194.892090  7254.330566  7174.944336  7200.174316   </span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=go>2020-01-02 00:00:00+00:00  7202.551270  7212.155273  6935.270020  6985.470215   </span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=go>2020-01-03 00:00:00+00:00  6984.428711  7413.715332  6914.996094  7344.884277   </span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=go>2020-01-04 00:00:00+00:00  7345.375488  7427.385742  7309.514160  7410.656738   </span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a><span class=go>                                Volume  Dividends  Stock Splits  </span>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=go>Date                                                             </span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=go>2020-01-01 00:00:00+00:00  18565664997        0.0           0.0  </span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a><span class=go>2020-01-02 00:00:00+00:00  20802083465        0.0           0.0  </span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=go>2020-01-03 00:00:00+00:00  28111481032        0.0           0.0  </span>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a><span class=go>2020-01-04 00:00:00+00:00  18444271275        0.0           0.0  </span>
</span></code></pre></div> <p>Similarly to <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a> for CSV data, vectorbt implements a preset class <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData>HDFData</a> tailored for reading HDF files. It shares the same parent class <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData>FileData</a> and its fetcher <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.pull>FileData.pull</a>. But in contrast to CSV datasets, which are stored one per file, HDF datasets are stored one per key in an HDF file. Since groups and keys follow the <a href=https://en.wikipedia.org/wiki/POSIX>POSIX</a>-style hierarchy with <code>/</code>-separators, we can query them in the same way as we query directories and files in a regular file system.</p> <p>Let's illustrate this by using <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData.match_path>HDFData.match_path</a>, which upgrades <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.match_path>FileData.match_path</a> with a proper discovery and handling of HDF groups and keys:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>match_path</span><span class=p>(</span><span class=s2>&quot;YFData.h5&quot;</span><span class=p>)</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=go>[PosixPath(&quot;YFData.h5/BTC-USD&quot;), PosixPath(&quot;YFData.h5/ETH-USD&quot;)]</span>
</span></code></pre></div> <p>As we can see, the HDF file above is now being treated as a directory while groups and keys are being treated as subdirectories and files respectively. This makes importing HDF datasets as easy as CSV datasets:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;YFData.h5/BTC-USD&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (1)!</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=go>[&quot;BTC-USD&quot;]</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;YFData.h5&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (2)!</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=go>[&quot;BTC-USD&quot;, &quot;ETH-USD&quot;]</span>
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a>
</span><span id=__span-41-7><a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;YFData.h5/BTC*&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (3)!</span>
</span><span id=__span-41-8><a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class=go>[&quot;BTC-USD&quot;]</span>
</span><span id=__span-41-9><a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a>
</span><span id=__span-41-10><a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;*.h5/BTC-*&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (4)!</span>
</span><span id=__span-41-11><a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a><span class=go>[&quot;BTC-USD&quot;]</span>
</span></code></pre></div> <ol> <li>Matches the key <code>BTC-USD</code> in <code>YFData.h5</code></li> <li>Matches all keys in <code>YFData.h5</code></li> <li>Matches all keys starting with <code>BTC</code> in <code>YFData.h5</code> </li> <li>Matches all keys starting with <code>BTC</code> in all HDF files</li> </ol> <p>Any other argument behaves the same as for <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a>, but now it's being passed directly to <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData.fetch_key>HDFData.fetch_key</a> and then to <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_hdf.html>pandas.read_hdf</a>.</p> <h4 id=chunking_1>Chunking<a class=headerlink href=#chunking_1 title="Permanent link">&para;</a></h4> <p>Chunking for HDF files is identical to that for CSV files, but with two exceptions: the data must be saved as a <a href=https://www.pytables.org/ >PyTables</a> Table structure by using <code>format="table"</code>, and the iterator is now of type <code>TableIterator</code> instead of <code>TextFileReader</code>.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=nb>format</span><span class=o>=</span><span class=s2>&quot;table&quot;</span><span class=p>)</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=gp>... </span>    <span class=s2>&quot;YFData.h5&quot;</span><span class=p>,</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=gp>... </span>    <span class=n>chunksize</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=gp>... </span>    <span class=n>chunk_func</span><span class=o>=</span><span class=k>lambda</span> <span class=n>iterator</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=gp>... </span>        <span class=n>df</span> 
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=gp>... </span>        <span class=k>for</span> <span class=n>df</span> <span class=ow>in</span> <span class=n>iterator</span>
</span><span id=__span-42-9><a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=gp>... </span>        <span class=k>if</span> <span class=p>(</span><span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>day</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
</span><span id=__span-42-10><a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a><span class=gp>... </span>    <span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-42-11><a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p> <div class="progress progress-100plus candystripe"> <div class=progress-bar style=width:100.00%> <p class=progress-label>Symbol 2/2</p> </div> </div> </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=go>Date                                              </span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-43-5><a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <h3 id=feather-parquet_1>Feather &amp; Parquet<a class=headerlink href=#feather-parquet_1 title="Permanent link">&para;</a></h3> <p>Each Parquet dataset can be manually imported using <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_parquet.html>pandas.read_parquet</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>()</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_parquet</span><span class=p>(</span><span class=s2>&quot;BTC-USD.parquet&quot;</span><span class=p>)</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a><span class=go>                                  Open         High          Low        Close  \\</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=go>Date                                                                            </span>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=go>2020-01-01 00:00:00+00:00  7194.892090  7254.330566  7174.944336  7200.174316   </span>
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=go>2020-01-02 00:00:00+00:00  7202.551270  7212.155273  6935.270020  6985.470215   </span>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=go>2020-01-03 00:00:00+00:00  6984.428711  7413.715332  6914.996094  7344.884277   </span>
</span><span id=__span-44-9><a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a><span class=go>2020-01-04 00:00:00+00:00  7345.375488  7427.385742  7309.514160  7410.656738   </span>
</span><span id=__span-44-10><a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a>
</span><span id=__span-44-11><a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a><span class=go>                                Volume  Dividends  Stock Splits  </span>
</span><span id=__span-44-12><a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=go>Date                                                             </span>
</span><span id=__span-44-13><a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a><span class=go>2020-01-01 00:00:00+00:00  18565664997        0.0           0.0  </span>
</span><span id=__span-44-14><a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a><span class=go>2020-01-02 00:00:00+00:00  20802083465        0.0           0.0  </span>
</span><span id=__span-44-15><a id=__codelineno-44-15 name=__codelineno-44-15 href=#__codelineno-44-15></a><span class=go>2020-01-03 00:00:00+00:00  28111481032        0.0           0.0  </span>
</span><span id=__span-44-16><a id=__codelineno-44-16 name=__codelineno-44-16 href=#__codelineno-44-16></a><span class=go>2020-01-04 00:00:00+00:00  18444271275        0.0           0.0  </span>
</span></code></pre></div> <p>Same goes for partitioned datasets:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data2</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;XRP-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-01&quot;</span><span class=p>,</span> 
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-05&quot;</span>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data2</span><span class=o>.</span><span class=n>to_parquet</span><span class=p>(</span><span class=n>partition_by</span><span class=o>=</span><span class=s2>&quot;2D&quot;</span><span class=p>)</span>
</span><span id=__span-45-7><a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a>
</span><span id=__span-45-8><a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_parquet</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-45-9><a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a><span class=go>                                Open       High        Low      Close  \\</span>
</span><span id=__span-45-10><a id=__codelineno-45-10 name=__codelineno-45-10 href=#__codelineno-45-10></a><span class=go>Date                                                                    </span>
</span><span id=__span-45-11><a id=__codelineno-45-11 name=__codelineno-45-11 href=#__codelineno-45-11></a><span class=go>2020-01-01 00:00:00+00:00  13.730962  13.873946  13.654942  13.689083   </span>
</span><span id=__span-45-12><a id=__codelineno-45-12 name=__codelineno-45-12 href=#__codelineno-45-12></a><span class=go>2020-01-02 00:00:00+00:00  13.698126  13.715548  12.989974  13.027011   </span>
</span><span id=__span-45-13><a id=__codelineno-45-13 name=__codelineno-45-13 href=#__codelineno-45-13></a><span class=go>2020-01-03 00:00:00+00:00  13.035329  13.763709  13.012638  13.660452   </span>
</span><span id=__span-45-14><a id=__codelineno-45-14 name=__codelineno-45-14 href=#__codelineno-45-14></a><span class=go>2020-01-04 00:00:00+00:00  13.667442  13.921914  13.560008  13.891512   </span>
</span><span id=__span-45-15><a id=__codelineno-45-15 name=__codelineno-45-15 href=#__codelineno-45-15></a>
</span><span id=__span-45-16><a id=__codelineno-45-16 name=__codelineno-45-16 href=#__codelineno-45-16></a><span class=go>                              Volume  Dividends  Stock Splits  \\</span>
</span><span id=__span-45-17><a id=__codelineno-45-17 name=__codelineno-45-17 href=#__codelineno-45-17></a><span class=go>Date                                                            </span>
</span><span id=__span-45-18><a id=__codelineno-45-18 name=__codelineno-45-18 href=#__codelineno-45-18></a><span class=go>2020-01-01 00:00:00+00:00  172980718        0.0           0.0   </span>
</span><span id=__span-45-19><a id=__codelineno-45-19 name=__codelineno-45-19 href=#__codelineno-45-19></a><span class=go>2020-01-02 00:00:00+00:00  156376427        0.0           0.0   </span>
</span><span id=__span-45-20><a id=__codelineno-45-20 name=__codelineno-45-20 href=#__codelineno-45-20></a><span class=go>2020-01-03 00:00:00+00:00  173683857        0.0           0.0   </span>
</span><span id=__span-45-21><a id=__codelineno-45-21 name=__codelineno-45-21 href=#__codelineno-45-21></a><span class=go>2020-01-04 00:00:00+00:00  182230374        0.0           0.0   </span>
</span><span id=__span-45-22><a id=__codelineno-45-22 name=__codelineno-45-22 href=#__codelineno-45-22></a>
</span><span id=__span-45-23><a id=__codelineno-45-23 name=__codelineno-45-23 href=#__codelineno-45-23></a><span class=go>                                                   group  </span>
</span><span id=__span-45-24><a id=__codelineno-45-24 name=__codelineno-45-24 href=#__codelineno-45-24></a><span class=go>Date                                                      </span>
</span><span id=__span-45-25><a id=__codelineno-45-25 name=__codelineno-45-25 href=#__codelineno-45-25></a><span class=go>2020-01-01 00:00:00+00:00  2020-01-01 00:00:00.000000000  </span>
</span><span id=__span-45-26><a id=__codelineno-45-26 name=__codelineno-45-26 href=#__codelineno-45-26></a><span class=go>2020-01-02 00:00:00+00:00  2020-01-01 00:00:00.000000000  </span>
</span><span id=__span-45-27><a id=__codelineno-45-27 name=__codelineno-45-27 href=#__codelineno-45-27></a><span class=go>2020-01-03 00:00:00+00:00  2020-01-03 00:00:00.000000000  </span>
</span><span id=__span-45-28><a id=__codelineno-45-28 name=__codelineno-45-28 href=#__codelineno-45-28></a><span class=go>2020-01-04 00:00:00+00:00  2020-01-03 00:00:00.000000000  </span>
</span></code></pre></div> <ol> <li>The path is pointing at a directory</li> </ol> <p>Similarly to other classes for pulling data from local files, vectorbt implements preset classes <a href=../../../api/data/custom/feather/index.html#vectorbtpro.data.custom.feather.FeatherData>FeatherData</a> and <a href=../../../api/data/custom/parquet/index.html#vectorbtpro.data.custom.parquet.ParquetData>ParquetData</a> tailored for reading Feather and Parquet files respectively. They share the same parent class <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData>FileData</a> and its fetcher <a href=../../../api/data/custom/file/index.html#vectorbtpro.data.custom.file.FileData.pull>FileData.pull</a>.</p> <p>But first, let's discover any Parquet files or directories stored in the current working directory using <a href=../../../api/data/custom/parquet/index.html#vectorbtpro.data.custom.parquet.ParquetData.list_paths>ParquetData.list_paths</a>. What it does is searching for any files that have a ".parquet" extension as well as any directories with partitioned datasets that follow the <a href=https://arrow.apache.org/docs/python/generated/pyarrow.dataset.HivePartitioning.html>Hive partitioning scheme</a>.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>list_paths</span><span class=p>()</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=go>[PosixPath(&#39;BNB-USD&#39;),</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=go> PosixPath(&#39;BTC-USD.parquet&#39;),</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=go> PosixPath(&#39;ETH-USD.parquet&#39;),</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=go> PosixPath(&#39;XRP-USD&#39;)]</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a>
</span><span id=__span-46-7><a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>is_parquet_file</span><span class=p>(</span><span class=s2>&quot;BTC-USD.parquet&quot;</span><span class=p>)</span>
</span><span id=__span-46-8><a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=go>True</span>
</span><span id=__span-46-9><a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a>
</span><span id=__span-46-10><a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>is_parquet_dir</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>)</span>
</span><span id=__span-46-11><a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a><span class=go>True</span>
</span></code></pre></div> <p>This makes importing Parquet datasets as easy as any other file datasets:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USD.parquet&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (1)!</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=go>[&#39;BTC-USD&#39;]</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC-USD.parquet&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD.parquet&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;*.parquet&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (2)!</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-47-9><a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a>
</span><span id=__span-47-10><a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (3)!</span>
</span><span id=__span-47-11><a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a><span class=go>[&#39;BNB-USD&#39;]</span>
</span><span id=__span-47-12><a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a>
</span><span id=__span-47-13><a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;XRP-USD&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-47-14><a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a><span class=go>[&#39;BNB-USD&#39;, &#39;XRP-USD&#39;]</span>
</span><span id=__span-47-15><a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a>
</span><span id=__span-47-16><a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (4)!</span>
</span><span id=__span-47-17><a id=__codelineno-47-17 name=__codelineno-47-17 href=#__codelineno-47-17></a><span class=go>[&#39;BNB-USD&#39;, &#39;BTC-USD&#39;, &#39;ETH-USD&#39;, &#39;XRP-USD&#39;]</span>
</span></code></pre></div> <ol> <li>Pull a single-file dataset</li> <li>Pull all single-file datasets</li> <li>Pull a partitioned dataset</li> <li>Pull all single-file and partitioned datasets</li> </ol> <p>But maybe you're wondering: what happens to that "group" column in partitioned datasets? Whenever a partitioned dataset is pulled and vectorbt sees one or more partition groups that are named "group" or "group_{index}", they are ignored automatically since they were most likely generated by using a user-defined row partitioning with <code>partition_by</code>. Such groups are also called default groups.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>list_partition_cols</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>)</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=go>[&#39;group&#39;]</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>is_default_partition_col</span><span class=p>(</span><span class=s2>&quot;group&quot;</span><span class=p>)</span>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=go>True</span>
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>features</span>
</span><span id=__span-48-8><a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=go>[&#39;Open&#39;, &#39;High&#39;, &#39;Low&#39;, &#39;Close&#39;, &#39;Volume&#39;, &#39;Dividends&#39;, &#39;Stock Splits&#39;]</span>
</span></code></pre></div> <p>We can disable this behavior by setting <code>keep_partition_cols</code> to False:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BNB-USD&quot;</span><span class=p>,</span> <span class=n>keep_partition_cols</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>features</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=go>[&#39;Open&#39;,</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=go> &#39;High&#39;,</span>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a><span class=go> &#39;Low&#39;,</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a><span class=go> &#39;Close&#39;,</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a><span class=go> &#39;Volume&#39;,</span>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a><span class=go> &#39;Dividends&#39;,</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=go> &#39;Stock Splits&#39;,</span>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9 href=#__codelineno-49-9></a><span class=go> &#39;group&#39;]</span>
</span></code></pre></div> <h3 id=sql_1>SQL<a class=headerlink href=#sql_1 title="Permanent link">&para;</a></h3> <p>Each SQL table can be manually imported using <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_sql_table.html>pandas.read_sql_table</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_sql_table</span><span class=p>(</span>
</span><span id=__span-50-2><a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=gp>... </span>    <span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> 
</span><span id=__span-50-3><a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=gp>... </span>    <span class=n>POSTGRESQL_URL</span><span class=p>,</span> 
</span><span id=__span-50-4><a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=gp>... </span>    <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>,</span>
</span><span id=__span-50-5><a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=gp>... </span>    <span class=n>index_col</span><span class=o>=</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span> 
</span><span id=__span-50-6><a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a><span class=gp>... </span>    <span class=n>parse_dates</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Date&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>utc</span><span class=o>=</span><span class=kc>True</span><span class=p>)}</span>
</span><span id=__span-50-7><a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-50-8><a id=__codelineno-50-8 name=__codelineno-50-8 href=#__codelineno-50-8></a><span class=go>                                  Open         High          Low        Close  \\</span>
</span><span id=__span-50-9><a id=__codelineno-50-9 name=__codelineno-50-9 href=#__codelineno-50-9></a><span class=go>Date                                                                            </span>
</span><span id=__span-50-10><a id=__codelineno-50-10 name=__codelineno-50-10 href=#__codelineno-50-10></a><span class=go>2020-01-01 00:00:00+00:00  7194.892090  7254.330566  7174.944336  7200.174316   </span>
</span><span id=__span-50-11><a id=__codelineno-50-11 name=__codelineno-50-11 href=#__codelineno-50-11></a><span class=go>2020-01-02 00:00:00+00:00  7202.551270  7212.155273  6935.270020  6985.470215   </span>
</span><span id=__span-50-12><a id=__codelineno-50-12 name=__codelineno-50-12 href=#__codelineno-50-12></a><span class=go>2020-01-03 00:00:00+00:00  6984.428711  7413.715332  6914.996094  7344.884277   </span>
</span><span id=__span-50-13><a id=__codelineno-50-13 name=__codelineno-50-13 href=#__codelineno-50-13></a><span class=go>2020-01-04 00:00:00+00:00  7345.375488  7427.385742  7309.514160  7410.656738   </span>
</span><span id=__span-50-14><a id=__codelineno-50-14 name=__codelineno-50-14 href=#__codelineno-50-14></a>
</span><span id=__span-50-15><a id=__codelineno-50-15 name=__codelineno-50-15 href=#__codelineno-50-15></a><span class=go>                                Volume  Dividends  Stock Splits  </span>
</span><span id=__span-50-16><a id=__codelineno-50-16 name=__codelineno-50-16 href=#__codelineno-50-16></a><span class=go>Date                                                             </span>
</span><span id=__span-50-17><a id=__codelineno-50-17 name=__codelineno-50-17 href=#__codelineno-50-17></a><span class=go>2020-01-01 00:00:00+00:00  18565664997        0.0           0.0  </span>
</span><span id=__span-50-18><a id=__codelineno-50-18 name=__codelineno-50-18 href=#__codelineno-50-18></a><span class=go>2020-01-02 00:00:00+00:00  20802083465        0.0           0.0  </span>
</span><span id=__span-50-19><a id=__codelineno-50-19 name=__codelineno-50-19 href=#__codelineno-50-19></a><span class=go>2020-01-03 00:00:00+00:00  28111481032        0.0           0.0  </span>
</span><span id=__span-50-20><a id=__codelineno-50-20 name=__codelineno-50-20 href=#__codelineno-50-20></a><span class=go>2020-01-04 00:00:00+00:00  18444271275        0.0           0.0 </span>
</span></code></pre></div> <p>We can also execute any query using <a href=https://pandas.pydata.org/docs/reference/api/pandas.read_sql_query.html>pandas.read_sql_query</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>pd</span><span class=o>.</span><span class=n>read_sql_query</span><span class=p>(</span>
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a><span class=gp>... </span>    <span class=s1>&#39;SELECT * FROM yf_data.&quot;BTC-USD&quot;&#39;</span><span class=p>,</span> 
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=gp>... </span>    <span class=n>POSTGRESQL_URL</span><span class=p>,</span> 
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a><span class=gp>... </span>    <span class=n>index_col</span><span class=o>=</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span> 
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a><span class=gp>... </span>    <span class=n>parse_dates</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Date&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>utc</span><span class=o>=</span><span class=kc>True</span><span class=p>)}</span>
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a><span class=go>                                  Open         High          Low        Close  \\</span>
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a><span class=go>Date                                                                            </span>
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9 href=#__codelineno-51-9></a><span class=go>2020-01-01 00:00:00+00:00  7194.892090  7254.330566  7174.944336  7200.174316   </span>
</span><span id=__span-51-10><a id=__codelineno-51-10 name=__codelineno-51-10 href=#__codelineno-51-10></a><span class=go>2020-01-02 00:00:00+00:00  7202.551270  7212.155273  6935.270020  6985.470215   </span>
</span><span id=__span-51-11><a id=__codelineno-51-11 name=__codelineno-51-11 href=#__codelineno-51-11></a><span class=go>2020-01-03 00:00:00+00:00  6984.428711  7413.715332  6914.996094  7344.884277   </span>
</span><span id=__span-51-12><a id=__codelineno-51-12 name=__codelineno-51-12 href=#__codelineno-51-12></a><span class=go>2020-01-04 00:00:00+00:00  7345.375488  7427.385742  7309.514160  7410.656738   </span>
</span><span id=__span-51-13><a id=__codelineno-51-13 name=__codelineno-51-13 href=#__codelineno-51-13></a>
</span><span id=__span-51-14><a id=__codelineno-51-14 name=__codelineno-51-14 href=#__codelineno-51-14></a><span class=go>                                Volume  Dividends  Stock Splits  </span>
</span><span id=__span-51-15><a id=__codelineno-51-15 name=__codelineno-51-15 href=#__codelineno-51-15></a><span class=go>Date                                                             </span>
</span><span id=__span-51-16><a id=__codelineno-51-16 name=__codelineno-51-16 href=#__codelineno-51-16></a><span class=go>2020-01-01 00:00:00+00:00  18565664997        0.0           0.0  </span>
</span><span id=__span-51-17><a id=__codelineno-51-17 name=__codelineno-51-17 href=#__codelineno-51-17></a><span class=go>2020-01-02 00:00:00+00:00  20802083465        0.0           0.0  </span>
</span><span id=__span-51-18><a id=__codelineno-51-18 name=__codelineno-51-18 href=#__codelineno-51-18></a><span class=go>2020-01-03 00:00:00+00:00  28111481032        0.0           0.0  </span>
</span><span id=__span-51-19><a id=__codelineno-51-19 name=__codelineno-51-19 href=#__codelineno-51-19></a><span class=go>2020-01-04 00:00:00+00:00  18444271275        0.0           0.0 </span>
</span></code></pre></div> <p>But first, how do we know what kind of schemas and tables are stored in our database? We can call <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.list_schemas>SQLData.list_schemas</a> and <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.list_tables>SQLData.list_tables</a> respectively. Most methods of <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData>SQLData</a>, including these two, require the engine to be provided.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>list_schemas</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>)</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class=go>[&#39;information_schema&#39;, &#39;public&#39;, &#39;yf_data&#39;]</span>
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a>
</span><span id=__span-52-4><a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>list_tables</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>)</span>
</span><span id=__span-52-5><a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=go>[&#39;information_schema:_pg_foreign_data_wrappers&#39;,</span>
</span><span id=__span-52-6><a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=go> &#39;information_schema:_pg_foreign_servers&#39;,</span>
</span><span id=__span-52-7><a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a><span class=go> ...</span>
</span><span id=__span-52-8><a id=__codelineno-52-8 name=__codelineno-52-8 href=#__codelineno-52-8></a><span class=go> &#39;yf_data:BTC-USD&#39;,</span>
</span><span id=__span-52-9><a id=__codelineno-52-9 name=__codelineno-52-9 href=#__codelineno-52-9></a><span class=go> &#39;yf_data:ETH-USD&#39;]</span>
</span><span id=__span-52-10><a id=__codelineno-52-10 name=__codelineno-52-10 href=#__codelineno-52-10></a>
</span><span id=__span-52-11><a id=__codelineno-52-11 name=__codelineno-52-11 href=#__codelineno-52-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>list_tables</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>
</span><span id=__span-52-12><a id=__codelineno-52-12 name=__codelineno-52-12 href=#__codelineno-52-12></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <p>To fetch the actual data, we have <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.fetch_key>SQLData.fetch_key</a> at our disposal, which calls <code>pd.read_sql_query</code> and does many pre-processings and post-processings under the hood. For instance, it can "inspect" the database and map columns indices to names, which aren't natively supported by the Pandas method. This is useful when specifying any information per column while relying solely on column positions, such as when providing <code>index_col</code> (which, by the way, defaults to 0 - the first column). It also does some heavy lifting on datetime index and columns, and can automatically retrieve all tables stored under a schema or even entire database.</p> <p>Let's pull all the tables we stored previously, implicitly and explicitly:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>SQLITE_URL</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>   <span class=c1># (1)!</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a>
</span><span id=__span-53-4><a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> <span class=n>engine</span><span class=o>=</span><span class=n>SQLITE_URL</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (2)!</span>
</span><span id=__span-53-5><a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-53-6><a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a>
</span><span id=__span-53-7><a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (3)!</span>
</span><span id=__span-53-8><a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-53-9><a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a>
</span><span id=__span-53-10><a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;yf_data:BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;yf_data:ETH-USD&quot;</span><span class=p>],</span> <span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>  <span class=c1># (4)!</span>
</span><span id=__span-53-11><a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=go>[&#39;yf_data:BTC-USD&#39;, &#39;yf_data:ETH-USD&#39;]</span>
</span></code></pre></div> <ol> <li>Pull all tables from the database</li> <li>Pull specific tables from the database</li> <li>Pull all tables under a schema from the database</li> <li>Pull tables from the database by also specifying the schema for each</li> </ol> <p>We can also specialize any information per feature/symbol by providing it as an instance of <a href=../../../api/data/base/index.html#vectorbtpro.data.base.key_dict>key_dict</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTCUSD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETHUSD&quot;</span><span class=p>],</span> 
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a><span class=gp>... </span>    <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>,</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a><span class=gp>... </span>    <span class=n>table</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a><span class=gp>... </span>        <span class=s2>&quot;BTCUSD&quot;</span><span class=p>:</span> <span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span>
</span><span id=__span-54-6><a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a><span class=gp>... </span>        <span class=s2>&quot;ETHUSD&quot;</span><span class=p>:</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>,</span>
</span><span id=__span-54-7><a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a><span class=gp>... </span>    <span class=p>}),</span>
</span><span id=__span-54-8><a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a><span class=gp>... </span>    <span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span>
</span><span id=__span-54-9><a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-54-10><a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a><span class=go>[&#39;BTCUSD&#39;, &#39;ETHUSD&#39;]</span>
</span></code></pre></div> <p>This is especially useful to execute custom queries:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s1>&#39;SELECT * FROM yf_data.&quot;BTC-USD&quot;&#39;</span><span class=p>,</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s1>&#39;SELECT * FROM yf_data.&quot;ETH-USD&quot;&#39;</span><span class=p>,</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=gp>... </span>    <span class=p>}),</span> 
</span><span id=__span-55-7><a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a><span class=gp>... </span>    <span class=n>index_col</span><span class=o>=</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span>
</span><span id=__span-55-8><a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=gp>... </span>    <span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span>
</span><span id=__span-55-9><a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-55-10><a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When executing a custom query, most of the preprocessings won't be available because the query isn't easily introspectable. For example, we have to provide a column name under <code>index_col</code> (or False to not use any column as an index).</p> </div> <p>Since different engines have different configurations and we don't want to repeatedly pass them during pulling, we can save the respective configuration to the global settings. For this, we need to create an engine name first and then save all the keyword arguments that we normally pass to <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.fetch_key>SQLData.fetch_key</a> under this engine name in <code>vbt.settings.data.engines</code>. This can be easily accomplished with <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.set_engine_settings>SQLData.set_engine_settings</a>, which takes an engine name and keyword arguments that should be saved. If the engine name is new, make sure to set <code>populate_</code> to True.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>set_engine_settings</span><span class=p>(</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a><span class=gp>... </span>    <span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;sqlite&quot;</span><span class=p>,</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=gp>... </span>    <span class=n>populate_</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=gp>... </span>    <span class=n>engine</span><span class=o>=</span><span class=n>SQLITE_URL</span>
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>set_engine_settings</span><span class=p>(</span>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=gp>... </span>    <span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;postgresql&quot;</span><span class=p>,</span>
</span><span id=__span-56-9><a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a><span class=gp>... </span>    <span class=n>populate_</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-56-10><a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a><span class=gp>... </span>    <span class=n>engine</span><span class=o>=</span><span class=n>POSTGRESQL_URL</span><span class=p>,</span>
</span><span id=__span-56-11><a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a><span class=gp>... </span>    <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span>
</span><span id=__span-56-12><a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a><span class=gp>... </span><span class=p>)</span>
</span></code></pre></div> <p>If any argument during fetching is None, it will be looked under these settings first. All we have to do is to provide an engine name as <code>engine</code> or <code>engine_name</code>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;sqlite&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;postgresql&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <p>We can also save arguments that we want to use under each engine name. For example, let's define the default engine name:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>set_custom_settings</span><span class=p>(</span><span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;postgresql&quot;</span><span class=p>)</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <p>To fetch some specific columns, we can use the <code>columns</code> argument:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;High&quot;</span><span class=p>,</span> <span class=s2>&quot;Low&quot;</span><span class=p>])</span><span class=o>.</span><span class=n>features</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=go>[&#39;High&#39;, &#39;Low&#39;]</span>
</span></code></pre></div> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>If you want to pull just one column and keep it as a DataFrame, set <code>squeeze</code> to False.</p> </div> <p>In contrast to the Pandas method, we can also filter by any start and end condition. When <code>align_dates</code> is True (default) and <code>start</code> and/or <code>end</code> is provided, <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData.fetch_key>SQLData.fetch_key</a> will fetch just one row of data first. It will then check whether the index of this row is datetime-like, and if so, will treat the provided <code>start</code> and/or <code>end</code> argument as a datetime-like object; this means converting it to a <code>datetime</code> object and localizing/converting it into the timezone of the index.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If you used <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_sql>Data.to_sql</a> to save the data, make sure to use the same <code>to_utc</code> option during pulling as during saving.</p> </div> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=go>Date                                              </span>
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p>Most databases either don't support timezones, or data is stored in UTC, thus the default behavior is to localize any timezone-naive datetime to UTC; the user is then responsible to provide the correct timezone. If a timezone is provided via <code>tz</code> and the provided datetime has no timezone, it will be localized to <code>tz</code> and then converted to the timezone of the index. If <code>to_utc</code> is True, it will be converted to UTC. If the index has no timezone, the provided datetime will be either converted to <code>tz</code> or UTC (if <code>to_utc</code> is True) first and then the timezone will be removed.</p> <p>Let's demonstrate using a custom timezone by saving and then pulling the price of AAPL:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>fetch</span><span class=p>(</span><span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2022&quot;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2023&quot;</span><span class=p>)</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=go>Date</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a><span class=go>2022-01-03 00:00:00-05:00    180.190979</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a><span class=go>2022-01-05 00:00:00-05:00    173.171844</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a><span class=go>                                    ...</span>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a><span class=go>2022-12-28 00:00:00-05:00    125.504539</span>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a><span class=go>2022-12-29 00:00:00-05:00    129.059372</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a><span class=go>2022-12-30 00:00:00-05:00    129.378006</span>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a><span class=go>Name: Close, Length: 251, dtype: float64</span>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=s2>&quot;sqlite&quot;</span><span class=p>)</span>  <span class=c1># (1)!</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=s2>&quot;postgresql&quot;</span><span class=p>)</span>  <span class=c1># (2)!</span>
</span><span id=__span-61-15><a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a>
</span><span id=__span-61-16><a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-61-17><a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-61-18><a id=__codelineno-61-18 name=__codelineno-61-18 href=#__codelineno-61-18></a><span class=gp>... </span>    <span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;sqlite&quot;</span><span class=p>,</span> 
</span><span id=__span-61-19><a id=__codelineno-61-19 name=__codelineno-61-19 href=#__codelineno-61-19></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2022-12-23&quot;</span><span class=p>,</span>
</span><span id=__span-61-20><a id=__codelineno-61-20 name=__codelineno-61-20 href=#__codelineno-61-20></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2022-12-30&quot;</span><span class=p>,</span>
</span><span id=__span-61-21><a id=__codelineno-61-21 name=__codelineno-61-21 href=#__codelineno-61-21></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-61-22><a id=__codelineno-61-22 name=__codelineno-61-22 href=#__codelineno-61-22></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-61-23><a id=__codelineno-61-23 name=__codelineno-61-23 href=#__codelineno-61-23></a><span class=go>Date</span>
</span><span id=__span-61-24><a id=__codelineno-61-24 name=__codelineno-61-24 href=#__codelineno-61-24></a><span class=go>2022-12-23 00:00:00-05:00    131.299820</span>
</span><span id=__span-61-25><a id=__codelineno-61-25 name=__codelineno-61-25 href=#__codelineno-61-25></a><span class=go>2022-12-27 00:00:00-05:00    129.477585</span>
</span><span id=__span-61-26><a id=__codelineno-61-26 name=__codelineno-61-26 href=#__codelineno-61-26></a><span class=go>2022-12-28 00:00:00-05:00    125.504539</span>
</span><span id=__span-61-27><a id=__codelineno-61-27 name=__codelineno-61-27 href=#__codelineno-61-27></a><span class=go>2022-12-29 00:00:00-05:00    129.059372</span>
</span><span id=__span-61-28><a id=__codelineno-61-28 name=__codelineno-61-28 href=#__codelineno-61-28></a><span class=go>Name: Close, dtype: float64</span>
</span><span id=__span-61-29><a id=__codelineno-61-29 name=__codelineno-61-29 href=#__codelineno-61-29></a>
</span><span id=__span-61-30><a id=__codelineno-61-30 name=__codelineno-61-30 href=#__codelineno-61-30></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-61-31><a id=__codelineno-61-31 name=__codelineno-61-31 href=#__codelineno-61-31></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-61-32><a id=__codelineno-61-32 name=__codelineno-61-32 href=#__codelineno-61-32></a><span class=gp>... </span>    <span class=n>engine_name</span><span class=o>=</span><span class=s2>&quot;postgresql&quot;</span><span class=p>,</span> 
</span><span id=__span-61-33><a id=__codelineno-61-33 name=__codelineno-61-33 href=#__codelineno-61-33></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2022-12-23&quot;</span><span class=p>,</span>
</span><span id=__span-61-34><a id=__codelineno-61-34 name=__codelineno-61-34 href=#__codelineno-61-34></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2022-12-30&quot;</span><span class=p>,</span>
</span><span id=__span-61-35><a id=__codelineno-61-35 name=__codelineno-61-35 href=#__codelineno-61-35></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-61-36><a id=__codelineno-61-36 name=__codelineno-61-36 href=#__codelineno-61-36></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-61-37><a id=__codelineno-61-37 name=__codelineno-61-37 href=#__codelineno-61-37></a><span class=go>Date</span>
</span><span id=__span-61-38><a id=__codelineno-61-38 name=__codelineno-61-38 href=#__codelineno-61-38></a><span class=go>2022-12-23 00:00:00-05:00    131.299820</span>
</span><span id=__span-61-39><a id=__codelineno-61-39 name=__codelineno-61-39 href=#__codelineno-61-39></a><span class=go>2022-12-27 00:00:00-05:00    129.477585</span>
</span><span id=__span-61-40><a id=__codelineno-61-40 name=__codelineno-61-40 href=#__codelineno-61-40></a><span class=go>2022-12-28 00:00:00-05:00    125.504539</span>
</span><span id=__span-61-41><a id=__codelineno-61-41 name=__codelineno-61-41 href=#__codelineno-61-41></a><span class=go>2022-12-29 00:00:00-05:00    129.059372</span>
</span><span id=__span-61-42><a id=__codelineno-61-42 name=__codelineno-61-42 href=#__codelineno-61-42></a><span class=go>Name: Close, dtype: float64</span>
</span></code></pre></div> <ol> <li>The first argument can also be an engine name from the global settings</li> <li>Schema defined in the global settings will be used by default</li> </ol> <p>All datetime pre-processings can be disabled by turning off <code>align_dates</code>: </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2022-12-23&quot;</span><span class=p>,</span>
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2022-12-30&quot;</span><span class=p>,</span>
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>,</span>
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=gp>... </span>    <span class=n>align_dates</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-62-7><a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-62-8><a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=go>Date</span>
</span><span id=__span-62-9><a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a><span class=go>2022-12-23 00:00:00-05:00    131.299820</span>
</span><span id=__span-62-10><a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a><span class=go>2022-12-27 00:00:00-05:00    129.477585</span>
</span><span id=__span-62-11><a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a><span class=go>2022-12-28 00:00:00-05:00    125.504539</span>
</span><span id=__span-62-12><a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a><span class=go>2022-12-29 00:00:00-05:00    129.059372</span>
</span><span id=__span-62-13><a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a><span class=go>Name: Close, dtype: float64</span>
</span></code></pre></div> <p>When a custom query should be executed, the filtering must be done within the query:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a><span class=gp>... </span><span class=s2>        SELECT *</span>
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=gp>... </span><span class=s2>        FROM yf_data.&quot;AAPL&quot; </span>
</span><span id=__span-63-6><a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a><span class=gp>... </span><span class=s2>        WHERE yf_data.&quot;AAPL&quot;.&quot;Date&quot; &gt;= :start AND yf_data.&quot;AAPL&quot;.&quot;Date&quot; &lt; :end</span>
</span><span id=__span-63-7><a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a><span class=gp>... </span><span class=s2>    &quot;&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-63-8><a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>,</span>
</span><span id=__span-63-9><a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a><span class=gp>... </span>    <span class=n>index_col</span><span class=o>=</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span>
</span><span id=__span-63-10><a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-63-11><a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a><span class=gp>... </span>        <span class=s2>&quot;start&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-12-23&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>(),</span>
</span><span id=__span-63-12><a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a><span class=gp>... </span>        <span class=s2>&quot;end&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-12-30&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span><span id=__span-63-13><a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class=gp>... </span>    <span class=p>}</span>
</span><span id=__span-63-14><a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-63-15><a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a><span class=go>Date</span>
</span><span id=__span-63-16><a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a><span class=go>2022-12-23 00:00:00-05:00    131.299820</span>
</span><span id=__span-63-17><a id=__codelineno-63-17 name=__codelineno-63-17 href=#__codelineno-63-17></a><span class=go>2022-12-27 00:00:00-05:00    129.477585</span>
</span><span id=__span-63-18><a id=__codelineno-63-18 name=__codelineno-63-18 href=#__codelineno-63-18></a><span class=go>2022-12-28 00:00:00-05:00    125.504539</span>
</span><span id=__span-63-19><a id=__codelineno-63-19 name=__codelineno-63-19 href=#__codelineno-63-19></a><span class=go>2022-12-29 00:00:00-05:00    129.059372</span>
</span><span id=__span-63-20><a id=__codelineno-63-20 name=__codelineno-63-20 href=#__codelineno-63-20></a><span class=go>Name: Close, dtype: float64</span>
</span></code></pre></div> <p>To filter by row number, we have to put a column with row numbers first. This can be done automatically by using <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_sql>Data.to_sql</a> and setting <code>attach_row_number</code> to True.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=s2>&quot;sqlite&quot;</span><span class=p>,</span> <span class=n>attach_row_number</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;replace&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>Then, when pulling, we can directly use <code>start_row</code> and <code>end_row</code>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=gp>... </span>    <span class=n>start_row</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=gp>... </span>    <span class=n>end_row</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=go>Date</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a><span class=go>2022-01-10 00:00:00-05:00    170.469116</span>
</span><span id=__span-65-9><a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a><span class=go>2022-01-11 00:00:00-05:00    173.330231</span>
</span><span id=__span-65-10><a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a><span class=go>2022-01-12 00:00:00-05:00    173.775711</span>
</span><span id=__span-65-11><a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a><span class=go>2022-01-13 00:00:00-05:00    170.469116</span>
</span><span id=__span-65-12><a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a><span class=go>2022-01-14 00:00:00-05:00    171.340347</span>
</span><span id=__span-65-13><a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span></code></pre></div> <h4 id=chunking_2>Chunking<a class=headerlink href=#chunking_2 title="Permanent link">&para;</a></h4> <p>Chunking for SQL databases is identical to that for CSV files:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=gp>... </span>    <span class=n>chunksize</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a><span class=gp>... </span>    <span class=n>chunk_func</span><span class=o>=</span><span class=k>lambda</span> <span class=n>iterator</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a><span class=gp>... </span>        <span class=n>df</span> 
</span><span id=__span-66-6><a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a><span class=gp>... </span>        <span class=k>for</span> <span class=n>df</span> <span class=ow>in</span> <span class=n>iterator</span>
</span><span id=__span-66-7><a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a><span class=gp>... </span>        <span class=k>if</span> <span class=n>df</span><span class=o>.</span><span class=n>index</span><span class=o>.</span><span class=n>is_month_start</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
</span><span id=__span-66-8><a id=__codelineno-66-8 name=__codelineno-66-8 href=#__codelineno-66-8></a><span class=gp>... </span>    <span class=p>],</span> <span class=n>axis</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span>
</span><span id=__span-66-9><a id=__codelineno-66-9 name=__codelineno-66-9 href=#__codelineno-66-9></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-66-10><a id=__codelineno-66-10 name=__codelineno-66-10 href=#__codelineno-66-10></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-66-11><a id=__codelineno-66-11 name=__codelineno-66-11 href=#__codelineno-66-11></a><span class=go>Date</span>
</span><span id=__span-66-12><a id=__codelineno-66-12 name=__codelineno-66-12 href=#__codelineno-66-12></a><span class=go>2022-02-01 00:00:00-05:00    172.864914</span>
</span><span id=__span-66-13><a id=__codelineno-66-13 name=__codelineno-66-13 href=#__codelineno-66-13></a><span class=go>2022-03-01 00:00:00-05:00    161.774826</span>
</span><span id=__span-66-14><a id=__codelineno-66-14 name=__codelineno-66-14 href=#__codelineno-66-14></a><span class=go>2022-04-01 00:00:00-04:00    172.787796</span>
</span><span id=__span-66-15><a id=__codelineno-66-15 name=__codelineno-66-15 href=#__codelineno-66-15></a><span class=go>2022-06-01 00:00:00-04:00    147.627930</span>
</span><span id=__span-66-16><a id=__codelineno-66-16 name=__codelineno-66-16 href=#__codelineno-66-16></a><span class=go>2022-07-01 00:00:00-04:00    137.919113</span>
</span><span id=__span-66-17><a id=__codelineno-66-17 name=__codelineno-66-17 href=#__codelineno-66-17></a><span class=go>2022-08-01 00:00:00-04:00    160.334793</span>
</span><span id=__span-66-18><a id=__codelineno-66-18 name=__codelineno-66-18 href=#__codelineno-66-18></a><span class=go>2022-09-01 00:00:00-04:00    157.028458</span>
</span><span id=__span-66-19><a id=__codelineno-66-19 name=__codelineno-66-19 href=#__codelineno-66-19></a><span class=go>2022-11-01 00:00:00-04:00    149.761551</span>
</span><span id=__span-66-20><a id=__codelineno-66-20 name=__codelineno-66-20 href=#__codelineno-66-20></a><span class=go>2022-12-01 00:00:00-05:00    147.679932</span>
</span><span id=__span-66-21><a id=__codelineno-66-21 name=__codelineno-66-21 href=#__codelineno-66-21></a><span class=go>Name: Close, dtype: float64</span>
</span></code></pre></div> <h3 id=duckdb_1>DuckDB<a class=headerlink href=#duckdb_1 title="Permanent link">&para;</a></h3> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>Previous method (using SQLAlchemy) can be used to read from a DuckDB database as well. For this, you have to install the <a href=https://pypi.org/project/duckdb-engine/ >duckdb-engine</a> extension.</p> </div> <p>To fetch data using DuckDB, we can use the convenient class <a href=../../../api/data/custom/duckdb/index.html#vectorbtpro.data.custom.duckdb.DuckDBData>DuckDBData</a>. It contains methods for discovering catalogs, schemas, and tables, as well as methods for fetching the actual data, such as <a href=../../../api/data/custom/duckdb/index.html#vectorbtpro.data.custom.duckdb.DuckDBData.fetch_key>DuckDBData.fetch_key</a>. Let's delete the previous DuckDB database, create a new database by setting its URL globally, put some data inside, and take a look at the stored objects:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>remove_file</span><span class=p>(</span><span class=n>DUCKDB_URL</span><span class=p>)</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>set_custom_settings</span><span class=p>(</span>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=gp>... </span>    <span class=n>connection</span><span class=o>=</span><span class=n>DUCKDB_URL</span>
</span><span id=__span-67-5><a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-67-6><a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a>
</span><span id=__span-67-7><a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data</span><span class=o>.</span><span class=n>to_duckdb</span><span class=p>(</span><span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span>
</span><span id=__span-67-8><a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a>
</span><span id=__span-67-9><a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>list_catalogs</span><span class=p>()</span>
</span><span id=__span-67-10><a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a><span class=go>[&#39;database&#39;]</span>
</span><span id=__span-67-11><a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a>
</span><span id=__span-67-12><a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>list_schemas</span><span class=p>()</span>
</span><span id=__span-67-13><a id=__codelineno-67-13 name=__codelineno-67-13 href=#__codelineno-67-13></a><span class=go>[&#39;main&#39;, &#39;yf_data&#39;]</span>
</span><span id=__span-67-14><a id=__codelineno-67-14 name=__codelineno-67-14 href=#__codelineno-67-14></a>
</span><span id=__span-67-15><a id=__codelineno-67-15 name=__codelineno-67-15 href=#__codelineno-67-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>list_tables</span><span class=p>()</span>
</span><span id=__span-67-16><a id=__codelineno-67-16 name=__codelineno-67-16 href=#__codelineno-67-16></a><span class=go>[&#39;yf_data:BTC-USD&#39;, &#39;yf_data:ETH-USD&#39;]</span>
</span></code></pre></div> <p>To fetch the data, we can use <a href=../../../api/data/custom/duckdb/index.html#vectorbtpro.data.custom.duckdb.DuckDBData.pull>DuckDBData.pull</a>. Whenever we provide one or more keys, they are automatically used as table names. Without any arguments, the method first determines the tables stored in the database and then pulls them.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;yf_data:BTC-USD&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a><span class=go>[&#39;yf_data:BTC-USD&#39;]</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-68-5><a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a><span class=go>[&#39;BTC-USD&#39;]</span>
</span><span id=__span-68-6><a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>
</span><span id=__span-68-7><a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-68-8><a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-68-9><a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a>
</span><span id=__span-68-10><a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>()</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-68-11><a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a><span class=go>[&#39;yf_data:BTC-USD&#39;, &#39;yf_data:ETH-USD&#39;]</span>
</span></code></pre></div> <p>For cases where symbol names and table names should be kept separate, we can provide each table explicitly using a dictionary of type <a href=../../../api/data/base/index.html#vectorbtpro.data.base.key_dict>key_dict</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-69-2><a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH&quot;</span><span class=p>],</span> 
</span><span id=__span-69-3><a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=gp>... </span>    <span class=n>table</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>(</span><span class=n>BTC</span><span class=o>=</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=n>ETH</span><span class=o>=</span><span class=s2>&quot;ETH-USD&quot;</span><span class=p>),</span>
</span><span id=__span-69-4><a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=gp>... </span>    <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span>
</span><span id=__span-69-5><a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-69-6><a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=go>[&#39;BTC&#39;, &#39;ETH&#39;]</span>
</span></code></pre></div> <p>The same approach can be used to execute custom queries:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s1>&#39;SELECT * FROM yf_data.&quot;BTC-USD&quot;&#39;</span><span class=p>,</span> 
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s1>&#39;SELECT * FROM yf_data.&quot;ETH-USD&quot;&#39;</span>
</span><span id=__span-70-6><a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-70-7><a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-70-8><a id=__codelineno-70-8 name=__codelineno-70-8 href=#__codelineno-70-8></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <p>Apart from querying tables, we can also read CSV, Parquet, and JSON files. The reading behavior here is very similar to the writing behavior in <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.to_duckdb>Data.to_duckdb</a> in that there are three arguments: <code>read_format</code>, <code>read_path</code>, and <code>read_options</code>. The first argument controls the format of the file(s). The second argument controls the path of the file(s). The third argument controls the options for reading the file(s). When <code>read_format</code> is not provided, it gets parsed from the extension of the file. It's then used to call the <code>read_{format}</code> function from within the SQL query; for example, <a href=https://duckdb.org/docs/data/parquet/overview><code>read_parquet</code></a> for Parquet.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span><span class=n>read_path</span><span class=o>=</span><span class=s2>&quot;data&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span>
</span><span id=__span-71-6><a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a><span class=gp>... </span>    <span class=n>read_path</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-71-7><a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=gp>... </span>         <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;data/BTC-USD.parquet&quot;</span><span class=p>,</span>
</span><span id=__span-71-8><a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a><span class=gp>... </span>         <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;data/ETH-USD.parquet&quot;</span>
</span><span id=__span-71-9><a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-71-10><a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-71-11><a id=__codelineno-71-11 name=__codelineno-71-11 href=#__codelineno-71-11></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span><span id=__span-71-12><a id=__codelineno-71-12 name=__codelineno-71-12 href=#__codelineno-71-12></a>
</span><span id=__span-71-13><a id=__codelineno-71-13 name=__codelineno-71-13 href=#__codelineno-71-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-71-14><a id=__codelineno-71-14 name=__codelineno-71-14 href=#__codelineno-71-14></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span>
</span><span id=__span-71-15><a id=__codelineno-71-15 name=__codelineno-71-15 href=#__codelineno-71-15></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-71-16><a id=__codelineno-71-16 name=__codelineno-71-16 href=#__codelineno-71-16></a><span class=gp>... </span>         <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;SELECT * FROM read_parquet(&#39;data/BTC-USD.parquet&#39;)&quot;</span><span class=p>,</span>
</span><span id=__span-71-17><a id=__codelineno-71-17 name=__codelineno-71-17 href=#__codelineno-71-17></a><span class=gp>... </span>         <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;SELECT * FROM read_parquet(&#39;data/ETH-USD.parquet&#39;)&quot;</span>
</span><span id=__span-71-18><a id=__codelineno-71-18 name=__codelineno-71-18 href=#__codelineno-71-18></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-71-19><a id=__codelineno-71-19 name=__codelineno-71-19 href=#__codelineno-71-19></a><span class=gp>... </span><span class=p>)</span><span class=o>.</span><span class=n>symbols</span>
</span><span id=__span-71-20><a id=__codelineno-71-20 name=__codelineno-71-20 href=#__codelineno-71-20></a><span class=go>[&#39;BTC-USD&#39;, &#39;ETH-USD&#39;]</span>
</span></code></pre></div> <h2 id=updating>Updating<a class=headerlink href=#updating title="Permanent link">&para;</a></h2> <h3 id=csv-hdf>CSV &amp; HDF<a class=headerlink href=#csv-hdf title="Permanent link">&para;</a></h3> <p>Tabular data such as CSV and HDF data can be read line by line, which makes possible listening for data updates. The classes <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a> and <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData>HDFData</a> can be updated like every preset data class by keeping track of the last row index in <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.returned_kwargs>Data.returned_kwargs</a>. Whenever an update is triggered, this index is being used as the start row from which the dataset should be read. After the update, the end row is being used as the new last row index.</p> <p>Let's separately download the data for <code>BTC-USD</code> and <code>ETH-USD</code>, save them to one HDF file, and read the entire file using <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData>HDFData</a>:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_btc</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a><span class=gp>... </span>    <span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> 
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-01&quot;</span><span class=p>,</span> 
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-03&quot;</span>
</span><span id=__span-72-5><a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-72-6><a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_eth</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>YFData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-72-7><a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a><span class=gp>... </span>    <span class=s2>&quot;ETH-USD&quot;</span><span class=p>,</span> 
</span><span id=__span-72-8><a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a><span class=gp>... </span>    <span class=n>start</span><span class=o>=</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>,</span> 
</span><span id=__span-72-9><a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-05&quot;</span>
</span><span id=__span-72-10><a id=__codelineno-72-10 name=__codelineno-72-10 href=#__codelineno-72-10></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-72-11><a id=__codelineno-72-11 name=__codelineno-72-11 href=#__codelineno-72-11></a>
</span><span id=__span-72-12><a id=__codelineno-72-12 name=__codelineno-72-12 href=#__codelineno-72-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_btc</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;yf_data_btc&quot;</span><span class=p>)</span>
</span><span id=__span-72-13><a id=__codelineno-72-13 name=__codelineno-72-13 href=#__codelineno-72-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_eth</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;yf_data_eth&quot;</span><span class=p>)</span>
</span><span id=__span-72-14><a id=__codelineno-72-14 name=__codelineno-72-14 href=#__codelineno-72-14></a>
</span><span id=__span-72-15><a id=__codelineno-72-15 name=__codelineno-72-15 href=#__codelineno-72-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>HDFData</span><span class=o>.</span><span class=n>pull</span><span class=p>([</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> <span class=n>paths</span><span class=o>=</span><span class=s2>&quot;data.h5&quot;</span><span class=p>)</span>
</span></code></pre></div> <p> <div class="progress progress-100plus candystripe"> <div class=progress-bar style=width:100.00%> <p class=progress-label>Symbol 2/2</p> </div> </div> </p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=go>Date                                              </span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316         NaN</span>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215         NaN</span>
</span><span id=__span-73-6><a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=go>2020-01-03 00:00:00+00:00          NaN  134.171707</span>
</span><span id=__span-73-7><a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a><span class=go>2020-01-04 00:00:00+00:00          NaN  135.069366</span>
</span></code></pre></div> <p>Let's look at the last row index in each dataset:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span><span class=o>.</span><span class=n>returned_kwargs</span>
</span><span id=__span-74-2><a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a><span class=go>key_dict({&#39;BTC-USD&#39;: {&#39;last_row&#39;: 1}, &#39;ETH-USD&#39;: {&#39;last_row&#39;: 1}})</span>
</span></code></pre></div> <p>We see that the third row in each dataset is the new start row (1 row holding the header and 1 row holding the data). Let's append new data to the <code>BTC-USD</code> dataset and then update our <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData>HDFData</a> instance:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_btc</span> <span class=o>=</span> <span class=n>yf_data_btc</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-06&quot;</span><span class=p>)</span>
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>yf_data_btc</span><span class=o>.</span><span class=n>to_hdf</span><span class=p>(</span><span class=s2>&quot;data.h5&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;yf_data_btc&quot;</span><span class=p>)</span>
</span><span id=__span-75-3><a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a>
</span><span id=__span-75-4><a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span> <span class=o>=</span> <span class=n>hdf_data</span><span class=o>.</span><span class=n>update</span><span class=p>()</span>
</span><span id=__span-75-5><a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-75-6><a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-75-7><a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a><span class=go>Date                                              </span>
</span><span id=__span-75-8><a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316         NaN</span>
</span><span id=__span-75-9><a id=__codelineno-75-9 name=__codelineno-75-9 href=#__codelineno-75-9></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215         NaN</span>
</span><span id=__span-75-10><a id=__codelineno-75-10 name=__codelineno-75-10 href=#__codelineno-75-10></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-75-11><a id=__codelineno-75-11 name=__codelineno-75-11 href=#__codelineno-75-11></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span><span id=__span-75-12><a id=__codelineno-75-12 name=__codelineno-75-12 href=#__codelineno-75-12></a><span class=go>2020-01-05 00:00:00+00:00  7411.317383         NaN</span>
</span></code></pre></div> <p>The <code>BTC-USD</code> dataset has been updated with 3 new data points while the <code>ETH-USD</code> dataset hasn't been updated. This is reflected in the last row index:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>hdf_data</span><span class=o>.</span><span class=n>returned_kwargs</span>
</span><span id=__span-76-2><a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a><span class=go>key_dict({</span>
</span><span id=__span-76-3><a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a><span class=go>    &#39;BTC-USD&#39;: {&#39;last_row&#39;: 4, &#39;tz_convert&#39;: datetime.timezone.utc}, </span>
</span><span id=__span-76-4><a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a><span class=go>    &#39;ETH-USD&#39;: {&#39;last_row&#39;: 1, &#39;tz_convert&#39;: datetime.timezone.utc}</span>
</span><span id=__span-76-5><a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a><span class=go>})</span>
</span></code></pre></div> <p>This workflow can be repeated endlessly.</p> <h3 id=feather-parquet_2>Feather &amp; Parquet<a class=headerlink href=#feather-parquet_2 title="Permanent link">&para;</a></h3> <p>While Feather and Parquet classes don't have any <code>start</code> or <code>end</code> arguments to select a date range to pull, we can still load the entire data and append the difference to the currently stored data. This operation isn't too costly because reading such data format is very efficient. But starting from newer versions of Pandas, we can also filter partitions using the <code>filters</code> argument (only Parquet format supports this feature):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a><span class=gp>... </span>    <span class=s2>&quot;BNB-USD&quot;</span><span class=p>,</span> 
</span><span id=__span-77-3><a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=gp>... </span>    <span class=n>filters</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;group&quot;</span><span class=p>,</span> <span class=s2>&quot;&lt;&quot;</span><span class=p>,</span> <span class=s2>&quot;2020-01-03&quot;</span><span class=p>)]</span>
</span><span id=__span-77-4><a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-77-5><a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-77-6><a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=go>Date</span>
</span><span id=__span-77-7><a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=go>2020-01-01 00:00:00+00:00    13.689083</span>
</span><span id=__span-77-8><a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a><span class=go>2020-01-02 00:00:00+00:00    13.027011</span>
</span><span id=__span-77-9><a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a><span class=go>Name: Close, dtype: float64</span>
</span><span id=__span-77-10><a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a>
</span><span id=__span-77-11><a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span> <span class=o>=</span> <span class=n>parquet_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-77-12><a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a><span class=gp>... </span>    <span class=n>filters</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;group&quot;</span><span class=p>,</span> <span class=s2>&quot;&gt;=&quot;</span><span class=p>,</span> <span class=s2>&quot;2020-01-03&quot;</span><span class=p>)]</span>
</span><span id=__span-77-13><a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-77-14><a id=__codelineno-77-14 name=__codelineno-77-14 href=#__codelineno-77-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-77-15><a id=__codelineno-77-15 name=__codelineno-77-15 href=#__codelineno-77-15></a><span class=go>Date</span>
</span><span id=__span-77-16><a id=__codelineno-77-16 name=__codelineno-77-16 href=#__codelineno-77-16></a><span class=go>2020-01-01 00:00:00+00:00    13.689083</span>
</span><span id=__span-77-17><a id=__codelineno-77-17 name=__codelineno-77-17 href=#__codelineno-77-17></a><span class=go>2020-01-02 00:00:00+00:00    13.027011</span>
</span><span id=__span-77-18><a id=__codelineno-77-18 name=__codelineno-77-18 href=#__codelineno-77-18></a><span class=go>2020-01-03 00:00:00+00:00    13.660452</span>
</span><span id=__span-77-19><a id=__codelineno-77-19 name=__codelineno-77-19 href=#__codelineno-77-19></a><span class=go>2020-01-04 00:00:00+00:00    13.891512</span>
</span><span id=__span-77-20><a id=__codelineno-77-20 name=__codelineno-77-20 href=#__codelineno-77-20></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span></code></pre></div> <p>Also, in newer versions of PyArrow, we can use the same argument to select rows:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>ParquetData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-78-2><a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a><span class=gp>... </span>    <span class=s2>&quot;BNB-USD&quot;</span><span class=p>,</span> 
</span><span id=__span-78-3><a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a><span class=gp>... </span>    <span class=n>filters</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span> <span class=s2>&quot;&lt;&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;UTC&quot;</span><span class=p>))]</span>
</span><span id=__span-78-4><a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-78-5><a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-78-6><a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a><span class=go>Date</span>
</span><span id=__span-78-7><a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a><span class=go>2020-01-01 00:00:00+00:00    13.689083</span>
</span><span id=__span-78-8><a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a><span class=go>2020-01-02 00:00:00+00:00    13.027011</span>
</span><span id=__span-78-9><a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a><span class=go>Name: Close, dtype: float64</span>
</span><span id=__span-78-10><a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a>
</span><span id=__span-78-11><a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span> <span class=o>=</span> <span class=n>parquet_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-78-12><a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a><span class=gp>... </span>    <span class=n>filters</span><span class=o>=</span><span class=p>[(</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span> <span class=s2>&quot;&gt;=&quot;</span><span class=p>,</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;UTC&quot;</span><span class=p>))]</span>
</span><span id=__span-78-13><a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-78-14><a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>parquet_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-78-15><a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a><span class=go>Date</span>
</span><span id=__span-78-16><a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a><span class=go>2020-01-01 00:00:00+00:00    13.689083</span>
</span><span id=__span-78-17><a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a><span class=go>2020-01-02 00:00:00+00:00    13.027011</span>
</span><span id=__span-78-18><a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a><span class=go>2020-01-03 00:00:00+00:00    13.660452</span>
</span><span id=__span-78-19><a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a><span class=go>2020-01-04 00:00:00+00:00    13.891512</span>
</span><span id=__span-78-20><a id=__codelineno-78-20 name=__codelineno-78-20 href=#__codelineno-78-20></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span></code></pre></div> <div class="admonition important"> <p class=admonition-title>Important</p> <p>There's an issue with PyArrow starting from the version 12.0.0 that makes it impossible to filter by timezone-aware timestamps - <a href=https://github.com/apache/arrow/issues/37355>https://github.com/apache/arrow/issues/37355</a>. This issue is said to be resolved by the version 14.0.0.</p> </div> <h3 id=sql_2>SQL<a class=headerlink href=#sql_2 title="Permanent link">&para;</a></h3> <p>The class <a href=../../../api/data/custom/sql/index.html#vectorbtpro.data.custom.sql.SQLData>SQLData</a> can be updated in two different ways: using the last row number and using the last index. The first approach works only if we have attached a column with row numbers, the name of this column is known and stored in <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.returned_kwargs>Data.returned_kwargs</a> (which happens automatically), and index-based filtering (<code>start</code> and/or <code>end</code>) isn't used. If these conditions are true, this approach will be used by default; it will extract the last row number from the DataFrame and pass it as <code>start_row</code>.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=s2>&quot;postgresql&quot;</span><span class=p>,</span> <span class=n>attach_row_number</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;replace&quot;</span><span class=p>)</span>
</span><span id=__span-79-2><a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>
</span><span id=__span-79-3><a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-79-4><a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-79-5><a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a><span class=gp>... </span>    <span class=n>end_row</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
</span><span id=__span-79-6><a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-79-7><a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-79-8><a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-79-9><a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a><span class=go>Date</span>
</span><span id=__span-79-10><a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a><span class=go>2022-01-03 00:00:00-05:00    180.190964</span>
</span><span id=__span-79-11><a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-79-12><a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a><span class=go>2022-01-05 00:00:00-05:00    173.171814</span>
</span><span id=__span-79-13><a id=__codelineno-79-13 name=__codelineno-79-13 href=#__codelineno-79-13></a><span class=go>2022-01-06 00:00:00-05:00    170.281021</span>
</span><span id=__span-79-14><a id=__codelineno-79-14 name=__codelineno-79-14 href=#__codelineno-79-14></a><span class=go>2022-01-07 00:00:00-05:00    170.449341</span>
</span><span id=__span-79-15><a id=__codelineno-79-15 name=__codelineno-79-15 href=#__codelineno-79-15></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span><span id=__span-79-16><a id=__codelineno-79-16 name=__codelineno-79-16 href=#__codelineno-79-16></a>
</span><span id=__span-79-17><a id=__codelineno-79-17 name=__codelineno-79-17 href=#__codelineno-79-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>sql_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end_row</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
</span><span id=__span-79-18><a id=__codelineno-79-18 name=__codelineno-79-18 href=#__codelineno-79-18></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-79-19><a id=__codelineno-79-19 name=__codelineno-79-19 href=#__codelineno-79-19></a><span class=go>Date</span>
</span><span id=__span-79-20><a id=__codelineno-79-20 name=__codelineno-79-20 href=#__codelineno-79-20></a><span class=go>2022-01-03 00:00:00-05:00    180.190964</span>
</span><span id=__span-79-21><a id=__codelineno-79-21 name=__codelineno-79-21 href=#__codelineno-79-21></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-79-22><a id=__codelineno-79-22 name=__codelineno-79-22 href=#__codelineno-79-22></a><span class=go>2022-01-05 00:00:00-05:00    173.171814</span>
</span><span id=__span-79-23><a id=__codelineno-79-23 name=__codelineno-79-23 href=#__codelineno-79-23></a><span class=go>2022-01-06 00:00:00-05:00    170.281021</span>
</span><span id=__span-79-24><a id=__codelineno-79-24 name=__codelineno-79-24 href=#__codelineno-79-24></a><span class=go>2022-01-07 00:00:00-05:00    170.449341</span>
</span><span id=__span-79-25><a id=__codelineno-79-25 name=__codelineno-79-25 href=#__codelineno-79-25></a><span class=go>2022-01-10 00:00:00-05:00    170.469131</span>
</span><span id=__span-79-26><a id=__codelineno-79-26 name=__codelineno-79-26 href=#__codelineno-79-26></a><span class=go>2022-01-11 00:00:00-05:00    173.330261</span>
</span><span id=__span-79-27><a id=__codelineno-79-27 name=__codelineno-79-27 href=#__codelineno-79-27></a><span class=go>2022-01-12 00:00:00-05:00    173.775726</span>
</span><span id=__span-79-28><a id=__codelineno-79-28 name=__codelineno-79-28 href=#__codelineno-79-28></a><span class=go>2022-01-13 00:00:00-05:00    170.469131</span>
</span><span id=__span-79-29><a id=__codelineno-79-29 name=__codelineno-79-29 href=#__codelineno-79-29></a><span class=go>2022-01-14 00:00:00-05:00    171.340317</span>
</span><span id=__span-79-30><a id=__codelineno-79-30 name=__codelineno-79-30 href=#__codelineno-79-30></a><span class=go>Freq: B, Name: Close, dtype: float64</span>
</span></code></pre></div> <p>The second approach is enabled if the first approach is disabled and row-based filtering (<code>start_row</code> and/or <code>end_row</code>) isn't used; it will extract the last index from <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data.last_index>Data.last_index</a> and pass it as <code>start</code>, regardless of the index data type.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>aapl_data</span><span class=o>.</span><span class=n>to_sql</span><span class=p>(</span><span class=s2>&quot;postgresql&quot;</span><span class=p>,</span> <span class=n>attach_row_number</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>if_exists</span><span class=o>=</span><span class=s2>&quot;replace&quot;</span><span class=p>)</span>
</span><span id=__span-80-2><a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>
</span><span id=__span-80-3><a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-80-4><a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-80-5><a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2022-01-08&quot;</span><span class=p>,</span>
</span><span id=__span-80-6><a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span>
</span><span id=__span-80-7><a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-80-8><a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-80-9><a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a><span class=go>Date</span>
</span><span id=__span-80-10><a id=__codelineno-80-10 name=__codelineno-80-10 href=#__codelineno-80-10></a><span class=go>2022-01-03 00:00:00-05:00    180.190964</span>
</span><span id=__span-80-11><a id=__codelineno-80-11 name=__codelineno-80-11 href=#__codelineno-80-11></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-80-12><a id=__codelineno-80-12 name=__codelineno-80-12 href=#__codelineno-80-12></a><span class=go>2022-01-05 00:00:00-05:00    173.171814</span>
</span><span id=__span-80-13><a id=__codelineno-80-13 name=__codelineno-80-13 href=#__codelineno-80-13></a><span class=go>2022-01-06 00:00:00-05:00    170.281021</span>
</span><span id=__span-80-14><a id=__codelineno-80-14 name=__codelineno-80-14 href=#__codelineno-80-14></a><span class=go>2022-01-07 00:00:00-05:00    170.449341</span>
</span><span id=__span-80-15><a id=__codelineno-80-15 name=__codelineno-80-15 href=#__codelineno-80-15></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span><span id=__span-80-16><a id=__codelineno-80-16 name=__codelineno-80-16 href=#__codelineno-80-16></a>
</span><span id=__span-80-17><a id=__codelineno-80-17 name=__codelineno-80-17 href=#__codelineno-80-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>sql_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=s2>&quot;2022-01-15&quot;</span><span class=p>)</span>
</span><span id=__span-80-18><a id=__codelineno-80-18 name=__codelineno-80-18 href=#__codelineno-80-18></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-80-19><a id=__codelineno-80-19 name=__codelineno-80-19 href=#__codelineno-80-19></a><span class=go>Date</span>
</span><span id=__span-80-20><a id=__codelineno-80-20 name=__codelineno-80-20 href=#__codelineno-80-20></a><span class=go>2022-01-03 00:00:00-05:00    180.190964</span>
</span><span id=__span-80-21><a id=__codelineno-80-21 name=__codelineno-80-21 href=#__codelineno-80-21></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-80-22><a id=__codelineno-80-22 name=__codelineno-80-22 href=#__codelineno-80-22></a><span class=go>2022-01-05 00:00:00-05:00    173.171814</span>
</span><span id=__span-80-23><a id=__codelineno-80-23 name=__codelineno-80-23 href=#__codelineno-80-23></a><span class=go>2022-01-06 00:00:00-05:00    170.281021</span>
</span><span id=__span-80-24><a id=__codelineno-80-24 name=__codelineno-80-24 href=#__codelineno-80-24></a><span class=go>2022-01-07 00:00:00-05:00    170.449341</span>
</span><span id=__span-80-25><a id=__codelineno-80-25 name=__codelineno-80-25 href=#__codelineno-80-25></a><span class=go>2022-01-10 00:00:00-05:00    170.469131</span>
</span><span id=__span-80-26><a id=__codelineno-80-26 name=__codelineno-80-26 href=#__codelineno-80-26></a><span class=go>2022-01-11 00:00:00-05:00    173.330261</span>
</span><span id=__span-80-27><a id=__codelineno-80-27 name=__codelineno-80-27 href=#__codelineno-80-27></a><span class=go>2022-01-12 00:00:00-05:00    173.775726</span>
</span><span id=__span-80-28><a id=__codelineno-80-28 name=__codelineno-80-28 href=#__codelineno-80-28></a><span class=go>2022-01-13 00:00:00-05:00    170.469131</span>
</span><span id=__span-80-29><a id=__codelineno-80-29 name=__codelineno-80-29 href=#__codelineno-80-29></a><span class=go>2022-01-14 00:00:00-05:00    171.340317</span>
</span><span id=__span-80-30><a id=__codelineno-80-30 name=__codelineno-80-30 href=#__codelineno-80-30></a><span class=go>Freq: B, Name: Close, dtype: float64</span>
</span></code></pre></div> <p>If the data was originally pulled using a custom query, both approaches will be disabled and we will have to implement either of the approaches manually.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>SQLData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-81-2><a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a><span class=gp>... </span>    <span class=s2>&quot;AAPL&quot;</span><span class=p>,</span> 
</span><span id=__span-81-3><a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-81-4><a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a><span class=gp>... </span><span class=s2>        SELECT *</span>
</span><span id=__span-81-5><a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a><span class=gp>... </span><span class=s2>        FROM yf_data.&quot;AAPL&quot; </span>
</span><span id=__span-81-6><a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a><span class=gp>... </span><span class=s2>        WHERE yf_data.&quot;AAPL&quot;.&quot;Date&quot; &gt;= :start AND yf_data.&quot;AAPL&quot;.&quot;Date&quot; &lt; :end</span>
</span><span id=__span-81-7><a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a><span class=gp>... </span><span class=s2>    &quot;&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-81-8><a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a><span class=gp>... </span>    <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>,</span>
</span><span id=__span-81-9><a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a><span class=gp>... </span>    <span class=n>index_col</span><span class=o>=</span><span class=s2>&quot;Date&quot;</span><span class=p>,</span>
</span><span id=__span-81-10><a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-81-11><a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a><span class=gp>... </span>        <span class=s2>&quot;start&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-01-01&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>(),</span>
</span><span id=__span-81-12><a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a><span class=gp>... </span>        <span class=s2>&quot;end&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-01-08&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span><span id=__span-81-13><a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a><span class=gp>... </span>    <span class=p>}</span>
</span><span id=__span-81-14><a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-81-15><a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-81-16><a id=__codelineno-81-16 name=__codelineno-81-16 href=#__codelineno-81-16></a><span class=go>Date</span>
</span><span id=__span-81-17><a id=__codelineno-81-17 name=__codelineno-81-17 href=#__codelineno-81-17></a><span class=go>2022-01-03 00:00:00-05:00    180.190964</span>
</span><span id=__span-81-18><a id=__codelineno-81-18 name=__codelineno-81-18 href=#__codelineno-81-18></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-81-19><a id=__codelineno-81-19 name=__codelineno-81-19 href=#__codelineno-81-19></a><span class=go>2022-01-05 00:00:00-05:00    173.171814</span>
</span><span id=__span-81-20><a id=__codelineno-81-20 name=__codelineno-81-20 href=#__codelineno-81-20></a><span class=go>2022-01-06 00:00:00-05:00    170.281021</span>
</span><span id=__span-81-21><a id=__codelineno-81-21 name=__codelineno-81-21 href=#__codelineno-81-21></a><span class=go>2022-01-07 00:00:00-05:00    170.449341</span>
</span><span id=__span-81-22><a id=__codelineno-81-22 name=__codelineno-81-22 href=#__codelineno-81-22></a><span class=go>Freq: D, Name: Close, dtype: float64</span>
</span><span id=__span-81-23><a id=__codelineno-81-23 name=__codelineno-81-23 href=#__codelineno-81-23></a>
</span><span id=__span-81-24><a id=__codelineno-81-24 name=__codelineno-81-24 href=#__codelineno-81-24></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span> <span class=o>=</span> <span class=n>sql_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-81-25><a id=__codelineno-81-25 name=__codelineno-81-25 href=#__codelineno-81-25></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-81-26><a id=__codelineno-81-26 name=__codelineno-81-26 href=#__codelineno-81-26></a><span class=gp>... </span>        <span class=s2>&quot;start&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-01-08&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>(),</span>
</span><span id=__span-81-27><a id=__codelineno-81-27 name=__codelineno-81-27 href=#__codelineno-81-27></a><span class=gp>... </span>        <span class=s2>&quot;end&quot;</span><span class=p>:</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2022-01-18&quot;</span><span class=p>,</span> <span class=n>tz</span><span class=o>=</span><span class=s2>&quot;America/New_York&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span><span id=__span-81-28><a id=__codelineno-81-28 name=__codelineno-81-28 href=#__codelineno-81-28></a><span class=gp>... </span>    <span class=p>}</span>
</span><span id=__span-81-29><a id=__codelineno-81-29 name=__codelineno-81-29 href=#__codelineno-81-29></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-81-30><a id=__codelineno-81-30 name=__codelineno-81-30 href=#__codelineno-81-30></a><span class=gp>&gt;&gt;&gt; </span><span class=n>sql_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-81-31><a id=__codelineno-81-31 name=__codelineno-81-31 href=#__codelineno-81-31></a><span class=go>Date</span>
</span><span id=__span-81-32><a id=__codelineno-81-32 name=__codelineno-81-32 href=#__codelineno-81-32></a><span class=go>2022-01-03 00:00:00-05:00    180.190948</span>
</span><span id=__span-81-33><a id=__codelineno-81-33 name=__codelineno-81-33 href=#__codelineno-81-33></a><span class=go>2022-01-04 00:00:00-05:00    177.904068</span>
</span><span id=__span-81-34><a id=__codelineno-81-34 name=__codelineno-81-34 href=#__codelineno-81-34></a><span class=go>2022-01-05 00:00:00-05:00    173.171844</span>
</span><span id=__span-81-35><a id=__codelineno-81-35 name=__codelineno-81-35 href=#__codelineno-81-35></a><span class=go>2022-01-06 00:00:00-05:00    170.281006</span>
</span><span id=__span-81-36><a id=__codelineno-81-36 name=__codelineno-81-36 href=#__codelineno-81-36></a><span class=go>2022-01-07 00:00:00-05:00    170.449326</span>
</span><span id=__span-81-37><a id=__codelineno-81-37 name=__codelineno-81-37 href=#__codelineno-81-37></a><span class=go>2022-01-10 00:00:00-05:00    170.469116</span>
</span><span id=__span-81-38><a id=__codelineno-81-38 name=__codelineno-81-38 href=#__codelineno-81-38></a><span class=go>2022-01-11 00:00:00-05:00    173.330231</span>
</span><span id=__span-81-39><a id=__codelineno-81-39 name=__codelineno-81-39 href=#__codelineno-81-39></a><span class=go>2022-01-12 00:00:00-05:00    173.775742</span>
</span><span id=__span-81-40><a id=__codelineno-81-40 name=__codelineno-81-40 href=#__codelineno-81-40></a><span class=go>2022-01-13 00:00:00-05:00    170.469116</span>
</span><span id=__span-81-41><a id=__codelineno-81-41 name=__codelineno-81-41 href=#__codelineno-81-41></a><span class=go>2022-01-14 00:00:00-05:00    171.340332</span>
</span><span id=__span-81-42><a id=__codelineno-81-42 name=__codelineno-81-42 href=#__codelineno-81-42></a><span class=go>Freq: B, Name: Close, dtype: float64</span>
</span></code></pre></div> <h3 id=duckdb_2>DuckDB<a class=headerlink href=#duckdb_2 title="Permanent link">&para;</a></h3> <div class="admonition hint"> <p class=admonition-title>Hint</p> <p>Previous method (using SQLAlchemy) can be used to update from a DuckDB database as well. For this, you have to install the <a href=https://pypi.org/project/duckdb-engine/ >duckdb-engine</a> extension.</p> </div> <p>To update an existing <a href=../../../api/data/custom/duckdb/index.html#vectorbtpro.data.custom.duckdb.DuckDBData>DuckDBData</a> using new data, we can either use the arguments <code>start</code> and <code>end</code>, or construct a SQL query that returns the desired data range.</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-82-2><a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-82-3><a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=gp>... </span>    <span class=n>end</span><span class=o>=</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>,</span>
</span><span id=__span-82-4><a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a><span class=gp>... </span>    <span class=n>schema</span><span class=o>=</span><span class=s2>&quot;yf_data&quot;</span>
</span><span id=__span-82-5><a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-82-6><a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-82-7><a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-82-8><a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a><span class=go>Date                                              </span>
</span><span id=__span-82-9><a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-82-10><a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-82-11><a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a>
</span><span id=__span-82-12><a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>duckdb_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>end</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span><span id=__span-82-13><a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-82-14><a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-82-15><a id=__codelineno-82-15 name=__codelineno-82-15 href=#__codelineno-82-15></a><span class=go>Date                                              </span>
</span><span id=__span-82-16><a id=__codelineno-82-16 name=__codelineno-82-16 href=#__codelineno-82-16></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-82-17><a id=__codelineno-82-17 name=__codelineno-82-17 href=#__codelineno-82-17></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-82-18><a id=__codelineno-82-18 name=__codelineno-82-18 href=#__codelineno-82-18></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-82-19><a id=__codelineno-82-19 name=__codelineno-82-19 href=#__codelineno-82-19></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p>Or manually using a custom SQL query:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-83-5><a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;BTC-USD&quot; </span>
</span><span id=__span-83-6><a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &lt; TIMESTAMP &#39;2020-01-03 00:00:00.000000&#39;</span>
</span><span id=__span-83-7><a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span><span class=p>,</span> 
</span><span id=__span-83-8><a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-83-9><a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;ETH-USD&quot; </span>
</span><span id=__span-83-10><a id=__codelineno-83-10 name=__codelineno-83-10 href=#__codelineno-83-10></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &lt; TIMESTAMP &#39;2020-01-03 00:00:00.000000&#39;</span>
</span><span id=__span-83-11><a id=__codelineno-83-11 name=__codelineno-83-11 href=#__codelineno-83-11></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span>
</span><span id=__span-83-12><a id=__codelineno-83-12 name=__codelineno-83-12 href=#__codelineno-83-12></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-83-13><a id=__codelineno-83-13 name=__codelineno-83-13 href=#__codelineno-83-13></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-83-14><a id=__codelineno-83-14 name=__codelineno-83-14 href=#__codelineno-83-14></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-83-15><a id=__codelineno-83-15 name=__codelineno-83-15 href=#__codelineno-83-15></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-83-16><a id=__codelineno-83-16 name=__codelineno-83-16 href=#__codelineno-83-16></a><span class=go>Date                                              </span>
</span><span id=__span-83-17><a id=__codelineno-83-17 name=__codelineno-83-17 href=#__codelineno-83-17></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-83-18><a id=__codelineno-83-18 name=__codelineno-83-18 href=#__codelineno-83-18></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-83-19><a id=__codelineno-83-19 name=__codelineno-83-19 href=#__codelineno-83-19></a>
</span><span id=__span-83-20><a id=__codelineno-83-20 name=__codelineno-83-20 href=#__codelineno-83-20></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>duckdb_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-83-21><a id=__codelineno-83-21 name=__codelineno-83-21 href=#__codelineno-83-21></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-83-22><a id=__codelineno-83-22 name=__codelineno-83-22 href=#__codelineno-83-22></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-83-23><a id=__codelineno-83-23 name=__codelineno-83-23 href=#__codelineno-83-23></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;BTC-USD&quot; </span>
</span><span id=__span-83-24><a id=__codelineno-83-24 name=__codelineno-83-24 href=#__codelineno-83-24></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &gt;= TIMESTAMP &#39;2020-01-03 00:00:00.000000&#39;</span>
</span><span id=__span-83-25><a id=__codelineno-83-25 name=__codelineno-83-25 href=#__codelineno-83-25></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span><span class=p>,</span> 
</span><span id=__span-83-26><a id=__codelineno-83-26 name=__codelineno-83-26 href=#__codelineno-83-26></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-83-27><a id=__codelineno-83-27 name=__codelineno-83-27 href=#__codelineno-83-27></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;ETH-USD&quot; </span>
</span><span id=__span-83-28><a id=__codelineno-83-28 name=__codelineno-83-28 href=#__codelineno-83-28></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &gt;= TIMESTAMP &#39;2020-01-03 00:00:00.000000&#39;</span>
</span><span id=__span-83-29><a id=__codelineno-83-29 name=__codelineno-83-29 href=#__codelineno-83-29></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span>
</span><span id=__span-83-30><a id=__codelineno-83-30 name=__codelineno-83-30 href=#__codelineno-83-30></a><span class=gp>... </span>    <span class=p>})</span>
</span><span id=__span-83-31><a id=__codelineno-83-31 name=__codelineno-83-31 href=#__codelineno-83-31></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-83-32><a id=__codelineno-83-32 name=__codelineno-83-32 href=#__codelineno-83-32></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-83-33><a id=__codelineno-83-33 name=__codelineno-83-33 href=#__codelineno-83-33></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-83-34><a id=__codelineno-83-34 name=__codelineno-83-34 href=#__codelineno-83-34></a><span class=go>Date                                              </span>
</span><span id=__span-83-35><a id=__codelineno-83-35 name=__codelineno-83-35 href=#__codelineno-83-35></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-83-36><a id=__codelineno-83-36 name=__codelineno-83-36 href=#__codelineno-83-36></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-83-37><a id=__codelineno-83-37 name=__codelineno-83-37 href=#__codelineno-83-37></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-83-38><a id=__codelineno-83-38 name=__codelineno-83-38 href=#__codelineno-83-38></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p>The same but using prepared statements:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-84-5><a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;BTC-USD&quot; </span>
</span><span id=__span-84-6><a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &gt;= $start AND &quot;Date&quot; &lt; $end</span>
</span><span id=__span-84-7><a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span><span class=p>,</span> 
</span><span id=__span-84-8><a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-84-9><a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a><span class=gp>... </span><span class=s2>            SELECT * FROM yf_data.&quot;ETH-USD&quot; </span>
</span><span id=__span-84-10><a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a><span class=gp>... </span><span class=s2>            WHERE &quot;Date&quot; &gt;= $start AND &quot;Date&quot; &lt; $end</span>
</span><span id=__span-84-11><a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span>
</span><span id=__span-84-12><a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=gp>... </span>    <span class=p>}),</span>
</span><span id=__span-84-13><a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-84-14><a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a><span class=gp>... </span>        <span class=n>start</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-01&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>(),</span>
</span><span id=__span-84-15><a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a><span class=gp>... </span>        <span class=n>end</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span><span id=__span-84-16><a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a><span class=gp>... </span>    <span class=p>)</span>
</span><span id=__span-84-17><a id=__codelineno-84-17 name=__codelineno-84-17 href=#__codelineno-84-17></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-84-18><a id=__codelineno-84-18 name=__codelineno-84-18 href=#__codelineno-84-18></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-84-19><a id=__codelineno-84-19 name=__codelineno-84-19 href=#__codelineno-84-19></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-84-20><a id=__codelineno-84-20 name=__codelineno-84-20 href=#__codelineno-84-20></a><span class=go>Date                                              </span>
</span><span id=__span-84-21><a id=__codelineno-84-21 name=__codelineno-84-21 href=#__codelineno-84-21></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-84-22><a id=__codelineno-84-22 name=__codelineno-84-22 href=#__codelineno-84-22></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-84-23><a id=__codelineno-84-23 name=__codelineno-84-23 href=#__codelineno-84-23></a>
</span><span id=__span-84-24><a id=__codelineno-84-24 name=__codelineno-84-24 href=#__codelineno-84-24></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>duckdb_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
</span><span id=__span-84-25><a id=__codelineno-84-25 name=__codelineno-84-25 href=#__codelineno-84-25></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-84-26><a id=__codelineno-84-26 name=__codelineno-84-26 href=#__codelineno-84-26></a><span class=gp>... </span>        <span class=n>start</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-03&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>(),</span>
</span><span id=__span-84-27><a id=__codelineno-84-27 name=__codelineno-84-27 href=#__codelineno-84-27></a><span class=gp>... </span>        <span class=n>end</span><span class=o>=</span><span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=p>(</span><span class=s2>&quot;2020-01-05&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>to_pydatetime</span><span class=p>()</span>
</span><span id=__span-84-28><a id=__codelineno-84-28 name=__codelineno-84-28 href=#__codelineno-84-28></a><span class=gp>... </span>    <span class=p>)</span>
</span><span id=__span-84-29><a id=__codelineno-84-29 name=__codelineno-84-29 href=#__codelineno-84-29></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-84-30><a id=__codelineno-84-30 name=__codelineno-84-30 href=#__codelineno-84-30></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-84-31><a id=__codelineno-84-31 name=__codelineno-84-31 href=#__codelineno-84-31></a><span class=go>Date                                              </span>
</span><span id=__span-84-32><a id=__codelineno-84-32 name=__codelineno-84-32 href=#__codelineno-84-32></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-84-33><a id=__codelineno-84-33 name=__codelineno-84-33 href=#__codelineno-84-33></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-84-34><a id=__codelineno-84-34 name=__codelineno-84-34 href=#__codelineno-84-34></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-84-35><a id=__codelineno-84-35 name=__codelineno-84-35 href=#__codelineno-84-35></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p>Similar to above but now filter based on the (dynamically generated) row number:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>vbt</span><span class=o>.</span><span class=n>DuckDBData</span><span class=o>.</span><span class=n>pull</span><span class=p>(</span>
</span><span id=__span-85-2><a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a><span class=gp>... </span>    <span class=p>[</span><span class=s2>&quot;BTC-USD&quot;</span><span class=p>,</span> <span class=s2>&quot;ETH-USD&quot;</span><span class=p>],</span> 
</span><span id=__span-85-3><a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=gp>... </span>    <span class=n>query</span><span class=o>=</span><span class=n>vbt</span><span class=o>.</span><span class=n>key_dict</span><span class=p>({</span>
</span><span id=__span-85-4><a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=gp>... </span>        <span class=s2>&quot;BTC-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-85-5><a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=gp>... </span><span class=s2>            SELECT * EXCLUDE (Row) FROM (</span>
</span><span id=__span-85-6><a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=gp>... </span><span class=s2>                SELECT row_number() OVER () AS &quot;Row&quot;, * FROM yf_data.&quot;BTC-USD&quot;</span>
</span><span id=__span-85-7><a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=gp>... </span><span class=s2>            )</span>
</span><span id=__span-85-8><a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=gp>... </span><span class=s2>            WHERE Row &gt;= $start_row AND Row &lt; $end_row</span>
</span><span id=__span-85-9><a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span><span class=p>,</span> 
</span><span id=__span-85-10><a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=gp>... </span>        <span class=s2>&quot;ETH-USD&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-85-11><a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=gp>... </span><span class=s2>            SELECT * EXCLUDE (Row) FROM (</span>
</span><span id=__span-85-12><a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=gp>... </span><span class=s2>                SELECT row_number() OVER () AS &quot;Row&quot;, * FROM yf_data.&quot;ETH-USD&quot;</span>
</span><span id=__span-85-13><a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=gp>... </span><span class=s2>            )</span>
</span><span id=__span-85-14><a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a><span class=gp>... </span><span class=s2>            WHERE Row &gt;= $start_row AND Row &lt; $end_row</span>
</span><span id=__span-85-15><a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a><span class=gp>... </span><span class=s2>        &quot;&quot;&quot;</span>
</span><span id=__span-85-16><a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a><span class=gp>... </span>    <span class=p>}),</span>
</span><span id=__span-85-17><a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a><span class=gp>... </span>    <span class=n>params</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>start_row</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>end_row</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-85-18><a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a><span class=gp>... </span><span class=p>)</span>
</span><span id=__span-85-19><a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-85-20><a id=__codelineno-85-20 name=__codelineno-85-20 href=#__codelineno-85-20></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-85-21><a id=__codelineno-85-21 name=__codelineno-85-21 href=#__codelineno-85-21></a><span class=go>Date                                              </span>
</span><span id=__span-85-22><a id=__codelineno-85-22 name=__codelineno-85-22 href=#__codelineno-85-22></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-85-23><a id=__codelineno-85-23 name=__codelineno-85-23 href=#__codelineno-85-23></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-85-24><a id=__codelineno-85-24 name=__codelineno-85-24 href=#__codelineno-85-24></a>
</span><span id=__span-85-25><a id=__codelineno-85-25 name=__codelineno-85-25 href=#__codelineno-85-25></a><span class=gp>&gt;&gt;&gt; </span><span class=n>duckdb_data</span> <span class=o>=</span> <span class=n>duckdb_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>params</span><span class=o>=</span><span class=nb>dict</span><span class=p>(</span><span class=n>start_row</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>end_row</span><span class=o>=</span><span class=mi>5</span><span class=p>))</span>
</span><span id=__span-85-26><a id=__codelineno-85-26 name=__codelineno-85-26 href=#__codelineno-85-26></a><span class=go>symbol                         BTC-USD     ETH-USD</span>
</span><span id=__span-85-27><a id=__codelineno-85-27 name=__codelineno-85-27 href=#__codelineno-85-27></a><span class=go>Date                                              </span>
</span><span id=__span-85-28><a id=__codelineno-85-28 name=__codelineno-85-28 href=#__codelineno-85-28></a><span class=go>2020-01-01 00:00:00+00:00  7200.174316  130.802002</span>
</span><span id=__span-85-29><a id=__codelineno-85-29 name=__codelineno-85-29 href=#__codelineno-85-29></a><span class=go>2020-01-02 00:00:00+00:00  6985.470215  127.410179</span>
</span><span id=__span-85-30><a id=__codelineno-85-30 name=__codelineno-85-30 href=#__codelineno-85-30></a><span class=go>2020-01-03 00:00:00+00:00  7344.884277  134.171707</span>
</span><span id=__span-85-31><a id=__codelineno-85-31 name=__codelineno-85-31 href=#__codelineno-85-31></a><span class=go>2020-01-04 00:00:00+00:00  7410.656738  135.069366</span>
</span></code></pre></div> <p><a class=md-button href=../../../assets/jupytext/documentation/data/local.py.txt target=blank_><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.14 7.5A2.86 2.86 0 0 1 22 10.36v3.78A2.86 2.86 0 0 1 19.14 17H12c0 .39.32.96.71.96H17v1.68a2.86 2.86 0 0 1-2.86 2.86H9.86A2.86 2.86 0 0 1 7 19.64v-3.75a2.85 2.85 0 0 1 2.86-2.85h5.25a2.85 2.85 0 0 0 2.85-2.86V7.5h1.18m-4.28 11.79c-.4 0-.72.3-.72.89 0 .59.32.71.72.71a.71.71 0 0 0 .71-.71c0-.59-.32-.89-.71-.89m-10-1.79A2.86 2.86 0 0 1 2 14.64v-3.78A2.86 2.86 0 0 1 4.86 8H12c0-.39-.32-.96-.71-.96H7V5.36A2.86 2.86 0 0 1 9.86 2.5h4.28A2.86 2.86 0 0 1 17 5.36v3.75a2.85 2.85 0 0 1-2.86 2.85H8.89a2.85 2.85 0 0 0-2.85 2.86v2.68H4.86M9.14 5.71c.4 0 .72-.3.72-.89 0-.59-.32-.71-.72-.71-.39 0-.71.12-.71.71s.32.89.71.89Z"/></svg></span> Python code</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: Data"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Data </div> </div> </a> <a href=../remote/index.html class="md-footer__link md-footer__link--next" aria-label="Next: Remote"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Remote </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2024 Oleg Polakow. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.linkedin.com/in/polakowo target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/polakowo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.prune", "navigation.path", "navigation.sections", "navigation.footer", "search.suggest", "search.share", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.8e8db93a.min.js></script> <script src=../../../assets/javascripts/extra.js></script> </body> 
<!-- Mirrored from vectorbt.pro/pvt_321460c7/documentation/data/local/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 05 Mar 2024 10:55:52 GMT -->
</html>