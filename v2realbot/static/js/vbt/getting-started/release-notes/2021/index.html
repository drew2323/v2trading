<!doctype html><html lang=en class=no-js> 
<!-- Mirrored from vectorbt.pro/pvt_54404668/getting-started/release-notes/2021/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 15:49:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="All notable changes introduced in 2021"><meta name=author content="Oleg Polakow"><link href=https://vectorbt.pro/getting-started/release-notes/2021/ rel=canonical><link href=../2022/index.html rel=prev><link href=../../../features/overview/index.html rel=next><link rel=icon href=../../../assets/logo/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.18+insiders-4.53.6"><title>Release notes for 2021 - VectorBT PRO</title><link rel=stylesheet href=../../../assets/stylesheets/main.d5b5f0fd.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/stylesheets/extra.css><link rel=stylesheet href=../../../assets/stylesheets/custom-light.css><link rel=stylesheet href=../../../assets/stylesheets/custom-dark.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-light.css><link rel=stylesheet href=../../../assets/stylesheets/pygments-dark.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-0C5VNYCFHL"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-0C5VNYCFHL",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-0C5VNYCFHL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script><meta name=robots content=noindex><meta property=og:title content="Release notes for 2021"><meta property=og:type content=website><meta content=https://vectorbt.pro/getting-started/release-notes/2021/ property=og:url><meta property=og:image:url content=https://vectorbt.pro/pvt_54404668/assets/logo/social-new.png><meta property=og:image:type content=image/png><meta property=og:description content="All notable changes introduced in 2021"><meta property=og:locale content=en-GB><link rel=apple-touch-icon sizes=180x180 href=../../../assets/logo/apple-touch-icon.png><link rel=icon type=image/svg+xml href=../../../assets/logo/favicon.svg><link rel=icon type=image/png sizes=32x32 href=../../../assets/logo/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../assets/logo/favicon-16x16.png><link rel=manifest href=../../../assets/logo/site.webmanifest><link rel=mask-icon href=../../../assets/logo/safari-pinned-tab.svg color=#1e1f22><link rel="shortcut icon" href=../../../assets/logo/favicon.ico><meta name=msapplication-TileColor content=#1e1f22><meta name=msapplication-config content=https://vectorbt.pro/pvt_54404668/assets/logo/browserconfig.xml><meta name=theme-color content=#1e1f22><link href=https://unpkg.com/aos@2.3.4/dist/aos.css rel=stylesheet><script src=https://unpkg.com/aos@2.3.4/dist/aos.js></script><link href=http://fonts.cdnfonts.com/css/uni-neue rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=preconnect href=https://fonts.googleapis.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin></head> <body dir=ltr data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#release-notes-for-2021 class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <i>New</i>: Smart Money Concepts, Hurst exponent, tasks, iterated decorator, and <a href=../../../features/index.html><strong>more</strong></a> <span class="twemoji announce-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m153.6 29.9 16-21.3c4-5.4 10.4-8.6 17.1-8.6C198.4 0 208 9.6 208 21.3v22.2c0 13.1 5.4 25.7 14.9 34.7l84.7 80.8c48.8 46.6 76.4 111.2 76.4 178.7C384 434 306 512 209.7 512H192C86 512 0 426 0 320v-3.8c0-48.8 19.4-95.6 53.9-130.1l3.5-3.5c4.2-4.2 10-6.6 16-6.6 12.5 0 22.6 10.1 22.6 22.6V288c0 35.3 28.7 64 64 64s64-28.7 64-64v-3.9c0-18-7.2-35.3-19.9-48l-38.6-38.6c-24-24-37.5-56.7-37.5-90.7 0-27.7 9-54.8 25.6-76.9z"/></svg></span> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <!-- Determine class according to configuration --> <!-- Header --> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <!-- Link to home --> <a href=../../../index.html title="VectorBT PRO" class="md-header__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../../assets/logo/logo.svg alt=logo class=logo> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <!-- Header title --> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VectorBT PRO <span class=md-version> v2024.6.19 </span> <span class=unlock-icon><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 64c-44.2 0-80 35.8-80 80v48h240c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16v-48C80 64.5 144.5 0 224 0c57.5 0 107 33.7 130.1 82.3 7.6 16 .8 35.1-15.2 42.6s-35.1.8-42.6-15.2C283.4 82.6 255.9 64 224 64zm32 320c17.7 0 32-14.3 32-32s-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32s14.3 32 32 32h64z"/></svg></span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Release notes for 2021 </span> </div> </div> </div> <!-- Color palette --> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=custom-dark data-md-color-primary=custom-dark data-md-color-accent=custom-dark aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=custom-light data-md-color-primary=custom-light data-md-color-accent=custom-light aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <!-- Site language selector --> <!-- Button to open search modal --> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <!-- Search interface --> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class=md-header__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../index.html class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../../features/overview/index.html class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../../tutorials/overview/index.html class=md-tabs__link> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../../documentation/overview/index.html class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=../../../api/index.html class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=../../../cookbook/overview/index.html class=md-tabs__link> Cookbook </a> </li> <li class=md-tabs__item> <a href=../../../terms/terms-of-use/index.html class=md-tabs__link> Terms </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../index.html title="VectorBT PRO" class="md-nav__button md-logo" aria-label="VectorBT PRO" data-md-component=logo> <img src=../../../assets/logo/logo.svg alt=logo class=logo> </a> VectorBT PRO </label> <div class=md-nav__source> <a href=https://github.com/polakowo/vectorbt.pro title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> vectorbt.pro </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../index.html class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-nav__item> <a href=../../installation/index.html class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3 checked> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex> <span class=md-ellipsis> Release notes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=true> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Release notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <span class=md-ellipsis> Latest </span> </a> </li> <li class=md-nav__item> <a href=../2023/index.html class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../2022/index.html class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 2021 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 2021 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#version-102-31-dec-2021 class=md-nav__link> <span class=md-ellipsis> Version 1.0.2 (31 Dec, 2021) </span> </a> </li> <li class=md-nav__item> <a href=#version-101-21-dec-2021 class=md-nav__link> <span class=md-ellipsis> Version 1.0.1 (21 Dec, 2021) </span> </a> </li> <li class=md-nav__item> <a href=#version-100-13-dec-2021 class=md-nav__link> <span class=md-ellipsis> Version 1.0.0 (13 Dec, 2021) </span> </a> <nav class=md-nav aria-label="Version 1.0.0 (13 Dec, 2021)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#execution class=md-nav__link> <span class=md-ellipsis> Execution </span> </a> </li> <li class=md-nav__item> <a href=#generic class=md-nav__link> <span class=md-ellipsis> Generic </span> </a> </li> <li class=md-nav__item> <a href=#broadcasting class=md-nav__link> <span class=md-ellipsis> Broadcasting </span> </a> </li> <li class=md-nav__item> <a href=#data class=md-nav__link> <span class=md-ellipsis> Data </span> </a> </li> <li class=md-nav__item> <a href=#portfolio class=md-nav__link> <span class=md-ellipsis> Portfolio </span> </a> </li> <li class=md-nav__item> <a href=#returns class=md-nav__link> <span class=md-ellipsis> Returns </span> </a> </li> <li class=md-nav__item> <a href=#caching class=md-nav__link> <span class=md-ellipsis> Caching </span> </a> </li> <li class=md-nav__item> <a href=#design class=md-nav__link> <span class=md-ellipsis> Design </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../features/overview/index.html class=md-nav__link> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../tutorials/overview/index.html class=md-nav__link> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../documentation/overview/index.html class=md-nav__link> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/index.html class=md-nav__link> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../cookbook/overview/index.html class=md-nav__link> <span class=md-ellipsis> Cookbook </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../terms/terms-of-use/index.html class=md-nav__link> <span class=md-ellipsis> Terms </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../../index.html class=md-path__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class=md-path__item> <a href=../index.html class=md-path__link> <span class=md-ellipsis> Release notes </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=release-notes-for-2021>Release notes for 2021<a class=headerlink href=#release-notes-for-2021 title="Permanent link">&para;</a></h1> <p>All notable changes in reverse chronological order.</p> <h2 id=version-102-31-dec-2021>Version 1.0.2 (31 Dec, 2021)<a class=headerlink href=#version-102-31-dec-2021 title="Permanent link">&para;</a></h2> <ul> <li>Added Alpaca data source (<a class="magiclink magiclink-github magiclink-issue" href=https://github.com/polakowo/vectorbt.pro/issues/31 title="GitHub Issue: polakowo/vectorbt.pro #31">#31</a>). In contrast to the open-source version, additionally allows passing a pre-configured REST object to the <a href=../../../api/data/custom/alpaca/index.html#vectorbtpro.data.custom.alpaca.AlpacaData.pull>AlpacaData.pull</a> method.</li> <li>Changed the default index field of <a href=../../../api/portfolio/trades/index.html#vectorbtpro.portfolio.trades.EntryTrades>EntryTrades</a> from <code>exit_idx</code> to <code>entry_idx</code></li> <li>Dropped JSON and implemented a custom formatting engine that represents objects in Python format. This perfectly aligns with the switch to dataclasses VBT has made. Here's a comparison of a wrapper being printed out by the open-source version and JSON, and VBT with the new engine:</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>ArrayWrapper(**Config({
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    &quot;index&quot;: &quot;&lt;RangeIndex at 0x1045815e8&gt; of shape (3,)&quot;,
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    &quot;columns&quot;: &quot;&lt;Int64Index at 0x1045815e8&gt; of shape (1,)&quot;,
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    &quot;ndim&quot;: 1,
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    &quot;freq&quot;: null,
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    &quot;column_only_select&quot;: null,
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    &quot;group_select&quot;: null,
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    &quot;grouped_ndim&quot;: null,
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    &quot;group_by&quot;: null,
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    &quot;allow_enable&quot;: true,
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    &quot;allow_disable&quot;: true,
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    &quot;allow_modify&quot;: true
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>}))
</span></code></pre></div> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>ArrayWrapper</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>index</span><span class=o>=&lt;</span><span class=n>RangeIndex</span> <span class=n>at</span> <span class=mh>0x1045815e8</span> <span class=n>of</span> <span class=n>shape</span> <span class=p>(</span><span class=mi>3</span><span class=p>,)</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>columns</span><span class=o>=&lt;</span><span class=n>Int64Index</span> <span class=n>at</span> <span class=mh>0x1045815e8</span> <span class=n>of</span> <span class=n>shape</span> <span class=p>(</span><span class=mi>1</span><span class=p>,)</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>ndim</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>column_only_select</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=n>group_select</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>grouped_ndim</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>grouper</span><span class=o>=</span><span class=n>Grouper</span><span class=p>(</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>        <span class=n>index</span><span class=o>=&lt;</span><span class=n>Int64Index</span> <span class=n>at</span> <span class=mh>0x1045815e8</span> <span class=n>of</span> <span class=n>shape</span> <span class=p>(</span><span class=mi>1</span><span class=p>,)</span><span class=o>&gt;</span><span class=p>,</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>        <span class=n>group_by</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>        <span class=n>allow_enable</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>        <span class=n>allow_disable</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>        <span class=n>allow_modify</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=p>)</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=p>)</span>
</span></code></pre></div> <h2 id=version-101-21-dec-2021>Version 1.0.1 (21 Dec, 2021)<a class=headerlink href=#version-101-21-dec-2021 title="Permanent link">&para;</a></h2> <ul> <li>Adapted the codebase to the new documentation format</li> <li>Upgraded the documentation website generator from pdoc3 to MkDocs (Material Insiders). API is being automatically converted to Markdown files by a modified version of pdoc3 that resides in a private repository of <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/polakowo title="GitHub User: polakowo">@polakowo</a>.</li> </ul> <h2 id=version-100-13-dec-2021>Version 1.0.0 (13 Dec, 2021)<a class=headerlink href=#version-100-13-dec-2021 title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This section briefly describes major changes made to the open-source version. For more details, see commits.</p> </div> <h3 id=execution>Execution<a class=headerlink href=#execution title="Permanent link">&para;</a></h3> <ul> <li>Parallelized most functions that take 2-dimensional arrays using <a href=https://numba.pydata.org/numba-doc/0.37.0/user/parallel.html#explicit-parallel-loops>Explicit Parallel Loops</a></li> <li>Built an infrastructure for chunking. Any Python function can be wrapped with the <a href=../../../api/utils/chunking/index.html#vectorbtpro.utils.chunking.chunked>@chunked</a> decorator, which returns a new function with the identical signature but capable of 1) splitting passed positional and keyword arguments into multiple chunks, 2) executing each chunk of arguments using the wrapped function, and 3) merging back the results. The rules by which the arguments are split and the results are merged must be explicitly provided using <code>arg_take_spec</code> and <code>merge_func</code> respectively. The chunk taking and merging specification is provided to most of the Numba-compiled functions that take 2-dimensional arrays. To only chunk functions by request, the decorator <a href=../../../api/registries/ch_registry/index.html#vectorbtpro.registries.ch_registry.register_chunkable>register_chunkable</a> was created, which leaves the Python function unwrapped and registers a so-called "setup" with all specifications by the global registry <a href=../../../api/registries/ch_registry/index.html#vectorbtpro.registries.ch_registry.ChunkableRegistry>ChunkableRegistry</a>. Additionally, there are multiple present engines for executing chunks: <a href=../../../api/utils/execution/index.html#vectorbtpro.utils.execution.SerialEngine>SerialEngine</a> (a simple queue), <a href=../../../api/utils/execution/index.html#vectorbtpro.utils.execution.DaskEngine>DaskEngine</a> (mainly for multithreading), and <a href=../../../api/utils/execution/index.html#vectorbtpro.utils.execution.RayEngine>RayEngine</a> (mainly for multiprocessing).</li> <li>Built an infrastructure for wrapping and running JIT-able functions. At the heart of it is the <a href=../../../api/registries/jit_registry/index.html#vectorbtpro.registries.jit_registry.register_jitted>register_jitted</a> decorator, which registers a Python function and the instructions on how to JIT compile it at the global registry <a href=../../../api/registries/jit_registry/index.html#vectorbtpro.registries.jit_registry.JITRegistry>JITRegistry</a>. The registry, once instructed, finds the function's setup and passes the function to a jitting class (aka "jitter") for wrapping. Preset jitters include <a href=../../../api/utils/jitting/index.html#vectorbtpro.utils.jitting.NumPyJitter>NumPyJitter</a> for NumPy implementations and <a href=../../../api/utils/jitting/index.html#vectorbtpro.utils.jitting.NumbaJitter>NumbaJitter</a> for Numba-compiled functions. The registry can also register tasks (by task id) and capture multiple jitter candidates for the same task. The user can then switch between different implementations by specifying <code>jitter</code>.</li> </ul> <h3 id=generic>Generic<a class=headerlink href=#generic title="Permanent link">&para;</a></h3> <ul> <li>Refactored many methods that take UDFs (such as <a href=../../../api/generic/accessors/index.html#vectorbtpro.generic.accessors.GenericAccessor.rolling_apply>GenericAccessor.rolling_apply</a>) by converting each into both a class (meta) and an instance (regular) method using <a href=../../../api/utils/decorators/index.html#vectorbtpro.utils.decorators.class_or_instancemethod>class_or_instancemethod</a>. If the method was called on an instance, its UDFs do not have to take any metadata apart from (a part of) the array, such as <code>apply_func_nb(window, *args)</code>. If the method was called on the class, it iterates over an abstract shape and its UDFs must take metadata of each iteration, which can be used to select a part of any custom array passed as a variable argument, such as <code>apply_func_nb(from_i, to_i, col, *args)</code>. Previously, UDFs had to accept both the metadata and the array, even if the metadata was not used.</li> <li>Most of the functions that take custom UDFs and variable arguments, such as <a href=../../../api/generic/accessors/index.html#vectorbtpro.generic.accessors.GenericAccessor.rolling_apply>GenericAccessor.rolling_apply</a>, received support for <a href=../../../api/utils/template/index.html >utils.templates</a>. The same goes for broadcasting named arguments - a practice initially introduced in <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio>Portfolio</a>.</li> <li>Made crossovers more resilient to NaN and moved them to <a href=../../../api/generic/accessors/index.html#vectorbtpro.generic.accessors.GenericAccessor.crossed_above>GenericAccessor.crossed_above</a> and <a href=../../../api/generic/accessors/index.html#vectorbtpro.generic.accessors.GenericAccessor.crossed_below>GenericAccessor.crossed_below</a></li> <li>Added <a href=../../../api/base/accessors/index.html#vectorbtpro.base.accessors.BaseAccessor.eval>BaseAccessor.eval</a>, which is similar to <code>pd.eval</code> but broadcasts inputs prior to evaluation and can switch between NumPy and NumExpr</li> <li>Improved conflict control in <a href=../../../api/records/mapped_array/index.html#vectorbtpro.records.mapped_array.MappedArray>MappedArray</a>. Multiple elements pointing to the same timestamp can be reduced using <a href=../../../api/records/mapped_array/index.html#vectorbtpro.records.mapped_array.MappedArray.reduce_segments>Mapped.reduce_segments</a>. They can also be safely converted to Pandas by repeating index.</li> <li>Made tolerance checks and values for Numba math functions such as <a href=../../../api/utils/math_/index.html#vectorbtpro.utils.math_.is_less_nb>is_less_nb</a> globally adjustable. Disabling tolerance checks increases performance but can lead to round-off errors.</li> <li>Implemented context managers for profiling time (<a href=../../../api/utils/profiling/index.html#vectorbtpro.utils.profiling.Timer>Timer</a>) and memory (<a href=../../../api/utils/profiling/index.html#vectorbtpro.utils.profiling.MemTracer>MemTracer</a>)</li> <li>Added support for <a href=https://plotly.github.io/plotly.py-docs/generated/plotly.graph_objects.Scattergl.html>Scattergl</a> for plotting big datasets with increased speed. Used by default on more than 10,000 points.</li> </ul> <h3 id=broadcasting>Broadcasting<a class=headerlink href=#broadcasting title="Permanent link">&para;</a></h3> <ul> <li>Refactored broadcasting mechanism inside of <a href=../../../api/base/reshaping/index.html#vectorbtpro.base.reshaping.broadcast>broadcast</a>. Added <a href=../../../api/base/reshaping/index.html#vectorbtpro.base.reshaping.BCO>BCO</a> dataclass, whose instances can be passed to change broadcasting behavior for individual objects. Introduced a possibility to build a Cartesian product of scalar-like parameters and other broadcastable objects (both using <code>BCO</code> and <code>pd.Index</code> as a shortcut) using operation trees and <a href=../../../api/utils/params/index.html#vectorbtpro.utils.params.generate_param_combs>generate_param_combs</a>. Additionally, a random subset of parameter combinations can be automatically selected to emulate random search. <a href=../../../api/base/reshaping/index.html#vectorbtpro.base.reshaping.Default>Default</a> and <a href=../../../api/base/reshaping/index.html#vectorbtpro.base.reshaping.Ref>Ref</a> and the surrounding logic were moved to this module.</li> </ul> <h3 id=data>Data<a class=headerlink href=#data title="Permanent link">&para;</a></h3> <ul> <li>Implemented data classes for working with local files: <a href=../../../api/data/custom/csv/index.html#vectorbtpro.data.custom.csv.CSVData>CSVData</a> for CSV files and <a href=../../../api/data/custom/hdf/index.html#vectorbtpro.data.custom.hdf.HDFData>HDFData</a> for HDF files and keys. Both support efficient updates without having to read the entire file. To make this possible, symbol fetching methods can return a state, which are preserved for the use in data updates.</li> <li>Refactored <a href=../../../api/data/custom/random/index.html#vectorbtpro.data.custom.random.RandomData>RandomData</a> and <a href=../../../api/data/custom/gbm/index.html#vectorbtpro.data.custom.gbm.GBMData>GBMData</a></li> <li>Better handling of missing data. Made <a href=../../../api/data/custom/binance/index.html#vectorbtpro.data.custom.binance.BinanceData>BinanceData</a> and <a href=../../../api/data/custom/ccxt/index.html#vectorbtpro.data.custom.ccxt.CCXTData>CCXTData</a> more error-resilient: in case of connectivity issues, data won't be lost but returned, so it can be updated later.</li> <li>Moved progress bar logic into a separate module to standardize handling of all progress bars across vectorbt. Added progress bar for symbols in <a href=../../../api/data/base/index.html#vectorbtpro.data.base.Data>Data</a>.</li> <li>Renamed <code>download</code> to <code>fetch</code> everywhere since not all data sources reside online</li> </ul> <h3 id=portfolio>Portfolio<a class=headerlink href=#portfolio title="Permanent link">&para;</a></h3> <ul> <li>Added a new simulation method <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.from_def_order_func>Portfolio.from_def_order_func</a> that combines <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.from_orders>Portfolio.from_orders</a> and <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.from_order_func>Portfolio.from_order_func</a>. It uses a custom order function to transform array-like objects into orders and allows attaching and overriding user-defined callbacks to change and monitor simulation.</li> <li>Added support for in-output simulation objects. Instead of creating various arrays during the simulation, they can be manually created by the user (or automatically created and broadcasted by utilizing templates) outside the simulation, passed as regular arguments, and modified in-place. They are then conveniently stored in <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.in_outputs>Portfolio.in_outputs</a> for further analysis. In addition, <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio>Portfolio</a> can detect when an in-output array shadows a regular portfolio attribute and takes this array instead of reconstructing the attribute, which is the new way to efficiently precompute various artifacts such as returns.</li> <li>Implemented shortcut properties for <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio>Portfolio</a> and <a href=../../../api/records/base/index.html#vectorbtpro.records.base.Records>Records</a>, which are cacheable properties that call their respective getter methods with default arguments. This enables dot notation such as <code>pf.trades.winning.pnl.count()</code>, where <code>trades</code> and <code>winning</code> are cached properties that call the <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.get_trades>Portfolio.get_trades</a> and <a href=../../../api/portfolio/trades/index.html#vectorbtpro.portfolio.trades.Trades.get_winning>Trades.get_winning</a> method respectively. In <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio>Portfolio</a>, shortcut properties can also utilize in-outputs.</li> <li>Made various portfolio attributes (such as <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.get_returns>Portfolio.get_returns</a>) flexible by converting each into both a class and an instance method using <a href=../../../api/utils/decorators/index.html#vectorbtpro.utils.decorators.class_or_instancemethod>class_or_instancemethod</a>. If the method was called on the class, the operation is run using the passed arguments only. If the method was called on an instance, the operation is run on the data from the instance, which can be overridden by setting any of the arguments.</li> <li>Introduced extra validation of arguments passed to simulation. For instance, passing arrays that look boolean but have object data type raises an (informative) error.</li> <li>Not only <a href=../../../api/portfolio/base/index.html#vectorbtpro.portfolio.base.Portfolio.from_signals>Portfolio.from_signals</a> but all the simulation functions accept <code>open</code>, <code>high</code>, and <code>low</code> (all optional). This enables various interesting automatisms: order price of <code>-np.inf</code> gets automatically replaced by the opening price and <code>np.inf</code> (default everywhere) by the closing price. The highest and lowest prices are being used for bar boundary checks.</li> <li>Added the following arguments:<ul> <li><code>cash_deposits</code>: cash deposits/withdrawals at the beginning of each time step</li> <li><code>cash_earnings</code>: cash earnings (independent of position) at the end of each time step</li> <li><code>cash_dividends</code>: dividends (relative to position) at the end of each time step</li> <li><code>init_position</code>: the initial position</li> <li><code>stop_signal_priority</code>: which signal to prioritize: stop or user?</li> </ul> </li> <li>Allowed price of <code>0</code>. This allows for P&amp;L-effective insertion and removal of cash and assets. For instance, to periodically charge a fee, one can create a range of orders with zero price and non-zero fees. They are visible as regular trades and appear in records.</li> <li>Allowed <code>max_order_records=0</code> and <code>max_log_records=0</code> to disable filling records - for example, if the performance is assessed during the simulation and there is no need to save this data for post-simulation analysis. Also, for parallelization reasons, both of the numbers refer to the maximal number of records <strong>per column</strong> rather than per entire input.</li> <li>Allowed negative fees (-0.05 means that you earn 0.05% per trade instead of paying a fee)</li> <li>Converted simulation outputs to named tuples of type <a href=../../../api/portfolio/enums/index.html#vectorbtpro.portfolio.enums.SimulationOutput>SimulationOutput</a></li> </ul> <h3 id=returns>Returns<a class=headerlink href=#returns title="Permanent link">&para;</a></h3> <ul> <li>Updated metrics based on returns to take into account datetime-like properties. For instance, having two data points with the timestamps "2020-01-01" and "2021-01-01" are considered as a full year rather than 2 days as it was previously. See <a href=../../../api/base/wrapping/index.html#vectorbtpro.base.wrapping.ArrayWrapper.dt_period>ArrayWrapper.dt_period</a>.</li> <li>Rolling metrics such as <a href=../../../api/returns/accessors/index.html#vectorbtpro.returns.accessors.ReturnsAccessor.rolling_sortino_ratio>ReturnsAccessor.rolling_sortino_ratio</a> were made much faster by refactoring their Numba-compiled functions</li> </ul> <h3 id=caching>Caching<a class=headerlink href=#caching title="Permanent link">&para;</a></h3> <ul> <li>Completely refactored caching. Previously, caching was managed by specialized property and method decorators. Once the user invoked such a property or method, it checked for global settings to see whether it's blacklisted, and stored the cache on the instance it's bound to. Cached attributes weren't easily discoverable, which led to less transparency. In the new approach, caching is being managed by a global registry <a href=../../../api/registries/ca_registry/index.html#vectorbtpro.registries.ca_registry.CacheableRegistry>CacheableRegistry</a>, which registers so-called "setups" for all cacheable objects, such as functions, properties, methods, instances, and even classes. They all build a well-connected hierarchy that can propagate actions. For instance, disabling caching in a class setup of type <a href=../../../api/registries/ca_registry/index.html#vectorbtpro.registries.ca_registry.CAClassSetup>CAClassSetup</a> will disable caching across all of its child setups, down to <a href=../../../api/registries/ca_registry/index.html#vectorbtpro.registries.ca_registry.CARunSetup>CARunSetup</a>, which takes care of actual caching. Cacheable decorators such as <a href=../../../api/utils/decorators/index.html#vectorbtpro.utils.decorators.cacheable>cacheable</a> communicate with the registry and do all actions on their particular setup. The user can easily find the setup for any (cacheable) object to, for example, display various caching statistics.</li> <li>Removed caching of attributes that return DataFrames (apart from a few exceptions) to avoid wasting memory</li> </ul> <h3 id=design>Design<a class=headerlink href=#design title="Permanent link">&para;</a></h3> <ul> <li>Restructured the project and reformatted the codebase. Most notably, Numba-compiled simulation functions were distributed across multiple modules.</li> <li>Some previously required packages such as Plotly and Dill were made optional to make the core of vectorbt even more lightweight. Optional packages are tracked in <a href=../../../api/utils/opt_packages/index.html >utils.opt_packages</a> and whenever a code that requires a package is accessed but the package is missing, an error is raised with instructions on how to install it.</li> <li>Converted minimalistic classes to dataclasses using <a href=https://www.attrs.org/en/stable/ >attrs</a></li> <li>Refactored <a href=../../../api/utils/config/index.html#vectorbtpro.utils.config.Config>Config</a>, which shrank initialization time of various vectorbt objects by 25%. Config respects Liskov substitution principle and similar to a dict, can be initialized by using both positional and keyword arguments. Also, created read-only and hybrid preset classes to unify configs created across vectorbt.</li> <li>Removed expected key checks, which makes subclassing vectorbt classes easier but removes dynamic checks of keyword arguments passed to the initializer (which is an overkill anyway)</li> <li>Accessors were made cached by default (which can be changed in the settings) to avoid repeated initialization, and all options for changing data in-place were removed</li> <li>Made <a href=../../../api/_settings/index.html >_settings</a> more modular and better embeddable into documentation. Additionally, upon import, vectorbt looks for an environment variable that contains the path to a settings file and updates/replaces the current settings in-place.</li> <li>Created and set up a private repository <img alt= class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f387.svg title=:sparkler:></li> </ul> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../2022/index.html class="md-footer__link md-footer__link--prev" aria-label="Previous: 2022"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> 2022 </div> </div> </a> <a href=../../../features/overview/index.html class="md-footer__link md-footer__link--next" aria-label="Next: Overview"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Overview </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2024 Oleg Polakow. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.linkedin.com/in/polakowo target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/polakowo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.instant", "navigation.instant.progress", "navigation.top", "navigation.prune", "navigation.path", "navigation.sections", "navigation.footer", "search.suggest", "search.share", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.ede584c9.min.js></script> <script src=../../../assets/scripts/extra.js></script> </body> 
<!-- Mirrored from vectorbt.pro/pvt_54404668/getting-started/release-notes/2021/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 15:49:14 GMT -->
</html>